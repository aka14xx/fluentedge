/*! For license information please see helpers.app.bundle.js.LICENSE.txt */
(self.webpackChunksparrow=self.webpackChunksparrow||[]).push([[214],{"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/createClass.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.A)(o.key),o)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/createSuper.js":(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{A:()=>i});var o=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/typeof.js");function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,o.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/defineProperty.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function o(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/extends.js":(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/inherits.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.A)(e,t)}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/objectSpread2.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function o(e,t){if(null==e)return{};var r,o,i=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||(0,n.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js":(e,t,r)=>{"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js"),o=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function i(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/typeof.js");function o(e){var t=function(e){if("object"!==(0,n.A)(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==(0,n.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,n.A)(t)?t:String(t)}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/typeof.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function o(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js":(e,t,r)=>{},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_private_field_get.js":(e,t,r)=>{"use strict";r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js")},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_private_field_init.js":(e,t,r)=>{"use strict";function n(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}r.d(t,{c:()=>n})},"./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_private_field_set.js":(e,t,r)=>{"use strict";r("./node_modules/@sparrowengg/twigs-react/dist/es/node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js")},"./src/components/classic_form/helpers/componentHelpers.js":(e,t,r)=>{"use strict";r.d(t,{C:()=>n,m:()=>o});var n=function(){return!!document.getElementById("fake-scroll-container")&&(document.getElementById("fake-scroll-container").className.includes("animateIn")||document.getElementById("fake-scroll-container").className.includes("animateOut"))},o=function(){document.getElementById("next_button")&&document.getElementById("next_button").focus()}},"./src/components/classic_form/helpers/doResizeIframe.js":(e,t,r)=>{"use strict";r.d(t,{J:()=>l,c:()=>c});var n=r("./src/utils/widget/Constants.js"),o=r("./src/helpers/eui/MobileSdk.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];requestAnimationFrame((function(){var r,i,a=t?".ss-fp-section__inner-frame":".ss_cl_survey_qstn_item",u=document.querySelector(a);if(u){var c="miniCard"===(null==e?void 0:e.mode),l=c?20:30,p={hasBanner:!c&&(null==e||null===(r=e.bannerImage)||void 0===r?void 0:r.enabled),hasAvatar:null==e||null===(i=e.avatar)||void 0===i?void 0:i.enabled,hasFooter:!1===(null==e?void 0:e.hideBranding),hasCloseButton:c&&(null==e?void 0:e.closeButton),hasValidationError:c&&(null==e?void 0:e.validationError)},f=u.scrollHeight||250;p.hasFooter&&(f+=l),p.hasBanner&&(f+=300),p.hasAvatar&&(f+=72),p.hasCloseButton&&(f+=40);var d=0;c&&(d=p.hasAvatar||p.hasCloseButton?24:40,p.hasValidationError&&(d+=8),f+=d);var y=s({height:f},c&&{questionHeight:u.scrollHeight+(p.hasFooter&&(p.hasAvatar||p.hasCloseButton)?l:0)+d});(0,o.JK)({currentQuestionSize:{height:f}}),(0,o.fz)(n.messageTypes.spotCheckData,{currentQuestionSize:{height:f}}),parent.postMessage(s(s({type:"resizeWindow"},c?{hasSpotchecksAvatar:p.hasAvatar,hasSpotchecksFooter:p.hasFooter,hasSpotchecksCloseButton:p.hasCloseButton,mode:"miniCard"}:{hasSpotchecksBanner:p.hasBanner,hasSpotchecksAvatar:p.hasAvatar}),{},{size:y}),"*")}}))},l=function(e){var t=e.spotCheckAppearance,r=e.isValidationError;setTimeout((function(){c(s(s({},t),{},{isValidationError:r}))}),r?350:0)}},"./src/components/classic_form/helpers/doSlideInFrame.js":(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var n=r("./src/helpers/eui/MobileSdk.js"),o=function(){try{parent.postMessage({type:"slideInFrame",mounted:!0},"*"),(0,n.fz)("slideInFrame",{mounted:!0})}catch(e){console.error("Error in doSlideInFrame:",e)}}},"./src/components/classic_form/helpers/feedback.js":(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r("./node_modules/mobile-detect/mobile-detect.js"),o="iOS"===new(r.n(n)())(window.navigator.userAgent).os(),i=function(e){if(e){var t=e.querySelector(".ss-nps-feedback__textarea");null==t||t.focus(),o&&(null==t||t.scrollIntoView({block:"nearest",behavior:"smooth"}))}}},"./src/components/classic_form/types/GaborGranger/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{jb:()=>o,Vo:()=>n,Jp:()=>i,DX:()=>g,jp:()=>v,DC:()=>u});var n=function(e,t){return e[0],"Auto"===t?e.at(Math.floor(e.length/2)):e.find((function(e){return Number(e.txt)===Number(t)}))},o=function(e,t){var r=Object.keys(e).pop();return t.find((function(t){return t.collection_id===e[r].collection_id}))},i=function(e,t){var r=1;return Object.keys(t).length&&(r=Object.keys(t).find((function(r){return t[r].collection_id===e.collection_id}))),parseInt(r)},a=r("./src/components/classic_form/types/GaborGranger/constants/index.js");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t,r=e.answers,n=e.steps,o=function(e){if(Array.isArray(e))return s(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=c({answers:r,steps:n});return Object.values(r).forEach((function(e){var t=n.find((function(t){return t.collection_id===e.collection_id}));o=e.preferenceValue===a.V_?n.filter((function(e){return Number(e.txt)>Number(t.txt)})):n.filter((function(e){return Number(e.txt)<Number(t.txt)}))})),o=o.filter((function(e){return!i.has(e.collection_id)}))},c=function(e){var t=e.answers,r=e.steps,n=new Set([]);return Object.values(t).map((function(e){var t=r.find((function(t){return t.collection_id===e.collection_id}));e.preferenceValue===a.V_?r.filter((function(e){return Number(e.txt)<=Number(t.txt)})).map((function(e){return n.add(e.collection_id)})):r.filter((function(e){return Number(e.txt)>=Number(t.txt)})).map((function(e){return n.add(e.collection_id)}))})),n};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t=e.price,r=e.answers,n=e.currStep,o=e.preferenceValue,i=t.collection_id,a=t.answer_multiple_id,s=t.choice_id;return y(y({},h({answers:r,currStep:n,preferenceValue:o})),{},m({},n,{collection_id:i,answer_multiple_id:a,choice_id:s,preferenceValue:o}))},h=function(e){var t=e.answers,r=e.currStep,n=e.preferenceValue,o=t;if(t[r]&&null!==t[r].preferenceValue&&t[r].preferenceValue!==n){var i=function(e){var t=e.answers,r=e.currStep;return Object.entries(t).filter((function(e){var t=p(e,1)[0];return Number(t)<=r})).reduce((function(e,t){var r=p(t,2),n=r[0],o=r[1];return e[n]=o,e}),{})}({answers:t,currStep:r});return i}return o},b=r("./server/commonConstants/marketResearch.js").MARKET_RESEARCH_TYPES.GaborGranger,g=function(e){var t=e.answers,r=e.currStep,n=e.steps,o=e.order,i=t[r],s=null==i?void 0:i.preferenceValue;if(s===a.V_){var c=n.findIndex((function(e){return e.collection_id===i.collection_id})),l=u({answers:t,steps:n});if(c+1<n.length&&l.length>0)return o===b.order.RANDOM.name?l[Math.floor(l.length/2)]:l[0]}if(s===a.A8){var p=n.findIndex((function(e){return e.collection_id===i.collection_id})),f=u({answers:t,steps:n});if(p-1>=0&&f.length>0)return o===b.order.RANDOM.name?f[Math.floor(f.length/2)]:f[f.length-1]}return{}}},"./src/components/classic_form/types/GroupRank/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{CJ:()=>p,JJ:()=>h,Oc:()=>d,X3:()=>y,Zl:()=>f,hZ:()=>v,t:()=>m});var n=r("./src/helpers/commonHelpers.js"),o=r("./src/components/classic_form/types/GroupRank/validators/index.js"),i=r("./src/components/classic_form/types/GroupRank/stateMeta/index.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var p=function(e){return Array.isArray(e)?e.length:e},f=function(e,t,r,a){var s,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],f=a.canShuffle,d=a.canRepeatChoice,y=(s=t,Object.values(s).find((function(e){return e.properties.data.unGroupedCollection})));if(!y)throw new Error("No Default Collection Available to group un-grouped choices");if((0,n.RI)(e)){var m=t.reduce((function(e,t){return t.id!==y.id&&(e[t.id]=[]),e}),{}),v=r.map((function(e){return e.id}));return c(c(c({},i.n.UN_GROUPED,{questionId:y.id,choices:f?(0,n.R3)(v):v}),i.n.GROUPED,m),"isValid",p.every((function(e){return e([])})))}var b={};t.forEach((function(e){e.id!==y.id&&(b[e.id]=[])}));var g=y.id,_=(e[g],function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[g].map(l)));for(var w in b=u(u({},b),_))Array.isArray(b[w])||delete b[w];var O=r.map((function(e){return e.id})),j=O;if(!d){var E=new Set(h(Object.values(b)));j=O.filter((function(e){return!E.has(e)}))}return c(c(c({},i.n.UN_GROUPED,{questionId:y.id,choices:f?(0,n.R3)(j):j}),i.n.GROUPED,u({},b)),"isValid",(0,o.cw)(b,p))},d=function(e){var t=e.groupRankState,r=e.fromParent,n=e.toParent,i=e.choiceToMove,a=e.insertIndex,s=e.questionMetaData.range;return(0,o.$s)(r,n,i)&&(0,o.ws)(t,r,n,s.max)&&(0,o.et)(t,n,i,a)&&!(0,o.bE)({groupRankState:t,choice:i,fromParent:r,toParent:n})},y=function(e){var t=e.groupRankState,r=e.fromParent,n=e.choiceToMove,o=e.insertIndex,i=e.questionMetaData,a=e.groupedChoiceKeys,s=void 0===a?[]:a,u=s.indexOf(r);return u=-1===u?0:u+1,s.slice(u).find((function(e){return d({groupRankState:t,fromParent:r,toParent:e,choiceToMove:n,insertIndex:o,questionMetaData:i})}))},m=function(e){var t=e.groupRankState,r=e.fromParent,n=e.choiceToMove,o=e.insertIndex,i=e.questionMetaData,a=e.groupedChoiceKeys,s=void 0===a?[]:a,u=s.indexOf(r);return!(u<=0)&&s.slice(0,u).reverse().find((function(e){return d({groupRankState:t,fromParent:r,toParent:e,choiceToMove:n,insertIndex:o,questionMetaData:i})}))},v=function(e,t,r){return(0,o.qk)(t,r,e)},h=function(e){return Array.isArray(e)?Array.prototype.flat?e.flat():[].concat.apply([],e):e}},"./src/components/classic_form/types/MaxDiff/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{DJ:()=>s,hj:()=>a,jv:()=>i,kE:()=>u});var n=r("./server/commonConstants/marketResearch.js"),o=r("./node_modules/lodash/lodash.js"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(0,o.isEmpty)(t)&&(t[1]===e||t[-1]===e)},a=function(e){var t=n.MARKET_RESEARCH_TYPES.MaxDiff.selectionStyle,r=t.RADIO,o=t.THUMBS,i=t.CHECKBOX;switch(e){case r.name:return"ss-maxdiff__radio-choice";case o.name:return"ss-maxdiff__thumbs-choice";case i.name:return"ss-maxdiff__checkbox-choice";default:return""}},s=function(e,t,r){for(var n=1;n<=t;n++){var o,i,a,s,u,c,l,p,f=!e[n]||!(null!==(o=e[n])&&void 0!==o&&o.selected),d=n===t,y=r&&!(null!==(i=e[n])&&void 0!==i&&null!==(a=i.selected)&&void 0!==a&&a[0]),m=(null===(s=e[n])||void 0===s?void 0:s.selected)&&(!(null!==(u=e[n])&&void 0!==u&&null!==(c=u.selected)&&void 0!==c&&c[1])||!(null!==(l=e[n])&&void 0!==l&&null!==(p=l.selected)&&void 0!==p&&p[-1])||y);if(f||d||m)return n}return 1},u=function(e){var t,r,n,o,i=e.answers,a=e.currStep,s=e.left,u=e.right,c=null===(t=i[a])||void 0===t||null===(r=t.selected)||void 0===r?void 0:r[1],l=null===(n=i[a])||void 0===n||null===(o=n.selected)||void 0===o?void 0:o[-1];return c&&!l?u:!c&&l?s:""}},"./src/components/classic_form/types/VanWestendorp/TypeValue/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{s:()=>n,e:()=>p});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return""===e||!e.startsWith("-")&&(t?/^\d*\.?\d{0,2}$/.test(e):/^\d*$/.test(e))},o=r("./src/components/classic_form/types/VanWestendorp/constants/index.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=e.answers,r=e.min,n=e.max,o=e.setErrorObject,i=e.order,a=d(t);return!(!y(a,o)||!f(a,r,n,o)||!m(a,i,o)||(o((function(e){return c(c({},e),{},{hasError:!1,keys:new Set,message:""})})),0))},f=function(e,t,r,n){for(var o,i=function(){var o,i,l=u[s];if((null===(o=e[l])||void 0===o?void 0:o.value)<t||(null===(i=e[l])||void 0===i?void 0:i.value)>r)return n((function(e){return c(c({},e),{},{hasError:!0,keys:new Set([].concat(a(e.keys),[l])),message:"Answer ".concat(l," must be between ").concat(t," and ").concat(r)})})),{v:!1}},s=0,u=[1,2,3,4];s<u.length;s++)if(o=i())return o.v;return!0},d=function(e){return Object.keys(e).reduce((function(t,r){return t[r]=c(c({},e[r]),{},{value:Number(e[r].value)}),t}),{})},y=function(e,t){return!(Object.keys(e).length<4&&(t({hasError:!0,keys:new Set([]),message:"Please answer all questions"}),1))},m=function(e,t,r){for(var n=[1,2,3,4],i=!0,s=function(){var s,l,p,f,d=n[u],y=n[u+1];t===o.W.Expensive?(null===(s=e[d])||void 0===s?void 0:s.value)<(null===(l=e[y])||void 0===l?void 0:l.value)&&(r((function(e){return c(c({},e),{},{hasError:!0,keys:new Set([].concat(a(e.keys),[y])),message:"Answer ".concat(y," must be less than Answer ").concat(d)})})),i=!1):(null===(p=e[d])||void 0===p?void 0:p.value)>(null===(f=e[y])||void 0===f?void 0:f.value)&&(r((function(e){return c(c({},e),{},{hasError:!0,keys:new Set([].concat(a(e.keys),[y])),message:"Answer ".concat(y," must be greater than Answer ").concat(d)})})),i=!1)},u=0;u<n.length-1;u++)s();return i}},"./src/components/classic_form/types/VanWestendorp/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{V:()=>f});var n=r("./src/components/classic_form/types/VanWestendorp/constants/index.js"),o=r("./node_modules/lodash/cloneDeep.js"),i=r.n(o),a=r("./node_modules/lodash/isEmpty.js"),s=r.n(a);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.value,r=e.order,o=e.choice,i=e.currStep,a=e.answers,s={};switch(e.responseMethod){case n.D.Slider:s=y({value:t,order:r,currStep:i,answers:a});break;case n.D.TypeValue:s=d({value:t,choice:o,currStep:i,answers:a})}return{skipped:!1,data:s,isInvalid:!1}},d=function(e){var t,r=e.value,n=e.choice,o=e.currStep,i=e.answers,a=n.collection_id,s=n.choice_id,u=null===(t=i[o])||void 0===t?void 0:t.answer_multiple_id;return l(l({},i),{},p({},o,l(l({},u&&{answer_multiple_id:u}),{},{collection_id:a,choice_id:s,value:r})))},y=function(e){var t=e.value,r=e.order,o=e.currStep,i=e.answers;return r===n.W.Cheap?m(t,o,i):v(t,o,i)},m=function(e,t,r){var n,o,a=s()(r[t])||(null===(n=r[t])||void 0===n?void 0:n.value)<e,u=(null===(o=r[t])||void 0===o?void 0:o.value)>e;if(a){for(var c=i()(r),p=t;p<=4;p++){var f,d,y,m,v,h=null===(f=r[p])||void 0===f?void 0:f.answer_multiple_id;(null===(d=r[p])||void 0===d||!d.value||(null===(y=r[p])||void 0===y?void 0:y.value)<=e)&&(c[p]=l(l({},h&&{answer_multiple_id:h}),{},{collection_id:null===(m=r[p])||void 0===m?void 0:m.collection_id,choice_id:null===(v=r[p])||void 0===v?void 0:v.choice_id,value:e}))}return c}if(u){for(var b=i()(r),g=t;g>=0;g--){var _,w,O,j,E=null===(_=r[g])||void 0===_?void 0:_.answer_multiple_id;(null===(w=r[g])||void 0===w?void 0:w.value)>=e&&(b[g]=l(l({},E&&{answer_multiple_id:E}),{},{collection_id:null===(O=r[g])||void 0===O?void 0:O.collection_id,choice_id:null===(j=r[g])||void 0===j?void 0:j.choice_id,value:e}))}return b}},v=function(e,t,r){var n,o,a=s()(r[t])||(null===(n=r[t])||void 0===n?void 0:n.value)<e,u=(null===(o=r[t])||void 0===o?void 0:o.value)>e;if(a){for(var c=i()(r),p=t;p>=1;p--){var f,d,y,m,v,h=null===(f=r[p])||void 0===f?void 0:f.answer_multiple_id;(null===(d=r[p])||void 0===d||!d.value||(null===(y=r[p])||void 0===y?void 0:y.value)<=e)&&(c[p]=l(l({},h&&{answer_multiple_id:h}),{},{collection_id:null===(m=r[p])||void 0===m?void 0:m.collection_id,choice_id:null===(v=r[p])||void 0===v?void 0:v.choice_id,value:e}))}return c}if(u){for(var b=i()(r),g=t;g<=4;g++){var _,w,O,j,E=null===(_=r[g])||void 0===_?void 0:_.answer_multiple_id;(null===(w=r[g])||void 0===w?void 0:w.value)>=e&&(b[g]=l(l({},E&&{answer_multiple_id:E}),{},{collection_id:null===(O=r[g])||void 0===O?void 0:O.collection_id,choice_id:null===(j=r[g])||void 0===j?void 0:j.choice_id,value:e}))}return b}}},"./src/components/commons/Sliders/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(t){if(13===t.keyCode||32===t.keyCode)return e.apply(void 0,r)}}},"./src/helpers/Branding.js":(e,t,r)=>{"use strict";r.d(t,{WK:()=>s,gf:()=>a,ni:()=>i});var n=r("./src/constants/social.js"),o=r("./surveysparrow-billing/server/commonConstants/analytics.js");function i(e,t){var r,i="".concat(n.p,"?company=").concat(e.companyName,"&").concat(o.surveySignupUTM);return e&&e.branding&&(r=e.branding.type)===t.affliate&&(i=e.branding.link),{brandingType:r,brandingLink:i}}function a(e,t,r){var i,a,s="".concat(n.p,"?company=").concat(e.companyName,"&").concat(o.surveySignupUTM);if(t&&t.properties&&t.properties.branding)(a=t.properties.branding.type)===r.affliate&&(s=t.properties.branding.link);else if(null!=e&&null!==(i=e.branding)&&void 0!==i&&i.isAllSurvey){var u,c;(a=null==e||null===(u=e.branding)||void 0===u?void 0:u.type)===r.affliate&&(s=null==e||null===(c=e.branding)||void 0===c?void 0:c.link)}return{brandingType:a,brandingLink:s}}function s(e,t,r){var n,o=!0;return e.branding.type&&e.branding.type===t.brandingOptions.removeBadge&&e.features.includes(null==r||null===(n=r.SURVEYSPARROW_BRANDING)||void 0===n?void 0:n.name)&&(o=!1),o}},"./src/helpers/Builder.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r("./src/helpers/i18n/index.js"),o=r("./server/commonUtils/survey/restrictions.js"),i=r("./src/utils/widget/Constants.js"),a=(r("./src/histories/admin.js"),r("./node_modules/react-confirm-alert/lib/index.js"),r("./node_modules/lodash/lodash.js")),s=r.n(a);var u=r("./surveysparrow-billing/server/commonConstants/billing.js"),c=r.n(u),l=r("./src/helpers/survey.js");function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const g={yesNoLabels:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t?n.F2.t("builder.yes_no.yes"):"",o=t?n.F2.t("builder.yes_no.no"):"";return e&&e.properties&&e.properties.data&&(e.properties.data.yes&&e.properties.data.yes.trim()&&(r=n.F2.t(e.properties.data.yes)),e.properties.data.no&&e.properties.data.no.trim()&&(o=n.F2.t(e.properties.data.no))),{yesLabel:r,noLabel:o}},paymentRequiredTag:function(e,t,r,n,i,u){var l=null;(function(e,t,r,n,o){var i,u=r.survey,l=u.surveyType===o.Employee360.name,p={},f=0,d=!1,y=v(u.sections);try{for(y.s();!(i=y.n()).done;){var m,h=v(i.value.questions);try{for(h.s();!(m=h.n()).done;)p[m.value.id]=f,f+=1}catch(e){h.e(e)}finally{h.f()}}}catch(e){y.e(e)}finally{y.f()}var b=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.filter((function(e){var t,n,o;if(null==e||null===(t=e.properties)||void 0===t||!t.categories||!(0,a.isObject)(null==e||null===(n=e.properties)||void 0===n?void 0:n.categories))return!1;var i=Object.keys(null==e||null===(o=e.properties)||void 0===o?void 0:o.categories);return 0===s().difference(r,i).length}))}(Object.values(t),c().planCategories.surveysPlan.name,c().planCategories.freePlan.name).map((function(e){return e.name}));return 1===e.subscription.length&&b.includes(e.subscription[0].plan)&&p[n.id]+1>10&&!l&&(d=!0),d})(e,t,r,n,u)&&(l=t.STARTER.name);var p=(0,o.assesDiscipline)(i,n,e);return p.obeying||(l=p.plans[0]),l},previewReload:function(e){try{var t=document.getElementById(e),r=t.src;t.contentWindow.location.reload(!0),t.focus()}catch(t){var n=document.getElementById(e);n&&(n.src=r)}},shouldShowVariableIconInOfflineBlock:function(e,t,r,n){var o=t.reduce((function(e,t){return[].concat(m(e),m(t.questions))}),[]).filter((function(t){return t.type!==e.Message.name}));if(r&&n){var i=o.findIndex((function(e){return n===e.id}));return 0!==i&&-1!==i}var a=o.findIndex((function(e){return e.section_id===r}));return 0!==a&&-1!==a},postQuestionPreviewUpdate:function(e,t,r){var n=document.getElementById(e);n&&n.contentWindow&&n.contentWindow.postMessage({type:i.messageTypes.questionPreviewChanged,payload:{type:t,value:r}},"*")},disableQuestionFeedback:function(e){var t;return d(d({},e.properties||{}),{},{data:d(d({},(null===(t=e.properties)||void 0===t?void 0:t.data)||{}),{},{includeFeedback:!1})})},checkForCxToCxChatConversion:function(e){var t=e.survey.surveyType,r=e.surveyType.value;return t!==r&&(0,l.Q9)(t)&&(0,l.Y1)(r)}}},"./src/helpers/Channels.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>T});var n=r("./src/utils/widget/Constants.js"),o=r("./src/helpers/Event.js"),i=r("./src/constants/channel.js"),a=r("./src/helpers/Validation.js"),s=r("./node_modules/string-template/index.js"),u=r.n(s),c=r("./src/constants/social.js"),l=r("./server/commonConstants/nps/reminder.js"),p=r("./server/commonConstants/nps/schedule.js"),f=r("./server/commonConstants/nps/channels.js"),d=r("./src/apis/index.js");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};c(O,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,a)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var u=p(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==y(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=f;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=p(t,r,n);if("normal"===c.type){if(o=n.done?h:d,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function v(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O={autoTriggered:{backgroundColor:a.A.colorValidation,borderColor:a.A.colorValidation,startType:a.A.required,position:a.A.required,trigger:a.A.required,triggerAfter:a.A.positiveNumber,triggerAfterScroll:a.A.positiveNumber,triggerOnMatchingParams:a.A.required,sampleRate:a.A.samplingRate,logo:a.A.required,throttlingEnabled:function(){return!1},throttlingDays:function(){return!1},throttlingCustomParamId:function(){return!1}},userInvoked:{backgroundColor:a.A.colorValidation,borderColor:a.A.colorValidation,type:a.A.required,buttonLabel:a.A.required,icon:a.A.required,position:a.A.required,sampleRate:a.A.samplingRate,trigger:a.A.required,triggerAfter:a.A.positiveNumber,triggerAfterScroll:a.A.positiveNumber,triggerOnMatchingParams:a.A.required,throttlingEnabled:function(){return!1},throttlingDays:function(){return!1},throttlingCustomParamId:function(){return!1}},inlineEmbed:{backgroundColor:a.A.colorValidation,borderColor:a.A.colorValidation,width:a.A.numberValidation,height:a.A.numberValidation,widthUnit:a.A.required,heightUnit:a.A.required},sidePanel:{buttonLabel:a.A.required,buttonFontSize:a.A.required,buttonColor:a.A.required,buttonTextColor:a.A.required,buttonBorderRadius:a.A.required,position:a.A.required,trigger:a.A.required,triggerAfter:a.A.positiveNumber,triggerAfterScroll:a.A.positiveNumber,triggerOnMatchingParams:a.A.required},popUp:{buttonLabel:a.A.required,buttonFontSize:a.A.required,buttonColor:a.A.required,buttonTextColor:a.A.required,buttonBorderRadius:a.A.required,size:a.A.required,trigger:a.A.required,triggerAfter:a.A.positiveNumber,triggerAfterScroll:a.A.positiveNumber,triggerOnMatchingParams:a.A.required}},j=function(e,t,r){var n=p.types.REMINDER.scheduleUnits.Weeks.days;if(r===f.modes.RECURRING.name&&t.value===f.frequency.MONTHLY&&(n=p.types.REMINDER.scheduleUnits.Months.days),r===f.modes.RELATIVE_RECURRING.name){var o,i=null===(o=p.types.RELATIVE_RECURRING.afterFirstNpsScheduleTypes[t.value])||void 0===o?void 0:o.config;if(i){var a;switch(i.key.toLowerCase()){case"d":a=p.types.REMINDER.scheduleUnits.Days.name;break;case"m":a=p.types.REMINDER.scheduleUnits.Months.name;break;default:a=p.types.REMINDER.scheduleUnits.Weeks.name}n=A(i.amount,a)}}return!(e>n)},E=function(e){return!(parseInt(e.customInterval)<1||!Number.isInteger(parseFloat(e.customInterval)))},S=function(e){return!(!e.customInterval||""===e.customInterval)},A=function(e,t){return e*p.types.REMINDER.scheduleUnits[t].days};const T={getAllowedChannels:function(e){return e.allowed_channels.reduce((function(e,t){return Object.assign(e,w({},null==t?void 0:t.name,!0))}),{})},isAllowedChannel:function(e,t,r){return r[e].allowed_channels.map((function(e){return null==e?void 0:e.name})).includes(t)},embedCode:function(e,t,r,o){var i="https://";return"development"===o.env&&(i="http://"),'<div id="ss_survey_widget"></div>\n  <script id="SS_SCRIPT">function sparrowLaunch(opts){var e="ss-widget",t="script",a=document,r=window,l=localStorage;var s,n,c,rm=a.getElementById(\'SS_SCRIPT\');r.SS_WIDGET_TOKEN="'.concat(e,'";r.SS_ACCOUNT="').concat(t,'";r.SS_SURVEY_NAME="').concat(r,"\";if(!a.getElementById(e) && !l.getItem('").concat(n.removedWidget,"-").concat(e,'\')){var S=function(){S.update(arguments)};S.args=[];S.update=function(e){S.args.push(e)};r.SparrowLauncher=S;s=a.getElementsByTagName(t);c=s[s.length-1];n=a.createElement(t);n.type="text/javascript";n.async=!0;n.id=e;n.src=["').concat(i,'","').concat(t,'/widget/",r.SS_WIDGET_TOKEN,"?","customParams=",JSON.stringify(opts)].join("");c.parentNode.insertBefore(n,c);r.SS_VARIABLES=opts;rm.parentNode.removeChild(rm);}};<\/script>\n  <script>sparrowLaunch({/*add custom params here*/})<\/script>')},wordpressShortCode:function(e,t,r,n){return"production"===n.env?'[surveysparrow token="'.concat(e,'" account="').concat(t,'" survey="').concat(r,'" version="').concat(n.widget.version,'"]'):'[surveysparrow token="'.concat(e,'" account="').concat(t,'" survey="').concat(r,'" env="').concat(n.env,'" version="').concat(n.widget.version,'"]')},postPreviewChanges:function(e,t){var r=document.getElementById(e);r&&r.contentWindow.postMessage({type:n.messageTypes.propertiesUpdate,properties:t},"*")},getProperty:function(e,t){return e.properties?e.properties[e.properties.type][t]:null},embedPreviewResizeListener:function(){o.A.addEvent(window,"message",(function(e){if(e&&e.data&&e.data.type&&n.messageTypes.widgetDimensions===e.data.type&&e.source.frameElement.id===i.IG){var t=document.getElementById(i.IG);if(t)if(e.data.open){var r=e.data.widgetType&&e.data.widgetType===i.l$.autoTriggered?"iframeForAutoTriggered":"iframe";t.style.width=n.chatStyles[r].width,t.style.height=n.chatStyles[r].height}else t.style.width=n.chatStyles.iframeOnCloseForStandard.width,t.style.height=n.chatStyles.iframeOnCloseForStandard.height}}))},embedPreviewPosition:function(e){return e===i.P7.bottomLeft?{top:"auto",left:n.bubbleSpacing,bottom:n.bubbleSpacing,right:"auto"}:{top:"auto",left:"auto",bottom:n.bubbleSpacing,right:n.bubbleSpacing}},embedValidations:O,generateShareLink:function(e,t){var r;switch(e){case i.m$.fb:r=u()(c.n.facebook,{url:t});break;case i.m$.twitter:r=u()(c.n.twitter,{url:t});break;case i.m$.google:r=u()(c.n.googleplus,{url:t});break;case i.m$.linkedIn:r=u()(c.n.linkedIn,{url:t});break;default:r=u()(c.n.facebook,{url:t})}return r},getLink:function(e,t,r){return t>0?"/survey/".concat(r,"/channels/").concat(e.toLowerCase()):"/survey/".concat(r,"/channels/").concat(e.toLowerCase(),"/new")},validateReminders:function(){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={status:!0,message:""},o=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.interval===l.id.custom.value&&(S(i)||(n.status=!1,n.message="nps.share.validation.reminderError"),E(i)||(n.status=!1,n.message="nps.share.validation.invalidReminderInterval"));var a=i.interval===l.id.custom.value?A(i.customInterval,i.frequency):i.interval;t&&!j(a,t,r)&&(n.status=!1,n.message="nps.share.validation.reminderOutOfFrequency")}}catch(e){o.e(e)}finally{o.f()}return n},validateSMSReminders:function(e){var t,r=e.reminders,n=void 0===r?[]:r,o=e.frequency,i=void 0===o?null:o,a=e.mode,s=void 0===a?null:a,u=e.isCustomTarget,c={status:!0,message:""},p=g(n);try{for(p.s();!(t=p.n()).done;){var f,d=t.value;d.interval===l.id.custom.value&&(S(d)||(c.status=!1,c.message="nps.share.validation.reminderError"),E(d)||(c.status=!1,c.message="nps.share.validation.invalidReminderInterval"));var y=d.interval===l.id.custom.value?A(d.customInterval,d.frequency):d.interval;i&&!j(y,i,s)&&(c.status=!1,c.message="nps.share.validation.reminderOutOfFrequency"),!u&&(null===(f=d.subject)||void 0===f?void 0:f.length)>l.f7&&(c.status=!1,c.message="nps.share.validation.reminderSubjectLimit")}}catch(e){p.e(e)}finally{p.f()}return c},validateSavedRemindersFrequency:function(){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n={status:!0,message:""},o=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=i.custom_interval?A(i.custom_interval,i.frequency):i.afterDays;t&&!j(a,t,r)&&(n.status=!1,n.message="nps.share.validation.reminderOutOfFrequency")}}catch(e){o.e(e)}finally{o.f()}return n},updateShareCount:function(e,t,r){return b(b({},e),{},{type:b(b({},e.type),{},w({},t,e.type[t]+1)),mode:b(b({},e.mode),{},w({},r,b(b({},e.mode[r]),{},w({},t,e.mode[r][t]+1))))})},getChannelByType:function(){var e,t=(e=m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.A.nps.getChannelByType(t);case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error while getting channel by type",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,s,"next",e)}function s(e){v(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}},"./src/helpers/Choice.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>N});var n=r("./src/helpers/i18n/index.js"),o=r("./node_modules/string-template/index.js"),i=r.n(o),a=r("./server/commonConstants/questionTypes.js"),s=r("./server/commonConstants/surveyTypes.js"),u=r.n(s);function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var d=function(e,t){return e.some((function(e){return"object"===f(e)&&e.id===(null==t?void 0:t.id)}))},y=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.properties&&t.properties.data){var s,u,c=t.properties.data,l=c.minLimit,p=c.maxLimit,f=c.exactChoices,d=c.type,y=null==t||null===(s=t.properties)||void 0===s||null===(u=s.dynamicChoice)||void 0===u?void 0:u.isDynamic;return(!t.multipleAnswers||!function(e){var t,r=e.answerChoices,n=null===(t=e.question.choices)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.noneOfTheAbove}));return r.includes(null==n?void 0:n.id)}({answerChoices:e,question:t})&&!function(e){var t,r=e.answerChoices,n=null===(t=e.question.choices)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.isExclusiveChoice}));return n&&r.includes(null==n?void 0:n.id)}({answerChoices:e,question:t}))&&(d&&d===a.questionTypes.MultiChoice.types.RANGE.name?l&&0!==l&&(y||t.choices.length>=l)&&e.length<l?o?"multichoiceMinLimitError":i()(n.F2.t(r.multichoiceMinLimitError),{minLimit:l}):!!(p&&0!==p&&(y||t.choices.length>=p)&&e.length>p)&&(o?"multichoiceMaxLimitError":i()(n.F2.t(r.multichoiceMaxLimitError),{maxLimit:p})):!(!d||d!==a.questionTypes.MultiChoice.types.EXACT.name)&&!(!f||0===f||!(y||t.choices.length>=f)||e.length==f)&&(o?"multichoiceExactLimitError":i()(n.F2.t(r.multichoiceExactLimitError),{count:f})))}return!1},m=function(e,t){return[].concat(l(e.slice(0,t)),l(e.slice(t+1)))},v=function(e){var t=!1,r=-1;return e.forEach((function(e,n){"[object Object]"===Object.prototype.toString.call(e)&&(t=!0,r=n)})),{alreadyExisting:t,index:r}},h=function(e){var t=e.isClassicFormBundle,r=void 0!==t&&t,n=e.selectedChoices,o=e.onSubmit;r?o(n):setTimeout((function(){o(n)}),0)},b=function(e,t){return null==e?void 0:e.find((function(e){var r;return(null===(r=e.properties)||void 0===r?void 0:r[t])||e[t]&&!(null!=e&&e.piped_qid)}))},g=function(e,t){return null==e?void 0:e.some((function(e){var r;return(null===(r=e.properties)||void 0===r?void 0:r[t])||e[t]&&!(null!=e&&e.piped_qid)}))},_=function(e){return[a.specialChoices.NONE_OF_THE_ABOVE,a.specialChoices.OTHER,a.specialChoices.ALL_OF_THE_ABOVE].reduce((function(t,r){return t+(g(e,r)?1:0)}),0)+e.filter((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.isExclusiveChoice})).length},w=function(e){var t=e.selectedChoices,r=e.selectedChoicesObject,n=e.questionChoices,o=e.isClassicFormBundle,i=e.onSubmit,a=_(n),s=t.length>=n.length-a,u=r.some((function(e){return e.other&&!e.piped_qid}));s&&!u&&h({isClassicFormBundle:o,selectedChoices:t,onSubmit:i})},O=function(e){var t,r,n=e.selectedChoices,o=e.selectedChoicesObject,i=e.activeQuestion,a=e.isClassicFormBundle,s=e.onSubmit,u=parseInt(null===(t=i.properties)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.exactChoices),c=n.length===u,l=o.some((function(e){return e.other&&!e.piped_qid}));c&&!l&&h({isClassicFormBundle:a,selectedChoices:n,onSubmit:s})},j=function(e){var t,r,n=e.selectedChoices,o=e.selectedChoicesObject,i=e.activeQuestion,a=e.isClassicFormBundle,s=e.onSubmit,u=parseInt(null===(t=i.properties)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.maxLimit),c=n.length===u,l=o.some((function(e){return e.other&&!e.piped_qid}));c&&!l&&h({isClassicFormBundle:a,selectedChoices:n,onSubmit:s})},E=function(e){var t=e.selectedChoices,r=e.selectedChoicesObject,n=e.isClassicFormBundle,o=e.onSubmit,i=r.some((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.noneOfTheAbove})),a=r.some((function(e){return e.other&&!e.piped_qid})),s=1===r.length;i&&!a&&s&&h({isClassicFormBundle:n,selectedChoices:t,onSubmit:o})},S=function(e){var t=e.selectedChoices,r=e.selectedChoicesObject,n=e.isClassicFormBundle,o=e.onSubmit,i=r.some((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.isExclusiveChoice})),a=r.some((function(e){return e.other&&!e.piped_qid})),s=1===r.length;i&&!a&&s&&h({isClassicFormBundle:n,selectedChoices:t,onSubmit:o})},A=function(e){var t,r,n=e.questionChoices,o=e.selectedChoices,i=e.selectedChoicesObject,s=e.activeQuestion,u=e.isClassicFormBundle,c=e.onSubmit;switch(g(n,a.specialChoices.NONE_OF_THE_ABOVE)&&E({selectedChoices:o,selectedChoicesObject:i,isClassicFormBundle:u,onSubmit:c}),g(n,a.specialChoices.EXCLUSIVE_CHOICE)&&S({selectedChoices:o,selectedChoicesObject:i,isClassicFormBundle:u,onSubmit:c}),null===(t=s.properties)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.type){case a.multipleSelectionLimitType.UNLIMITED:w({selectedChoices:o,selectedChoicesObject:i,activeQuestion:s,questionChoices:n,isClassicFormBundle:u,onSubmit:c});break;case a.multipleSelectionLimitType.EXACT:O({selectedChoices:o,selectedChoicesObject:i,activeQuestion:s,isClassicFormBundle:u,onSubmit:c});break;case a.multipleSelectionLimitType.RANGE:j({selectedChoices:o,selectedChoicesObject:i,activeQuestion:s,isClassicFormBundle:u,onSubmit:c})}},T=function(e,t,r,n){var o,i,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=e.id,l=t.choices,p=b(l,a.specialChoices.OTHER),f=b(l,a.specialChoices.ALL_OF_THE_ABOVE),y=b(l,a.specialChoices.NONE_OF_THE_ABOVE),m=d(r,p),v=r.includes(c)||d(r,e)||u.remove,h=null===(o=e.properties)||void 0===o?void 0:o.allOfTheAbove,g=e.other&&!e.piped_qid,_=null===(i=e.properties)||void 0===i?void 0:i.noneOfTheAbove,w=null===(s=e.properties)||void 0===s?void 0:s.isExclusiveChoice;return r=v?C({selectedChoices:r,choice:e,isAllOfTheAboveSelected:h,allOfTheAboveQuestionChoice:f,isOtherSelected:g,isOtherAlreadySelected:m,otherQuestionChoice:p}):I({selectedChoices:r,choice:e,isNoneOfTheAboveSelected:_,isExclusiveChoice:w,isAllOfTheAboveSelected:h,questionChoices:l,noneOfTheAboveQuestionChoice:y,otherQuestionChoice:p,isOtherAlreadySelected:m,isOtherSelected:g,allOfTheAboveQuestionChoice:f,isOtherIdType:u.isOtherIdType}),n=function(e){var t=e.shouldRemove,r=e.isOtherSelected;return!(e.isAllOfTheAboveSelected&&!e.isOtherAlreadySelected&&t)&&!(e.isNoneOfTheAboveSelected&&!t)&&!(e.isExclusiveChoice&&!t)&&(r&&!t?e.choiceID:(!r||!t)&&e.isOther)}({isAllOfTheAboveSelected:h,shouldRemove:v,isNoneOfTheAboveSelected:_,isExclusiveChoice:w,isOtherSelected:g,choiceID:c,isOther:n,isOtherAlreadySelected:m}),{selectedChoices:r,isOther:n}},P=function(e,t){return e.filter((function(e){return e!==t.id}))},C=function(e){var t=e.selectedChoices,r=e.choice,n=e.isAllOfTheAboveSelected,o=e.allOfTheAboveQuestionChoice,i=e.isOtherSelected,a=e.isOtherIdType,s=e.isOtherAlreadySelected,u=e.otherQuestionChoice;return n?function(e){var t=e.otherQuestionChoice,r=e.selectedChoices;return e.isOtherAlreadySelected?e.isOtherIdType?r.filter((function(e){return e===t.id})):r.filter((function(e){return"object"===f(e)?e.id===t.id:e===t.id})):[]}({isOtherAlreadySelected:s,otherQuestionChoice:u,selectedChoices:t,isOtherIdType:a}):(o&&!i&&(t=function(e,t){return e.filter((function(e){return e!==t.id}))}(t,o)),i?function(e){var t=e.selectedChoices,r=e.choice,n=e.isOtherIdType;if(void 0===n||n)return t.filter((function(e){return e!==r.id}));var o=v(t),i=o.alreadyExisting,a=o.index;return i&&a>-1?m(t,a):t}({selectedChoices:t,choice:r,isOtherIdType:a}):P(t,r))},x=function(e,t){return e.push(t.id),e},I=function(e){var t=e.selectedChoices,r=e.choice,n=e.isNoneOfTheAboveSelected,o=e.isExclusiveChoice,i=e.isAllOfTheAboveSelected,a=e.questionChoices,s=e.noneOfTheAboveQuestionChoice,u=e.otherQuestionChoice,c=e.isOtherAlreadySelected,l=e.isOtherSelected,p=e.allOfTheAboveQuestionChoice,d=e.isClassicFormBundle,y=e.isOtherIdType;if(n)return function(e){return[e.id]}(r);if(o)return k(r);if(i)t=function(e){var t=e.otherQuestionChoice,r=e.isOtherAlreadySelected,n=e.selectedChoices,o=e.questionChoices.filter((function(e){var t,r;return!(null!==(t=e.properties)&&void 0!==t&&t.noneOfTheAbove||e.other&&!e.piped_qid||null!==(r=e.properties)&&void 0!==r&&r.isExclusiveChoice)})).map((function(e){return e.id}));if(!r)return o;if(t){var i=n.find((function(e){return"object"===f(e)?e.id===t.id:e===t.id}));i&&o.push(i)}return o}({questionChoices:a,otherQuestionChoice:u,isOtherAlreadySelected:c,selectedChoices:t});else{s&&(t=P(t,s));var m=a.find((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.isExclusiveChoice}));m&&(t=P(t,m)),t=l?function(e){var t=e.selectedChoices,r=e.choice,n=e.isOtherIdType,o=void 0===n||n;return t.push(o?r.id:{id:r.id,other_txt:""}),t}({selectedChoices:t,choice:r,isClassicFormBundle:d,isOtherIdType:y}):x(t,r),t=L({selectedChoices:t,otherQuestionChoice:u,noneOfTheAboveQuestionChoice:s,isOtherSelected:l,isOtherAlreadySelected:c,allOfTheAboveQuestionChoice:p,questionChoices:a})}return t},L=function(e){var t=e.selectedChoices,r=e.otherQuestionChoice,n=e.noneOfTheAboveQuestionChoice,o=e.isOtherSelected,i=e.isOtherAlreadySelected,a=e.allOfTheAboveQuestionChoice,s=e.questionChoices,u=t.length-(i?1:0);return a&&!t.includes(a.id)&&!o&&t.length>0&&[!r&&n&&u===s.length-2,!r&&!n&&u===s.length-1,r&&n&&u===s.length-3,r&&!n&&u===s.length-2].some((function(e){return e}))&&(t=x(t,a)),t},k=function(e){return[e.id]};const N=c(c(c(c({isOtherSelected:function(e,t){if(!t.choices||0==t.choices.length)return!1;var r=t.choices.find((function(e){return e.other&&!e.piped_qid}));return!!r&&e[t.id]&&e[t.id].indexOf(r.id)>-1},minChoiceLimit:function(e,t){var r={minInvalid:!1,maxError:!1,minError:!1};return/^[0-9]+$/.test(e)||!e?(r.minInvalid=!1,!e||!t||e<parseInt(t)?(r.minError=!1,r.maxError=!1):r.minError=n.F2.t("builder.number_input.minError")):r.minInvalid=!0,r},maxChoiceLimit:function(e,t){var r={maxInvalid:!1,maxError:!1,minError:!1};return/^[0-9]+$/.test(e)||!e?(r.maxInvalid=!1,!e||!t||e>parseInt(t)?(r.maxError=!1,r.minError=!1):r.maxError=n.F2.t("builder.number_input.maxError")):r.maxInvalid=!0,r},validateChoices:y,handleChoiceClick:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e.other?function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=v(r),a=i.alreadyExisting,s=i.index;return a&&s>-1?(r=m(r,s),n=!1,t.multipleAnswers?T(e,t,r,n,{remove:!0,isOtherIdType:o.isOtherIdType}):{selectedChoices:r,isOther:n}):t.multipleAnswers?T(e,t,r,n,{isOtherIdType:o.isOtherIdType}):{selectedChoices:r=[{id:e.id,other_txt:""}],isOther:n=e.id}}(e,t,r,n,{isOtherIdType:o.isOtherIdType}):t.multipleAnswers?T(e,t,r,n,{isOtherIdType:o.isOtherIdType}):(r.push(e.id),{selectedChoices:r,isOther:n=!1})},checkObjectExisting:v,isChoiceLevelLogicSupported:function(e){var t=e.surveyType;return[u().ClassicForm.name,u().Conversational.name,u().NPS.name,u().NPSChat.name,u().CES.name,u().CESChat.name,u().CSAT.name,u().CSATChat.name].includes(t)},isChoiceLevelLogicEnabled:function(e,t){return e.includes(t.CHOICE_DISPLAY_LOGIC.name)},submitWithDelay:h,handleAllOfTheAboveSelection:L,handleClassicFormBundle:function(e){var t,r,n,o,i=e.selectedChoices,a=e.activeQuestion,s=e.workbench,u=e.onAnswerChange,c=e.label,l=0===i.length&&!(a.required||null!=a&&null!==(t=a.section)&&void 0!==t&&null!==(r=t.properties)&&void 0!==r&&r.singlePageForm&&null!=a&&null!==(n=a.section)&&void 0!==n&&null!==(o=n.properties)&&void 0!==o&&o.isRequired),p=!!a.multipleAnswers&&y(i,a,c),f=a.choices.find((function(e){return e.other&&!e.piped_qid})),d=i.includes(null==f?void 0:f.id),m=s["".concat(a.id,"_other")]||"",v=!!d&&!m.trim(),h=l?{skipped:!0,question:a}:{data:i,skipped:!1,isInvalid:p,isOtherInvalid:v,question:a};d&&(h.other={id:null==f?void 0:f.id,txt:m}),u(h)},hasSpecialChoice:g,countSpecialChoices:_,handleMultiChoiceSelection:function(e){var t=e.question,r=e.selectedChoices,n=e.submitAnswer,o=b(t.choices,"other"),i=o&&d(r,o),a=t.choices.filter((function(e){return r.includes(e.id)}));o&&i&&a.push(o),A({questionChoices:t.choices,selectedChoices:r,selectedChoicesObject:a,activeQuestion:t,isClassicFormBundle:!1,onSubmit:n})},handleDeselection:C,handleSelectionLogic:I,handleNoneOfTheAbove:E,handleExclusiveChoice:S,maxRangeChoiceSelected:j,exactChoiceSelected:O,allChoiceSelected:w,handleAutoNavigate:A,findSpecialChoice:b},"hasSpecialChoice",g),"isOtherSelectedAlready",d),"isQuestionSupportChoiceLevelLogic",(function(e){return!!e&&(e===a.questionTypes.MultiChoice.name||e===a.questionTypes.MultiChoicePicture.name||e===a.questionTypes.Dropdown.name)})),"selectExclusiveChoice",k)},"./src/helpers/Contacts.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r("./server/commonConstants/contact/index.js"),o=r("./server/commonConstants/nps/channels.js"),i=r.n(o);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=["role"],u=["role"],c=["role"];function l(){l=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,s,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,s)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,s,u){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==a(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,c,"Generator"),p(S,s,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function p(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const d={getUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("/api/internal/search/contacts?term=".concat(e,"&channelType=EMAIL").concat(t.isEdit?"&channelId=".concat(t.channelId):""),{credentials:"same-origin",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var r=e.contacts,o=e.contactLists;if(t.unChanged)return e;var i=o.reduce((function(e,r){var o={email:r.id,type:"list",id:r.id,name:r.name,contactType:r.contactType};return t.channelId&&(o.channelContactList=r.channelContactList),r.contactType===n.contactType.default.name?e.defaultContactList.push(o):r.contactType===n.contactType.employee.name&&e.employeeContactList.push(o),e}),{defaultContactList:[],employeeContactList:[]}),a=i.defaultContactList,u=i.employeeContactList,c=r.reduce((function(e,t){var r=t.role,o=f(t,s);return r===n.contactType.employee.name?e.employeeContacts.push(o):r===n.contactType.default.name&&e.defaultContacts.push(o),e}),{employeeContacts:[],defaultContacts:[]}),l=c.employeeContacts,p=c.defaultContacts,d=[];return t.blockContactLists||d.push({name:"Contact Lists",options:a}),t.blockEmployeeLists||d.push({name:"Employee Lists",options:u}),t.blockContacts||d.push({name:"Contacts",options:p}),t.blockEmployees||d.push({name:"Employees",options:l}),{options:d}}))},getContacts:function(e){return e?fetch("/api/internal/search/contacts?term=".concat(e,"&channelType=EMAIL"),{credentials:"same-origin",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return{options:[{name:"Contacts",options:e.contacts}]}})):Promise.resolve({options:[]})},getSMSUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fetch("/api/internal/search/contacts?term=".concat(e,"&channelType=SMS"),{credentials:"same-origin",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){var s=a.contacts,u=a.contactLists.reduce((function(e,t){var r={mobile:t.id,type:"list",id:t.id,name:t.name,contactType:t.contactType};return t.contactType===n.contactType.default.name?e.defaultContactList.push(r):t.contactType===n.contactType.employee.name&&e.employeeContactList.push(r),e}),{defaultContactList:[],employeeContactList:[]}),l=u.defaultContactList,p=u.employeeContactList;if(t){var d=[];return o.blockContactLists||d.push({name:"Contact Lists",options:l}),o.blockEmployeeLists||d.push({name:"Employee Lists",options:p}),{options:d}}var y=s.reduce((function(e,t){var r=t.role,o=f(t,c);return r===n.contactType.employee.name?e.employeeContacts.push(o):r===n.contactType.default.name&&e.defaultContacts.push(o),e}),{employeeContacts:[],defaultContacts:[]}),m=y.employeeContacts,v=y.defaultContacts,h=[];if(o.blockContactLists||h.push({name:"Contact Lists",options:l}),o.blockEmployeeLists||h.push({name:"Employee Lists",options:p}),o.blockContacts||h.push({name:"Contacts",options:v}),o.blockEmployees||h.push({name:"Employees",options:m}),r){var b,g="Active Contact List";null!==(b=g.toLocaleLowerCase())&&void 0!==b&&b.includes(e)&&h.unshift({name:g,options:[{id:i().ACTIVE_CONTACT_LIST.id,name:g,type:"list",mobile:i().ACTIVE_CONTACT_LIST.id}]})}return{options:h}}))},getCXUsers:function(){var e,t=(e=l().mark((function e(t){var r,o,a,s,c,p,d,y,m,v,h,b,g,_,w,O,j=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j.length>1&&void 0!==j[1]?j[1]:{},o=[],a=[],s=[],c=[],p=[],d=[],y=[],m={id:"active_contacts_list",name:"Active Contacts"},v=i().ACTIVE_CONTACT_LIST.name.toLowerCase(),!r.isAutomate||r.isPeriodic){e.next=22;break}return e.next=13,fetch("/api/internal/contacts/lists?term=".concat(t).concat(r.isEdit?"&channelId=".concat(r.channelId):""),{credentials:"same-origin",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 13:return h=e.sent,e.next=16,h.json();case 16:(b=e.sent).find((function(e){return!0===e.allContacts}))&&(m.isPresent=!0),t&&!v.includes(t.toLowerCase())||o.push({name:"General",options:[m]}),b.forEach((function(e){var t={type:e.type,id:e.id,name:e.name,channelContactList:e.NpsChannelContactLists,contactType:e.contact_type};r.blockEmployeeLists&&e.contact_type===n.contactType.employee.name||("STATIC"===e.type?a.push(t):"DYNAMIC"===e.type&&s.push(t))}),o.push({name:"Labels",options:a}),o.push({name:"Smart List",options:s})),e.next=37;break;case 22:return e.next=24,fetch("/api/internal/search/contacts?term=".concat(t,"&isCX=true&channelType=EMAIL").concat(r.isEdit?"&channelId=".concat(r.channelId):""),{credentials:"same-origin",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 24:return g=e.sent,e.next=27,g.json();case 27:_=e.sent,w=_.contacts,O=_.contactLists,_.isActiveContactPresent&&(m.isPresent=!0),O.forEach((function(e){var t={type:"list",id:e.id,name:e.name,NpsChannelContactList:e.NpsChannelContactLists,contactType:e.contactType};e.contactType===n.contactType.default.name?p.push(t):e.contactType===n.contactType.employee.name&&y.push(t)})),w.forEach((function(e){var t=e.role,r=f(e,u);t===n.contactType.employee.name?d.push(r):t===n.contactType.default.name&&c.push(r)})),t&&!v.includes(t.toLowerCase())||o.push({name:"General",options:[m]}),r.blockContactLists||o.push({name:"Contact Lists",options:p}),r.blockEmployeeLists||o.push({name:"Employee Lists",options:y}),r.blockContacts||o.push({name:"Contacts",options:c}),r.blockEmployees||o.push({name:"Employees",options:d});case 37:return e.abrupt("return",{options:o});case 39:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,s,"next",e)}function s(e){p(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),fetchContactLists:function(e){return e?fetch("/api/internal/search/contactlist?list=".concat(e),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=function(e){return e.reduce((function(e,t){var r={name:t.name,id:t.id};return t.contactType===n.contactType.default.name?e.defaultContactList.push(r):t.contactType===n.contactType.employee.name&&e.employeeContactList.push(r),e}),{defaultContactList:[],employeeContactList:[]})}(e);return{options:[{label:"Contact Lists",options:t.defaultContactList},{label:"Employee Lists",options:t.employeeContactList}]}})):Promise.resolve({options:[]})},getInitials:function(e,t){return t=t||"","".concat((e=e||"").charAt(0).toUpperCase()).concat((t||e.charAt(1)).charAt(0).toUpperCase())},getContactType:function(e){return e?n.contactType.employee.name:n.contactType.default.name}}},"./src/helpers/Event.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={addEvent:function(e,t,r,n){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,r,!!n):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)}}},"./src/helpers/Image.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r("./node_modules/jimp/es/index.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:P(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,u,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,u)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,l,"Generator"),p(S,u,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function a(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)}))}}const u={thumbnailGenerator:function(){var e=s(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.A.read(t.preview).then((function(e){return e.resize(200,110).contain(200,110,n.A.HORIZONTAL_ALIGN_CENTER|n.A.VERTICAL_ALIGN_MIDDLE).autocrop({cropSymmetric:!0}).getBufferAsync(n.A.AUTO)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),compress:function(){var e=s(i().mark((function e(t,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.A.read(t).then((function(e){var t=256,o=80;return r&&(t=e.bitmap.width<512?e.bitmap.width:512,o=100),e.resize(t,n.A.AUTO).contain(t,n.A.AUTO,n.A.HORIZONTAL_ALIGN_CENTER|n.A.VERTICAL_ALIGN_MIDDLE).quality(o).getBufferAsync(n.A.AUTO)})).catch((function(e){console.log("Error while compressing image",e)}));case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),compressCameraQuestion:function(){var e=s(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.A.read(t).then((function(e){return e.resize(100,n.A.AUTO).contain(100,n.A.AUTO,n.A.HORIZONTAL_ALIGN_CENTER|n.A.VERTICAL_ALIGN_MIDDLE).quality(50).getBufferAsync(n.A.AUTO)})).catch((function(e){console.log("Error while compressing image",e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},"./src/helpers/Language.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./server/commonConstants/translation.js").profileLanguage;const o={getLanguageCode:function(e){var t="en",r=e.userProfileLanguage||e.language;if(r){var o=e.accountConstants.multiLanguage[r]||n[r];o&&(t=o.code)}return t},formatLangauge:function(e){return e&&e.toLowerCase()!=="zh-TW".toLowerCase()&&(e=e.split("-")[0]),e},acceptedNumerals:{Arabic:{code:"ar",numerals:{0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""}}}}},"./src/helpers/Number.js":(e,t,r)=>{"use strict";r.d(t,{tz:()=>p,TZ:()=>l,hU:()=>c,I$:()=>u});var n=r("./src/helpers/Language.js");const o=/[^\d+]/g,i=/[^\d]/g,a=/[^\u0660-\u0669\d+]/g,s=/[^\u0660-\u0669\d]/g;var u=function(e,t){var r=e.toString(),o=n.A.acceptedNumerals.Arabic.numerals;return t!==n.A.acceptedNumerals.Arabic.code?r:r?r.split("").map((function(e){return o[e]?o[e]:e})).join(""):void 0},c=function(e,t){return t===n.A.acceptedNumerals.Arabic.code?function(e){var t=e.toString(),r="";if(t)return t.split("").map((function(e){return-1!==r.indexOf(e)?r.indexOf(e):e})).join("")}(e):e},l=function(e,t){return t===n.A.acceptedNumerals.Arabic.code?null==e?void 0:e.replace(a,""):null==e?void 0:e.replace(o,"")},p=function(e,t){return t===n.A.acceptedNumerals.Arabic.code?null==e?void 0:e.replace(s,""):null==e?void 0:e.replace(i,"")}},"./src/helpers/Phone.js":(e,t,r)=>{"use strict";r.d(t,{Ce:()=>i,FJ:()=>s,O3:()=>p,Zu:()=>l,g0:()=>a,qZ:()=>u,t$:()=>c});var n=r("./node_modules/libphonenumber-js/index.js"),o=(r("./node_modules/react-redux-toastr/lib/index.js"),r("./src/helpers/i18n/index.js"),r("./src/apis/index.js"),r("./server/commonConstants/countryInfo.js")),i=function(e){try{var t=(0,n.o5)(e);return t?t.country:null}catch(e){return null}},a=function(e){try{var t=(0,n.o5)(e);return!!t&&t.isValid()}catch(e){return!1}},s=function(e,t){try{var r=(0,n.o5)(e);return!!r&&r.isValid()&&r.country===t}catch(e){return!1}},u=function(e,t){try{return(0,n.o5)(e,t).formatInternational()}catch(e){return!1}},c=function(e){try{return(0,n.o5)(e).countryCallingCode}catch(e){return null}},l=function(e){try{return(0,n.o5)(e).nationalNumber}catch(e){return null}},p=function(e){try{if(!e||!e.startsWith("+"))return{};var t=null==e?void 0:e.split(" ")[0],r=t&&o.countryInfo.find((function(e){return e.phoneCode===t}));return{country:null==r?void 0:r.countryCode,code:null==r?void 0:r.phoneCode,number:null==e?void 0:e.split(" ").slice(1).join("")}}catch(e){return{}}}},"./src/helpers/Question.js":(e,t,r)=>{"use strict";r.d(t,{EV:()=>i,LK:()=>n,_3:()=>o}),r("./src/utils/draftUtils.js"),r("./server/commonConstants/questionTypes.js"),r("./server/commonUtils/questions.js");var n=function(e,t,r){e||0===e||t.push(r.id)},o=function(e,t,r){(!e||Array.isArray(e)&&0===e.length)&&t.push(r.id)},i=function(e,t,r){var n;(!e||Array.isArray(e.files)&&0===(null==e||null===(n=e.files)||void 0===n?void 0:n.length))&&t.push(r.id)}},"./src/helpers/RankOrder.js":(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n=Math.random()},"./src/helpers/Rating.js":(e,t,r)=>{"use strict";r.d(t,{fY:()=>d,v1:()=>y});var n="RATING_SMILEY",o="RATING_TRAFFIC_LIGHT",i={RATING_STAR_SHAPE:"ratingiconstar",RATING_THUMBSUP_SHAPE:"ratingiconthumbsup",RATING_CROWN_SHAPE:"ratingiconcrown",RATING_USER_SHAPE:"ratingiconuser",RATING_LIGHTNING_SHAPE:"ratingiconlightning",RATING_SMILEY_1_SHAPE:"ratingiconsmiley1",RATING_SMILEY_2_SHAPE:"ratingiconsmiley2",RATING_SMILEY_3_SHAPE:"ratingiconsmiley3",RATING_SMILEY_4_SHAPE:"ratingiconsmiley4",RATING_SMILEY_5_SHAPE:"ratingiconsmiley5",RATING_TRAFFIC_LIGHT_1_SHAPE:"ratingicontrafficlightshape1",RATING_TRAFFIC_LIGHT_2_SHAPE:"ratingicontrafficlightshape2",RATING_TRAFFIC_LIGHT_3_SHAPE:"ratingicontrafficlightshape3",RATING_TRAFFIC_LIGHT_4_SHAPE:"ratingicontrafficlightshape4",RATING_TRAFFIC_LIGHT_5_SHAPE:"ratingicontrafficlightshape5"},a={RATING_STAR_SHAPE:"ratingiconstarspotcheck",RATING_THUMBSUP_SHAPE:"ratingiconthumbsup",RATING_CROWN_SHAPE:"ratingiconcrown",RATING_USER_SHAPE:"ratingiconuser",RATING_LIGHTNING_SHAPE:"ratingiconlightning",RATING_SMILEY_1_SHAPE:"ratingiconsmileyspotcheck1",RATING_SMILEY_2_SHAPE:"ratingiconsmileyspotcheck2",RATING_SMILEY_3_SHAPE:"ratingiconsmileyspotcheck3",RATING_SMILEY_4_SHAPE:"ratingiconsmileyspotcheck4",RATING_SMILEY_5_SHAPE:"ratingiconsmileyspotcheck5",RATING_TRAFFIC_LIGHT_1_SHAPE:"ratingicontrafficlightshape1",RATING_TRAFFIC_LIGHT_2_SHAPE:"ratingicontrafficlightshape2",RATING_TRAFFIC_LIGHT_3_SHAPE:"ratingicontrafficlightshape3",RATING_TRAFFIC_LIGHT_4_SHAPE:"ratingicontrafficlightshape4",RATING_TRAFFIC_LIGHT_5_SHAPE:"ratingicontrafficlightshape5"},s={RATING_SMILEY_5:["RATING_SMILEY_1_SHAPE","RATING_SMILEY_2_SHAPE","RATING_SMILEY_3_SHAPE","RATING_SMILEY_4_SHAPE","RATING_SMILEY_5_SHAPE"],RATING_SMILEY_4:["RATING_SMILEY_1_SHAPE","RATING_SMILEY_3_SHAPE","RATING_SMILEY_4_SHAPE","RATING_SMILEY_5_SHAPE"],RATING_SMILEY_3:["RATING_SMILEY_1_SHAPE","RATING_SMILEY_3_SHAPE","RATING_SMILEY_5_SHAPE"]},u={RATING_TRAFFIC_LIGHT_5:["RATING_TRAFFIC_LIGHT_1_SHAPE","RATING_TRAFFIC_LIGHT_2_SHAPE","RATING_TRAFFIC_LIGHT_3_SHAPE","RATING_TRAFFIC_LIGHT_4_SHAPE","RATING_TRAFFIC_LIGHT_5_SHAPE"],RATING_TRAFFIC_LIGHT_4:["RATING_TRAFFIC_LIGHT_1_SHAPE","RATING_TRAFFIC_LIGHT_3_SHAPE","RATING_TRAFFIC_LIGHT_4_SHAPE","RATING_TRAFFIC_LIGHT_5_SHAPE"],RATING_TRAFFIC_LIGHT_3:["RATING_TRAFFIC_LIGHT_1_SHAPE","RATING_TRAFFIC_LIGHT_3_SHAPE","RATING_TRAFFIC_LIGHT_5_SHAPE"]},c={RATING_STAR:"ratingiconstar",RATING_THUMBSUP:"ratingiconthumbsup",RATING_CROWN:"ratingiconcrown",RATING_USER:"ratingiconuser",RATING_LIGHTNING:"ratingiconlightning",RATING_SMILEY:"ratingiconsmiley3",RATING_TRAFFIC_LIGHT:"ratingicontrafficlight"},l={RATING_STAR:"ratingiconstarspotcheck",RATING_THUMBSUP:"ratingiconthumbsup",RATING_CROWN:"ratingiconcrown",RATING_USER:"ratingiconuser",RATING_LIGHTNING:"ratingiconlightning",RATING_SMILEY:"ratingiconsmileyspotcheck3",RATING_TRAFFIC_LIGHT:"ratingicontrafficlight"},p=function(e){return i[e]},f=function(e){return a[e]},d=function(e,t){return e.data&&e.data.iconArrayName||t.properties&&t.properties.data&&t.properties.data.iconArrayName},y=function(e,t){var r,i,a,d,y,m,v,h,b,g,_,w,O,j,E,S=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=(null==e||null===(r=e.data)||void 0===r?void 0:r.iconArrayName)||(null==t||null===(i=t.properties)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.iconArrayName),T=[],P=(null==e||null===(d=e.data)||void 0===d?void 0:d.ratingScale)||5;if(S)if(A===(null==t||null===(m=t.iconArrays)||void 0===m||null===(v=m.RATING_SMILEY)||void 0===v?void 0:v.name)||A===n)T=(null===(g=s["".concat(A,"_").concat(P)])||void 0===g?void 0:g.map(f))||[];else if(A===(null==t||null===(h=t.iconArrays)||void 0===h||null===(b=h.RATING_TRAFFIC_LIGHT)||void 0===b?void 0:b.name)||A===o){var C;T=(null===(C=u["".concat(A,"_").concat(P)])||void 0===C?void 0:C.map(f))||[]}else for(var x=0;x<P;x++)T.push(l[A]);else if(A===(null==t||null===(_=t.iconArrays)||void 0===_||null===(w=_.RATING_SMILEY)||void 0===w?void 0:w.name)||A===n)T=(null===(E=s["".concat(A,"_").concat(P)])||void 0===E?void 0:E.map(p))||[];else if(A===(null==t||null===(O=t.iconArrays)||void 0===O||null===(j=O.RATING_TRAFFIC_LIGHT)||void 0===j?void 0:j.name)||A===o){var I;T=(null===(I=u["".concat(A,"_").concat(P)])||void 0===I?void 0:I.map(p))||[]}else for(var L=0;L<P;L++)T.push(c[A]);return null!=e&&null!==(y=e.data)&&void 0!==y&&y.reversed?T.reverse():T}},"./src/helpers/Sleep.js":e=>{e.exports.f=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},"./src/helpers/TextTrim.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={allowedLength:{survey_title:50,survey_card_title:25,multichoice_picture:30,yes_no:20,auto_triggered:75},trim:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e&&(null==e?void 0:e.length)>t?e.substring(0,t)+"...":e},formatFileName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=e.length;return r>t&&(e=e.substring(0,40)+"..."+e.substring(r-10,r)),e.replace(/[^0-9A-Za-z\.\-_]+/g,"")}}},"./src/helpers/Upload.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r("./node_modules/axios/index.js"),o=r("./server/commonConstants/contact/import.js"),i=r("./server/commonConstants/importResponse.js"),a=r("./server/commonConstants/hierarchy.js"),s=r("./src/helpers/TextTrim.js"),u=r("./src/components/admin/dashboard/main/ReputationManager/Components/utils/constants.js");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,a)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var u=d(e[o],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==c(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(c(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,u,"Generator"),p(S,a,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,s,"next",e)}function s(e){y(i,n,o,a,s,"throw",e)}a(void 0)}))}}var v=function(e,t){var r={question_img:"/api/internal/survey/image/signedurl",heatmap_img:"/api/internal/survey/image/signedurl",picture_choice_img:"/api/internal/survey/image/signedurl",eui_fileupload:"/api/internal/submissions/signed_url/",theme_upload:"/api/internal/theme/image/upload",email_theme_upload:"/api/internal/emailtheme/image/upload",dashboard_theme:"/api/internal/survey/image/signedurl",legal_document_upload:"/api/internal/documents/signed-url/"};return"eui_fileupload"===e||"legal_document_upload"===e?r[e]+t:r[e]};const h={uploadToS3:function(){var e=m(l().mark((function e(t,r,o,i,a){var u,c,p,d,y,m,h,b,g,_,w,O,j,E=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=E.length>5&&void 0!==E[5]?E[5]:{},e.prev=1,c=u.questionId,p=void 0===c?null:c,d=f({name:s.A.formatFileName(t.name),type:t.type,size:t.size},p?{questionId:p}:{}),y=v(r,o),m=n.Ay.CancelToken,e.next=8,(0,n.Ay)({url:y,method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},responseType:"json",data:JSON.stringify(d),cancelToken:new m((function(e){a&&a("signed_url",e)}))});case 8:for(O in h=e.sent,b=h.data,g="legal_document_upload"===r?b.documentsCloudFrontUrl:b.imageCloudFrontUrl,(_=b.fields).file=t,w=new FormData,_)w.append(O,_[O]);return w.append("Content-Type",_.file.type),e.next=18,(0,n.Ay)({url:b.url,method:"post",headers:{Accept:"*/*"},data:w,onUploadProgress:function(e){i&&"function"==typeof i&&i(e)},cancelToken:new m((function(e){a&&a("upload_image",e)}))});case 18:return j=e.sent,e.abrupt("return",{ok:204===j.status,imageCloudFrontUrl:g,key:_.key,cloudFrontUrl:g});case 22:throw e.prev=22,e.t0=e.catch(1),console.error("Error in uploadToS3:",e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,r,n,o,i){return e.apply(this,arguments)}}(),upload:function(){var e=m(l().mark((function e(t,r,c){var p,f,d,y,m,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==o.importTypes.contact.name){e.next=6;break}return e.next=3,n.Ay.get("/api/internal/contacts/imports/upload-url");case 3:p=e.sent.data,e.next=52;break;case 6:if(r!==i.IMPORT_NAME){e.next=12;break}return e.next=9,n.Ay.get("/api/internal/responses/imports/upload-url");case 9:p=e.sent.data,e.next=52;break;case 12:if("caseManagement"!==r){e.next=19;break}return f=t.name.split(".").pop(),e.next=16,n.Ay.get("/api/internal/cases/upload-url?type=".concat(f));case 16:p=e.sent.data,e.next=52;break;case 19:if(r!==a.IMPORT_NAME){e.next=25;break}return e.next=22,n.Ay.get("/api/internal/hierarchy/imports/upload-url");case 22:p=e.sent.data,e.next=52;break;case 25:if(r!==u.yS){e.next=31;break}return e.next=28,n.Ay.get("/api/internal/reputation/v2/reviewImports/upload-url");case 28:p=e.sent.data,e.next=52;break;case 31:if("CUSTOM_LOCATIONS_LOGO"!==r){e.next=37;break}return e.next=34,n.Ay.post("/api/internal/reputation/v2/customPlatforms/logoImage/signedUrl",{name:s.A.formatFileName(t.name),type:t.type,size:t.size});case 34:p=e.sent.data,e.next=52;break;case 37:if("BOOST_REPUTATION_LOGO"!==r){e.next=43;break}return e.next=40,n.Ay.post("/api/internal/emailtheme/image/upload",{name:s.A.formatFileName(t.name),type:t.type,size:t.size});case 40:p=e.sent.data,e.next=52;break;case 43:if("BOOST_REPUTATION_BACKGROUND"!==r){e.next=49;break}return e.next=46,n.Ay.post("/api/internal/emailtheme/image/upload",{name:s.A.formatFileName(t.name),type:t.type,size:t.size});case 46:p=e.sent.data,e.next=52;break;case 49:return e.next=51,n.Ay.get("/api/internal/employee360/imports/upload-url");case 51:p=e.sent.data;case 52:for(m in(d=p.fields).file=t,y=new FormData,d)y.append(m,d[m]);return y.append("Content-Type",d.file&&d.file.type||"text/csv"),e.next=59,(0,n.Ay)({url:p.url,method:"POST",headers:{Accept:"*/*"},data:y,onUploadProgress:function(e){c&&c(e)}});case 59:return v=e.sent,e.abrupt("return",{ok:204===v.status,url:p.url,key:d.key});case 61:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([n],{type:r})}}},"./src/helpers/Validation.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>j});var n=r("./node_modules/validator/lib/isHexColor.js"),o=r.n(n),i=r("./node_modules/validator/lib/isInt.js"),a=r.n(i),s=r("./node_modules/validator/lib/isBoolean.js"),u=r.n(s),c=r("./node_modules/validator/lib/isURL.js"),l=r.n(c),p=r("./node_modules/validator/lib/isEmail.js"),f=r.n(p),d=r("./node_modules/validator/lib/isFQDN.js"),y=r.n(d),m=r("./src/helpers/i18n/index.js"),v=r("./server/commonConstants/questionTypes.js"),h=r("./node_modules/dompurify/dist/purify.js"),b=r.n(h),g=function(e){var t=null;return 0!==e&&"boolean"!=typeof e&&(e||(t=m.F2.t("validation.required"))),t},_=function(e){var t=g(e);return t||(e=e.toString(),a()(e)||(t=m.F2.t("validation.invalidNumber"))),t},w=function(e){var t=g(e);return t||l()(e)||(t=m.F2.t("validation.invalidURL")),t},O=function(e){var t=g(e);return t||f()(e)||(t=m.F2.t("validation.invalidEmail")),t};const j={colorValidation:function(e){var t=g(e);return t||o()(e)||(t=m.F2.t("validation.invalidColor")),t},required:g,numberValidation:_,numberInputValidation:function(e,t){var r=!1;return t.properties.data&&(t.properties.data.minValue||0===t.properties.data.minValue)&&null!==t.properties.data.minValue&&""!==t.properties.data.minValue&&Number(t.properties.data.minValue)>e&&(r="minValueError"),t.properties.data&&(t.properties.data.maxValue||0===t.properties.data.maxValue)&&null!==t.properties.data.maxValue&&""!==t.properties.data.maxValue&&e>Number(t.properties.data.maxValue)&&(r="maxValueError"),r},boolValidation:function(e){var t=g(e);return t||(e=e.toString(),u()(e)||(t=m.F2.t("validation.invalidOption"))),t},urlValidation:w,jsonValidation:function(e){var t=g(e);if(!t)try{JSON.parse(e)}catch(e){t=m.F2.t("validation.invalidJson")}return t},emailValidation:O,fqdnValidation:function(e,t){if(e){var r=e.match(/\w+\.\w+$/);if(!y()(e)||t===r[0]||!/^(?!.*surveysparrow\.com$)/.test(e))return m.F2.t("validation.invalidDomain")}},samplingRate:function(e){var t=g(e);return t||(!e||!/^[0-9]+$/.test(e)||parseInt(e)<1)&&(t=m.F2.t("validation.invalidNumber")),t},positiveNumber:function(e){var t=g(e);return t||(!(e=e.toString())||!/^[0-9]+$/.test(e)||parseInt(e)<0)&&(t=m.F2.t("validation.invalidNumber")),t},validateByType:function(e,t){var r=!1;switch(e){case"EMAIL":r=O(t);break;case"URL":r=w(t);break;case"NUMBER":r=_(t);break;default:r=g(t)}return r},rangeValidation:function(e,t,r){var n=_(e);return n||e>=t&&e<=r||(n=m.F2.t("validation.range")),n},regexValidation:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i="";return!!r.features.includes(n.features.REGEX_VALIDATION.name)&&(i=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,a=null===(r=t.properties)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.validation,s=null==a?void 0:a.pattern,u=null==a?void 0:a.condition,c=null==a?void 0:a.message;if((null==a?void 0:a.type)===v.regexValidationProperties.type&&s&&u){var l=new RegExp(s),p=u===v.regexValidationProperties.regexValidationCondition.matches.value&&!l.test(e),f=u===v.regexValidationProperties.regexValidationCondition.doesNotMatch.value&&l.test(e);(p||f)&&(i=o?"regexError":c||!1)}return i}(e,t,o),i)},detectHTMLInjection:function(e){var t=/<\/?.+?>/g.test(e);return b().sanitize(e)!==e||t},contactFormNumberValidator:function(e){var t=m.F2.t("validation.invalidNumber");return 0===(e=e.trim()).length?t:/^[-+]?(\d+\.?\d*|\.\d+)([eE][-+]?\d+)?$/.test(e)&&!isNaN(parseFloat(e))?null:t}}},"./src/helpers/Variables.js":(e,t,r)=>{},"./src/helpers/YesNo.js":(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n={YES_NO_ICON_THUMBS:{yes:"yesnoiconthumbsup",no:"yesnoiconthumbsdown"},YES_NO_ICON_TICK_CROSS:{yes:"yesnoicontick",no:"yesnoiconcross"},YES_NO_ICON_SPOTCHECK:{yes:"yesnoiconspotcheckup",no:"yesnoiconspotcheckdown"}},o=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?n.YES_NO_ICON_SPOTCHECK:e?n[e]:n.YES_NO_ICON_THUMBS}},"./src/helpers/authenticator.js":(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r("./src/helpers/i18n/index.js"),o=function(e,t,r){var o;if(!e)return n.F2.t(r.passwordToContinue);var i=null==t||null===(o=t.config)||void 0===o?void 0:o.contactPropertyIds;if(null==i||!i.length)return n.F2.t(r.passwordToContinue);var a=i.map((function(e){return e})).join(" ".concat(n.F2.t("eui.or")," ")).toLowerCase().replace(/_/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()})).replace(/\b\w/g,(function(e){return e.toUpperCase()}));return"".concat(n.F2.t("eui.enter")," ").concat(a," ").concat(n.F2.t("eui.toContinue"))}},"./src/helpers/classic_form/Hotkeys.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,y:()=>c});var n=r("./src/constants/classic_form/hotkeys.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t="A".charCodeAt(0),r="";do{e-=1,r=String.fromCharCode(t+e%26)+r,e=Math.floor(e/26)}while(e>0);return r},c=function(e){return n.wx[e]?a(a({},n.wx[e].commonHotkeys||n.UE),n.wx[e].validKeys):n.UE}},"./src/helpers/commonHelpers.js":(e,t,r)=>{"use strict";r.d(t,{R3:()=>s,RI:()=>i,S0:()=>c,XE:()=>u,kZ:()=>a});var n=r("./node_modules/lodash/lodash.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=function(e){return!e||"object"!==o(e)||!Object.keys(e).length},a=function(e){return null==e},s=function(e){return Array.isArray(e)?e.sort((function(){return Math.random()-.5})):e},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";if((null==e?void 0:e.length)!==(null==t?void 0:t.length))return!1;var o=new Set(t.map((function(e){return(0,n.get)(e,r)})));return e.every((function(e){return o.has((0,n.get)(e,r))}))},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.forEach((function(e){return e&&e.apply(void 0,r)}))}}},"./src/helpers/dateValidation.js":(e,t,r)=>{"use strict";r.d(t,{$:()=>u,$E:()=>s,TQ:()=>a});var n=r("./node_modules/moment-timezone/index.js"),o=r.n(n),i=r("./src/constants/dateValidation.js"),a=function(e){var t=e.type,r=e.duration,n=e.range,a=e.dateFormat,s=void 0===a?null:a,u=i.xV.DYNAMIC.options;return[u.AFTER.name,u.WITHIN_NEXT.name].includes(n)?o()().add(r,t).format(s):o()().subtract(r,t).format(s)},s=function(e){var t=e.dateTime,r=e.validation,n=e.isDynamicValidation,a=void 0!==n&&n,s=e.dateFormat,u=void 0===s?null:s,c=e.useDays,l=void 0!==c&&c,p=e.dateNow,f=void 0===p?null:p,d=!1,y={},m=a?i.xV.DYNAMIC.options:i.xV.STATIC.options;if(a){var v=r.range,h=r.type,b=r.duration;if(v&&h&&b){var g=function(e){var t=e.type,r=e.duration,n=e.range,a=e.dateFormat,s=void 0===a?null:a,u=e.dateNow,c=null!=u?u:o()(),l=i.xV.DYNAMIC.options;return[l.AFTER.name,l.WITHIN_NEXT.name].includes(n)?o()(c,s).add(r,t).toISOString():o()(c,s).subtract(r,t).toISOString()}({type:h,duration:b,range:v,dateNow:f}),_=f?o()(f,u).toISOString():o()(new Date,u).toISOString(),w=o()(new Date(t),u);w=l?w.add(o()().utcOffset(),"minutes").toISOString():w.toISOString(),v===m.AFTER.name?d=o()(w).isSameOrAfter(g,l?"days":"minutes"):v===m.BEFORE.name?d=o()(w).isSameOrBefore(g,l?"days":"minutes"):v===m.WITHIN_NEXT.name?d=o()(w).isBetween(_,g,l?"days":"minutes","[]"):v===m.WITHIN_LAST.name&&(d=o()(w).isBetween(g,_,l?"days":"minutes","[]"))}else d=!0;y=d||!r?{isValid:!0}:{isValid:!1}}else{var O=r?Object.keys(r):[],j=O.length>1?m.BETWEEN.name:O[0];j?j===m.BETWEEN.name?d=o()(t).isBetween(r.AFTER,r.BEFORE,l?"days":"minutes","[]"):j===m.AFTER.name?d=o()(t).isSameOrAfter(r.AFTER,l?"days":"minutes"):j===m.BEFORE.name&&(d=o()(t).isSameOrBefore(r.BEFORE,l?"days":"minutes")):d=!0,y=d||!r?{isValid:!0}:{isValid:!1}}return y},u=function(e,t){var r=o()().local().utcOffset()-o().tz(t).utcOffset();return o()(e).subtract(r,"minutes").local()}},"./src/helpers/datetime.js":(e,t,r)=>{"use strict";r.d(t,{Ib:()=>i,LW:()=>a});var n=r("./server/commonConstants/questionTypes.js"),o=r("./node_modules/moment-timezone/index.js"),i=(n.questionTypes.DateTime.dateFormats,n.questionTypes.DateTime.timeFormats,function(e,t,r,n){var i=s(r),a="TWENTY_FOUR_HOUR"===n?"HH:mm":"hh:mm A";return t?o(e).format(i):o(e).format("".concat(i," ").concat(a))}),a=function(e,t,r,n,i,a){var u=s(r),c="TWENTY_FOUR_HOUR"===n?"HH:mm":"hh:mm A",l=i||a&&o.tz(a).utcOffset()||0;return t?o(e).utcOffset(l).format(u):o(e).utcOffset(l).format("".concat(u," ").concat(c))},s=function(e){switch(e){case"MMDDYYYY":return"MM/DD/YYYY";case"DDMMYYYY":default:return"DD/MM/YYYY";case"YYYYMMDD":return"YYYY/MM/DD"}}},"./src/helpers/defaultAnswers/expressionResolver/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r("./node_modules/lodash/lodash.js"),o=r("./src/utils/euiUtils.js"),i=r("./server/commonConstants/contact/index.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return"string"==typeof e};const m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i){var a=null==i?void 0:i.hasContactProperty,s=i.value;if(y(s))s=o.A.replaceExpressionsAndVariables(s,t,e);else if((0,n.isArray)(s))s=s.map((function(n){return y(n)?o.A.replaceExpressionsAndVariables(n,t,e,r):n}));else if((0,n.isObject)(s))for(var u in s={})s[u]=y(s[u])?o.A.replaceExpressionsAndVariables(s[u],t,e):s[u];if(a){var c={choices:r.choices,properties:r.properties,contact:e.contact,contactProperty:e.contactProperty,isMultipleAnswer:r.multipleAnswers};s=v(s,c)}return f(f({},i),{},{value:s})}};var v=function(e,t){var r=t.choices,o=[],a=[];return r.length>0&&(e=e.map((function(e){if(!y(e))return e;o=o.concat(function(e,t){var r,o,a=null===(r=t.properties.defaultAnswer)||void 0===r?void 0:r.value,s=t.contactProperty,c=[];if((0,n.isArray)(a)){var l=a[0].replace("contact_","").slice(1,-1);return Object.keys(s).forEach((function(t){if(s[t].name.trim()===l.trim())return o=s[t].type,void(c=function(e,t){return t===i.propertyTypes.SINGLE_LINE_TEXT.name?e.split(","):t===i.propertyTypes.MULTI_LINE_TEXT.name?e.split(/\r?\n/).reduce((function(e,t){return[].concat(u(e),u(t.split(",")))}),[]):t===i.propertyTypes.DROPDOWN.name?[e]:[]}(e,o).map((function(e){return e.trim()})))})),c}return e}(e,t))})),a=function(e,t){var r,n,o=[],i=t.properties,a=t.isMultipleAnswer,u=t.choices,c=1;if(!e.length)return o;if(a)if("UNLIMITED"===(r=null===(n=i.data)||void 0===n?void 0:n.type))c=u.length;else if("EXACT"===r){var l;c=(null===(l=i.data)||void 0===l?void 0:l.exactChoices)||0}else if("RANGE"===r){var p;c=(null===(p=i.data)||void 0===p?void 0:p.maxLimit)||u.length}var f,d=s(u);try{for(d.s();!(f=d.n()).done;){var y,m,v=f.value,h=null===(y=v.txt)||void 0===y?void 0:y.trim(),b=s(e);try{for(b.s();!(m=b.n()).done;){var g=m.value;if(h&&g.toLowerCase()===h.toLowerCase()){var _,w;if(v.other||null!==(_=v.properties)&&void 0!==_&&_.noneOfTheAbove||null!==(w=v.properties)&&void 0!==w&&w.allOfTheAbove)continue;if(o.push(v.id),Number(o.length)===Number(c))break}}}catch(e){b.e(e)}finally{b.f()}if(Number(o.length)===Number(c))break}}catch(e){d.e(e)}finally{d.f()}return o}(o,t)),a}},"./src/helpers/defaultAnswers/formatter/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r("./src/constants/survey.js"),o=r("./node_modules/lodash/isString.js"),i=r.n(o),a=r("./node_modules/libphonenumber-js/index.js"),s=r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t;return null===(t=String(e))||void 0===t?void 0:t.trim()},d=function(e){try{var t=e,r=(0,a.o5)(e);if(r&&r.isValid()){var n=r.nationalNumber;t=e.split(n)[0]+" "+n}return t}catch(e){console.log("Error while formatting phone number",e)}},y=function(e){return e===n.hH.name?n.hH.name:"string"==typeof e?+e.trim():e},m=function(e){return"number"!=typeof e?e.map((function(e){return i()(e)&&/^\d+$/.test(e)?+f(e):e})):[e]},v={number:y,email:f,string:f,dropdown:m,date:f},h=p(p(p(p(p(p({},"".concat(s.sl.ContactForm,"_number"),f),"".concat(s.sl.ContactForm,"_string"),f),"".concat(s.sl.ContactForm,"_email"),f),"".concat(s.sl.ContactForm,"_dropdown"),m),"".concat(s.sl.ContactForm,"_date"),f),"".concat(s.sl.ContactForm,"_PhoneNumber"),d),b=l(l(l({},v),h),{},{Email:f,TextInput:function(e){var t;return[{index:Math.floor(1e7*Math.random()+1),value:null===(t=String(e))||void 0===t?void 0:t.trim()}]},URLInput:f,NumberInput:y,Rating:y,OpinionScale:y,YesNo:function(e){return"string"==typeof e?"true"===e.trim().toLowerCase():e},MultiChoice:m,MultiChoicePicture:m,Dropdown:m,PhoneNumber:d,ConstantSum_Statement:y});const g=function(e){return function(t){return b[e]?l(l({},t),{},{value:b[e](t.value)}):t}}},"./src/helpers/defaultAnswers/helpers/index.js":(e,t,r)=>{"use strict";r.d(t,{Lw:()=>a,YO:()=>i,c1:()=>o,d2:()=>n});var n=function(e){return e.type.startsWith("ContactForm_")},o=function(e){var t;return!(null==e||null===(t=e.subQuestions)||void 0===t||!t.length)},i=function(e){var t,r=!(null==e||null===(t=e.properties)||void 0===t||!t.defaultAnswer);return!r&&o(e)&&(r=e.subQuestions.some((function(e){var t;return!(null===(t=e.properties)||void 0===t||!t.defaultAnswer)}))),r},a=function(e){return function(t,r){if(!o(t))return e(t.type)(r);var n={},i=r.value;for(var a in i){var s=i[a];n[a]=e(s.questionType)(s)}return n}};r("./node_modules/lodash/lodash.js")},"./src/helpers/defaultAnswers/model/defaultAnswer.model.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{sl:()=>l});var s={OpinionScale:"OpinionScale",Rating:"Rating",TextInput:"TextInput",EmailInput:"EmailInput",PhoneNumber:"PhoneNumber",URLInput:"URLInput",NumberInput:"NumberInput",DateTime:"DateTime",YesNo:"YesNo",MultiChoice:"MultiChoice",MultiChoicePicture:"MultiChoicePicture",Dropdown:"Dropdown",ContactForm:"ContactForm",ConstantSum:"ConstantSum",Slider:"Slider"},u={ContactForm_number:"".concat(s.ContactForm,"_number"),ContactForm_string:"".concat(s.ContactForm,"_string"),ContactForm_email:"".concat(s.ContactForm,"_email"),ContactForm_dropdown:"".concat(s.ContactForm,"_dropdown"),ContactForm_date:"".concat(s.ContactForm,"_date"),ContactForm_phone:"".concat(s.ContactForm,"_PhoneNumber")},c=i({ConstantSum_Statement:"".concat(s.ConstantSum,"_Statement")},u),l=(c.ConstantSum_Statement,i(i(i(i({},s),c),u),{number:"number",email:"email",string:"string",dropdown:"dropdown",date:"date"}))},"./src/helpers/defaultAnswers/transformers/answeredAndList.transformer.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r("./node_modules/lodash/fp.js"),o=r("./src/helpers/Phone.js"),i=r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s,u,c,l=function(e){return{datetime:e,timezone:Math.abs(new Date(e).getTimezoneOffset())}},p=(s={PhoneNumber:function(e){var t=(0,o.t$)(e),r=(0,o.Zu)(e);return"+".concat(t," ").concat(r)},DateTime:l,date:l},c=l,(u=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(u="".concat(i.sl.ContactForm,"_date")))in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,s),f=function(e){return null==e?void 0:e.value};const d=function(e){return function(t){var r=(0,n.pipe)(f,function(e){return function(t){return p[e]?p[e](t):t}}(e));return r(t)}}},"./src/helpers/defaultAnswers/transformers/responseBuffer.transformer.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r("./node_modules/lodash/fp.js"),o=r("./src/helpers/Phone.js"),i=r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s,u,c,l=function(e){return{datetime:e,timezone:Math.abs(new Date(e).getTimezoneOffset())}},p=(s={PhoneNumber:function(e){var t=(0,o.t$)(e),r=(0,o.Zu)(e);return"+".concat(t," ").concat(r)},DateTime:l,date:l},c=l,(u=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(u="".concat(i.sl.ContactForm,"_date")))in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,s),f=function(e){return null==e?void 0:e.value};const d=function(e){return function(t){var r=(0,n.pipe)(f,function(e){return function(t){return p[e]?p[e](t):t}}(e));return r(t)}}},"./src/helpers/defaultAnswers/transformers/workbench.transformer.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r("./node_modules/lodash/fp.js"),o=r("./src/helpers/Phone.js"),i=r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s,u,c,l=function(e){return{datetime:e,timezone:Math.abs(new Date(e).getTimezoneOffset())}},p=(s={PhoneNumber:function(e){return{country:(0,o.Ce)(e),code:"+".concat((0,o.t$)(e)),number:(0,o.Zu)(e)}},DateTime:l,date:l},c=l,(u=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(u="".concat(i.sl.ContactForm,"_date")))in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,s),f=function(e){return null==e?void 0:e.value};const d=function(e){return function(t){var r=(0,n.pipe)(f,function(e){return function(t){return p[e]?p[e](t):t}}(e));return r(t)}}},"./src/helpers/defaultAnswers/validators/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r("./src/helpers/questionTypeValidation.js"),o=r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={number:n.gf,email:n.B9,string:n._B,dropdown:n.Gw,date:n.vd},l=u(u(u(u(u(u({},"".concat(o.sl.ContactForm,"_number"),n.gf),"".concat(o.sl.ContactForm,"_string"),n._B),"".concat(o.sl.ContactForm,"_email"),n.B9),"".concat(o.sl.ContactForm,"_dropdown"),n.Gw),"".concat(o.sl.ContactForm,"_date"),n._B),"".concat(o.sl.ContactForm,"_PhoneNumber"),n.g0),p=s(s(s({},c),l),{},{Email:n.B9,PhoneNumber:n.g0,TextInput:n.CX,URLInput:n.Gz,NumberInput:n.gf,Rating:function(e,t){return n.gz(e,t.ratingScale)},OpinionScale:function(e,t){return n.$3(e,t.start,t.step)},YesNo:function(e){return"boolean"==typeof e},MultiChoice:n.Gw,MultiChoicePicture:n.Gw,Dropdown:n.Gw,ConstantSum_Statement:n.gf});const f=function(e){return function(t){return function(r){return p[e]?p[e](r.value,t)?r:null:r}}}},"./src/helpers/editorVariables.js":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>E});var n=r("./src/utils/draftUtils.js"),o=r("./src/helpers/TextTrim.js"),i=r("./server/commonConstants/nps/submission.js"),a=r("./server/commonConstants/questionTypes.js"),s=r("./src/constants/webhook.js"),u=r("./server/commonConstants/rule/event.js");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){return Object.entries(e).map((function(e){var t,r,n=(t=e,r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,r)||m(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return{isContactProperty:!0,name:"contact.".concat(n.name),label:o.A.trim(n.label,20),description:n.description}}))},b=function(e){return Object.values(e).map((function(e){return{name:"expression_".concat(e.name),label:o.A.trim(e.name,20),description:"Expression ".concat(e.name),isExpression:!0}}))},g=function(e){return Object.values(e).map((function(e){return{name:"variable_".concat(e.name),label:o.A.trim(e.label,20),description:e.description,isCustomProperty:!0}}))},_=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],s=y(e.sections);try{for(s.s();!(t=s.n()).done;){var u,c=y(t.value.questions);try{for(c.s();!(u=c.n()).done;){var l,p=u.value;if(!r||!r.includes(p.type))if((null===(l=p.subQuestions)||void 0===l?void 0:l.length)>0&&!a.commonScoreQuestionTypes.includes(p.type))i.push({name:"question_".concat(p.id),label:o.A.trim(n.A.getTextFromRawJSON(p.rtxt),20),description:n.A.getTextFromRawJSON(p.rtxt),disabled:!0}),p.type===a.questionTypes.ConstantSum.name||p.type===a.questionTypes.GroupRank.name||p.type===a.questionTypes.GroupRating.name?p.subQuestions.map((function(e){i.push({name:"question_".concat(e.id),label:o.A.trim(e.txt,20),description:e.txt,subItem:!0})})):p.subQuestions.length>0&&p.subQuestions.map((function(e){var t=o.A.trim(n.A.getTextFromRawJSON(e.rtxt),20),r=n.A.getTextFromRawJSON(e.rtxt);e.type==="".concat(a.questionTypes.BipolarMatrix.name,"_Statement")&&(t="".concat(t," : ").concat(o.A.trim(n.A.getTextFromRawJSON(e.properties.data.bipolarMatrixRight),20)),r="".concat(r," : ").concat(n.A.getTextFromRawJSON(e.properties.data.bipolarMatrixRight))),i.push({name:"question_".concat(e.id),label:t,description:r,subItem:!0})}));else if(a.commonScoreQuestionTypes.includes(p.type)){var f,d=n.A.getTextFromRawJSON(p.rtxt);if(i.push({name:"question_".concat(p.id),label:o.A.trim(d,20),description:d,questionType:p.type}),null!==(f=p.subQuestions)&&void 0!==f&&f.length){var m=p.subQuestions[0];d=n.A.getTextFromRawJSON(m.rtxt),i.push({name:"question_".concat(m.id),label:o.A.trim(d,20),description:d,questionType:m.type})}}else{var v=n.A.getTextFromRawJSON(p.rtxt);if(p.type===a.questionTypes.Consent.name){var h=p.properties.data,b=h.showTermsAndCondition,g=h.choiceRtxt;b||(v=n.A.getTextFromRawJSON(g))}i.push({name:"question_".concat(p.id),label:o.A.trim(v,20),description:v,questionType:p.type})}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){s.e(e)}finally{s.f()}return i},w=function(e){var t,r=[],o=y(e.sections);try{for(o.s();!(t=o.n()).done;){var i,s=y(t.value.questions);try{var u=function(){var e=i.value;e.type===a.questionTypes.EmailInput.name&&r.push({label:n.A.getTextFromRawJSON(e.rtxt),value:"question_".concat(e.id),name:"Questions"}),e.type===a.questionTypes.ContactForm.name&&e.subQuestions.forEach((function(t){t.properties.data.type===a.dataTypes.email&&r.push({type:"group",groupName:n.A.getTextFromRawJSON(e.rtxt),label:n.A.getTextFromRawJSON(t.rtxt),value:"question_".concat(t.id),name:"Questions"})}))};for(s.s();!(i=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}return function(e){return e.sort((function(e,t){return"group"===e.type&&"group"!==t.type?1:"group"!==e.type&&"group"===t.type?-1:0}))}(r)},O=function(e){return e.map((function(e){return f(f({},e),{},{isSubmissionProperty:!0})}))},j=function(e,t,r){var n=[];if(r&&(n=s.mB,(null==t?void 0:t.value)!==u.submissionCompleted&&(null==t?void 0:t.value)!==u.evaluatorAssignedToSubject&&(n=[].concat(l(n),[s.K_]))),r||((null==t?void 0:t.value)!==u.emailShareComplete&&n.push(s.zz),s.Vp.forEach((function(e){n=[].concat(l(n),[e])}))),e){var o=s.fv.find((function(e){return"submission_surveyLanguage"===e.name})),i=s.fv.find((function(e){return"submission_location"===e.name}));n=[].concat(l(n),[o,i])}return e||r||(null==t?void 0:t.value)!==u.emailShareComplete&&(s.fv.forEach((function(e){n=[].concat(l(n),[e])})),s.EJ.forEach((function(e){n=[].concat(l(n),[e])}))),n};const E={getDropDownItems:function(e,t,r,n,o,a,s){return{contact:h(r),variable:g(t.customProperties),expression:b(t.expressions),questions:_(t),submission:O(n),survey:i.survey,general:j(o,a,s)}},getClassicDropDownItems:function(e,t,r){return{contact:h(r),variable:g(t.customProperties),expression:b(t.expressions),questions:_(t,[a.questionTypes.PaymentQuestion.name]),survey:i.survey}},getRequesterDropDownItems:function(e,t){return[].concat(l(h(t)),l(w(e)))},getAssigneeDropDownItemsFromQuestions:function(e){return w(e)},getAssigneeDropDownItemsFromContact:function(e){return h(e)}}},"./src/helpers/eui/AnimateElement.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r,n){var o=document.querySelector("".concat(e,".").concat(t));o&&o.classList.add(r),setTimeout((function(){o&&o.classList.remove(r)}),n)}},"./src/helpers/eui/Conversation.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>C});var n=r("./src/utils/widget/Constants.js"),o=r("./node_modules/scroll-into-view/scrollIntoView.js"),i=r.n(o),a=r("./node_modules/mobile-detect/mobile-detect.js"),s=r.n(a),u=r("./src/helpers/eui/Thankyou.js"),c=r("./src/utils/draftUtils.js"),l=r("./src/helpers/i18n/index.js"),p=r("./src/helpers/datetime.js"),f=r("./src/helpers/eui/QuotaExceeded.js"),d=r("./src/helpers/expression.js"),y=r("./src/utils/euiUtils.js"),m=r("./src/constants/conversation.js"),v=r("./server/commonConstants/questionTypes.js"),h=r("./src/helpers/eui/MultiChoice.js"),b=r("./src/utils/sentry.js");function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A=new(s())(window.navigator.userAgent).mobile(),T=".ss_chats--block",P=function(e){return c.A.getHTMLFromEditorStateReplaceVariables(c.A.getEditorStateFromQuestion(e),y.A.getVariableMap())};const C={scrollToBottom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=navigator.userAgent.match(/msie/i)||navigator.userAgent.match(/trident/i);if(t&&A||r){var n=jQuery("#".concat(m.N.SCROLL_CONTAINER));requestAnimationFrame((function(){var e,t=null===(e=document.getElementById(m.N.SCROLL_DESTINATION))||void 0===e?void 0:e.offsetTop;void 0!==t&&n.animate({scrollTop:t-20},200)}))}else{var o=e||document.getElementById(m.N.SCROLL_DESTINATION);i()(o,{time:200,align:{top:0,topOffset:20}})}},removeWidget:function(){parent&&parent.postMessage({type:n.messageTypes.removeWindow},"*")},redirectUrl:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,a=arguments.length>7?arguments[7]:void 0,s=(arguments.length>6?arguments[6]:void 0)?a?f.A.getThankyouJSON(t,i,r,n,a.jumpId,a.redirectUrl):null:u.A.getActiveThankyou(t,i,r,t.companyName),c=r.features.features,l=null;if(s&&!o&&t.features.includes(c.SURVEY_COMPLETION_REDIRECT.name)&&(s.redirectBoolean&&s.redirect||s.redirectMultiBoolean)){l=s.redirect;try{if(s.redirectMultiBoolean&&s.redirectMulti&&s.redirectMulti[i.language])l=s.redirectMulti[i.language];else if(!l)return!1}catch(r){(0,b.k)(r,{message:"Error while checking multi redirect thankyou url for survey, account_id: ".concat(t.id," survey_id:").concat(e.id),tags:{errorType:"EUI_SOC_ERROR"},info:{activeThankyou:JSON.stringify(s)}})}return l.startsWith("http")||(l="http://".concat(l)),l}return!1},postCardSize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(parent){var o=n.chatStyles.iframeForAutoTriggered.width,i=n.chatStyles.iframeForAutoTriggered.height;e&&(o="".concat(e.clientWidth+r,"px"),i="".concat(e.clientHeight+t,"px")),parent.postMessage({type:n.messageTypes.widgetDimensionsV2,widgetOpen:!1,dimensions:{width:o,height:i}},"*")}},isCard:function(e,t){var r=t.types,n=t.embedTypes;return e&&e.type===r.EMBED.name&&e.properties.type===n.autoTriggered.name},alignContent:function(e,t){var r=$(window).innerHeight(),n=$(".ss_chat").height()||$(".ss_completed_container").height();r-2*($(".ss_navbar_top").height()||50)>n?$(T).addClass(e):$(T).addClass(t)},getLastQuestionWithAnswer:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,h.X)(e[0])||null!=n&&null!==(t=n.properties)&&void 0!==t&&t.embedQuestionId)return null;var o,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=E(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.answer&&(r=a)}}catch(e){i.e(e)}finally{i.f()}return r},generateFormData:function(e,t,r){try{var n,o=[],i=0,a=!1;if(null!=e&&null!==(n=e.answered)&&void 0!==n&&n.length)for(var s=function(){var t,n,s,f=e.answered[u],y=[];switch(f.type){case v.questionTypes.OpinionScale.name:case v.questionTypes.Rating.name:case v.questionTypes.NumberInput.name:case v.questionTypes.TextInput.name:case v.questionTypes.EmailInput.name:case v.questionTypes.PhoneNumber.name:case v.questionTypes.URLInput.name:case v.questionTypes.NPSFeedback.name:case v.questionTypes.CESFeedback.name:case v.questionTypes.CSATFeedback.name:case v.questionTypes.NPSScore.name:case v.questionTypes.CESScore.name:case v.questionTypes.CSATScore.name:n=f.answer?f.answer.skipped?"skipped":f.answer.data:" ";break;case v.questionTypes.Consent.name:n=f.answer?f.answer.data?l.F2.t("builder.consent.agree"):l.F2.t("builder.consent.disagree"):"";case v.questionTypes.YesNo.name:if(null!=f&&null!==(t=f.answer)&&void 0!==t&&t.skipped)n="skipped";else{var m=f.answer?f.answer.data?f.properties.data.yes||v.questionTypes.YesNo.properties.data.yes:f.properties.data.no||v.questionTypes.YesNo.properties.data.no:"";n=l.F2.t(m||"")}break;case v.questionTypes.MultiChoice.name:case v.questionTypes.MultiChoicePicture.name:case v.questionTypes.Dropdown.name:case v.questionTypes.RankOrder.name:if(f.answer.skipped)n="skipped";else{var h,b=[];f.answer.data.forEach((function(e){f.choices&&f.choices.forEach((function(t){t.id===e&&(h=h?h+", ".concat(t.txt):t.txt,b.push(t.id),f.hasScore&&(a=!0,i+=parseFloat(t.score)))}))})),n=h,y=b}break;case v.questionTypes.DateTime.name:if(f.answer.skipped)n="skipped";else{var g=f.properties.data,w=g.type,E=g.dateFormat,S=g.timeFormat,A=w===v.questionTypes.DateTime.types.DATE_ONLY.name;n=(0,p.LW)(f.answer.data.datetime,A,E,S,f.answer.data.timezone,r)}break;case v.questionTypes.FileInput.name:n=f.answer.skipped?"skipped":f.answer.data?f.answer.data.files[0].url:null;break;case v.questionTypes.ConstantSum.name:case v.questionTypes.GroupRating.name:if(f.answer.skipped)n="skipped";else{var T={},C=f.answer.data;Object.keys(C).forEach((function(e){f.subQuestions&&f.subQuestions.forEach((function(t){t.id===parseInt(e)&&(T[t.txt]=C[e])}))})),n=T}break;case v.questionTypes.ContactForm.name:if(f.answer.skipped)n="skipped";else{var x={},I=f.answer.data;Object.keys(I).forEach((function(e){f.subQuestions&&f.subQuestions.forEach((function(t){if(t.id===parseInt(e))if(t.properties.data.type===v.dataTypes.dropdown)x[c.A.getTextFromRawJSON(t.rtxt)]=(0,d.m)(I[t.id],t).join(",");else if(t.properties.data.type===v.dataTypes.date){var r=v.questionTypes.DateTime.properties.data,n=r.dateFormat,o=r.timeFormat;x[c.A.getTextFromRawJSON(t.rtxt)]=(0,p.LW)(I[t.id].datetime,!0,n,o)}else x[c.A.getTextFromRawJSON(t.rtxt)]=I[e]}))})),n=x}break;case v.questionTypes.Matrix.name:case v.questionTypes.BipolarMatrix.name:if(f.answer.skipped)n="skipped";else{var L=f.properties,k=f.subQuestions,N=L.data.matrix.answerType,D={},R=[],M=f.scalePoints.reduce((function(e,t){return O(O({},e),{},j({},t.id,t.name))}),{}),q=f.scalePoints.reduce((function(e,t){return[].concat(_(e),_(t.choices))}),[]),F=f.answer.data;N!==v.questionTypes.Matrix.answerTypes.TEXT_INPUT.name?Object.keys(F).forEach((function(e){var t=e;k&&k.forEach((function(e){if(e.id===parseInt(t)){var r,n={};Object.values(F[t]||[]).forEach((function(t){e.choices.forEach((function(e){e.id===t&&(r=r?r+", ".concat(M[e.id]):M[e.id])})),(q||[]).forEach((function(e){var r,o,i,a=t[0].choiceId;e.id===a&&(n=O(O({},n),{},{scalePointId:e.scale_point_id,scalePointAnswer:[].concat(_((null===(r=n)||void 0===r?void 0:r.scalePointAnswer)||[]),[M[e.scale_point_id]]),choice_id:[].concat(_((null===(o=n)||void 0===o?void 0:o.choice_id)||[]),[e.id])}),N!==v.questionTypes.Matrix.answerTypes.SINGLE_ANSWER.name&&N!==v.questionTypes.Matrix.answerTypes.MULTIPLE_ANSWER.name&&(n=O(O({},n),{},{choice:[].concat(_((null===(i=n)||void 0===i?void 0:i.choice)||[]),[e.txt])})))}))})),R.push({id:e.id,answer:n})}}))})):Object.keys(F).forEach((function(e){var t=e;k&&k.forEach((function(e){if(e.id===parseInt(t)){var r={},n={};Object.values(F[t]).forEach((function(o){e.choices.forEach((function(e){e.id===parseInt(o[0].choiceId)&&(r[M[e.scale_point_id]]=F[t][o])})),(q||[]).forEach((function(e){var t,r,i,a=o[0],s=a.choiceId,u=a.text;e.id===s&&(n={scalePointId:e.scale_point_id,scalePointAnswer:[].concat(_((null===(t=n)||void 0===t?void 0:t.scalePointAnswer)||[]),[M[e.scale_point_id]]),choice:[].concat(_((null===(r=n)||void 0===r?void 0:r.choice)||[]),[u]),choice_id:[].concat(_((null===(i=n)||void 0===i?void 0:i.choice_id)||[]),[e.id])})}))})),R.push({id:e.id,answer:n}),D[c.A.getTextFromRawJSON(e.rtxt)]=r}}))})),s=R||"",n=D||""}break;case v.questionTypes.Signature.name:n=f.answer.skipped?"skipped":(f.answer.data||{}).url}if(f.type!==v.questionTypes.Message.name){var U={id:f.id,question:P(f),answer:n||""};f.type===v.questionTypes.Matrix.name||f.type===v.questionTypes.BipolarMatrix.name?U.matrixAnswer=s:v.questionTypes[f.type].choices&&(U.choice_id=y),o.push(U)}},u=0;u<e.answered.length;u++)s();var f={response:o};return a&&(f.score=i),f}catch(e){return console.log("Error while generateFormData",e),{error:e.message}}}}},"./src/helpers/eui/DefaultAnswer.js":(e,t,r)=>{"use strict";r.d(t,{o:()=>a,p:()=>i});var n=r("./server/commonConstants/questionTypes.js"),o=r("./src/constants/survey.js"),i=function(e,t){var r;return e.type===n.questionTypes.OpinionScale.name&&(null===(r=e.properties.data)||void 0===r?void 0:r.notApplicable)&&t===o.hH.name},a=function(e,t){var r={timeTaken:0};return i(t,e)?(r.skipped=!0,r.notApplicable=!0):(r.skipped=!1,r.data=e),r}},"./src/helpers/eui/FocusHandler.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r("react"),o=r.n(n),i=r("./node_modules/mobile-detect/mobile-detect.js"),a=r.n(i),s=r("./node_modules/react-redux/es/index.js");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}var c,l=new(a())(window.navigator.userAgent);const p=function(e){return function(t){var r,i,a,p=null===(r=t.question)||void 0===r||null===(i=r.section)||void 0===i||null===(a=i.properties)||void 0===a?void 0:a.singlePageForm,f=(0,n.useRef)(),d=Boolean(l.mobile())||Boolean(l.tablet()),y=(0,s.useSelector)((function(e){var t;return null===(t=e.commentSystem)||void 0===t?void 0:t.openCommentId})),m=(0,s.useSelector)((function(e){var t;return null===(t=e.collaboration)||void 0===t?void 0:t.comments})),v=(0,n.useMemo)((function(){var e;return y&&m?null===(e=m.find((function(e){return e.id===y})))||void 0===e?void 0:e.question_id:null}),[m,y]);return(0,n.useEffect)((function(){if(f.current&&t.isVisible&&(!d||"Slider"===t.question.type)&&!p&&(!y||v!==t.question.id))return t.focusOnInit?c=setTimeout((function(){f&&f.current&&f.current.focus()}),600):clearTimeout(c),function(){return f.current&&f.current.blur&&f.current.blur()};v===t.question.id&&c&&clearTimeout(c)}),[t.isVisible,t.focusOnInit,y,null==f?void 0:f.current]),o().createElement(e,u({},t,{forwardRef:f}))}}},"./src/helpers/eui/InertialScroll.js":(e,t,r)=>{"use strict";r.d(t,{$:()=>i,F:()=>o});var n=r("./src/constants/scroll.js");function o(e){var t,r,n,o,i,a=e.isInertialScroll;return t=e.questionContainer,n=(r=$(t).offset().top)+$(t).outerHeight(),i=(o=$(window).scrollTop())+$(window).height(),!(n>o&&r<i||!a)}function i(e){var t=e.isLastQuestion,r=e.isFirstQuestion,o=e.scrollDirection,i=e.blockInertialScroll,a=e.hasReachedTop,s=e.hasReachedBottom,u=e.isNextQuestionRestricted;return s&&o===n.JQ.DOWN?!(u&&!i):!(!a||o!==n.JQ.UP||!i&&(u&&!t||r))}},"./src/helpers/eui/Logic/Display.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r("./src/helpers/eui/Logic/index.js"),o=r("./src/helpers/Choice.js"),i=r("./server/commonConstants/questionTypes.js"),a=r("./src/helpers/eui/MultiChoice.js"),s=r("./server/commonConstants/surveyTypes.js"),u=r.n(s);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}const b=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return v(e=function(e,t,r){return t=y(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"_hasDisplayLogic",(function(e){var t=!1;return o.A.isQuestionSupportChoiceLevelLogic(null==e?void 0:e.type)&&(t=e.choices.some((function(e){var t,r;return null===(t=e.displayLogic)||void 0===t||null===(r=t.logics)||void 0===r?void 0:r.length}))),e&&e.displayLogic&&e.displayLogic.logics&&e.displayLogic.logics instanceof Array&&e.displayLogic.logics.length>0||t||e&&e.sectionDisplayLogic&&e.sectionDisplayLogic.logics&&e.sectionDisplayLogic.logics instanceof Array&&e.sectionDisplayLogic.logics.length>0})),e.logicType="DL",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,n=[{key:"_isChoiceLevelLogicSupported",value:function(){return o.A.isChoiceLevelLogicSupported(this.survey,this.config.surveyTypesConstants.surveyTypes)&&o.A.isChoiceLevelLogicEnabled(this.account.features,this.config.features.features)}},{key:"getDisplayChoices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeQuestion;if(o.A.isQuestionSupportChoiceLevelLogic(null==t?void 0:t.type)){var r=this._isChoiceLevelLogicSupported(),n={choices:[],totalDummyChoices:0},i=t.choices.filter((function(t){var o;return(t.properties.allOfTheAbove||t.properties.noneOfTheAbove)&&n.totalDummyChoices++,t.properties.allOfTheAbove?n.hasAllOfTheAbove=!0:t.properties.noneOfTheAbove&&(n.hasNoneOfTheAbove=!0),!r||e.evaluateAll((null===(o=t.displayLogic)||void 0===o?void 0:o.logics)||[])}));return p(p({},n),{},{choices:i})}}},{key:"_evaluateChoices",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeQuestion;if(!o.A.isQuestionSupportChoiceLevelLogic(null==r?void 0:r.type))return!0;var n=this.getDisplayChoices(r),a=n.hasNoneOfTheAbove,s=n.choices,u=null==s?void 0:s.length,c=null==r||null===(e=r.properties)||void 0===e||null===(t=e.dynamicChoice)||void 0===t?void 0:t.isDynamic,l=u>0||c,p=r.properties.data,f=p.type,d=p.minLimit,y=p.exactChoices;if(l&&r.multipleAnswers){var m=i.questionTypes.MultiChoice.types,v=m.EXACT,h=m.RANGE;if(f===v.name){var b=+y;l=c||(a&&b>1?u>b:u>=b)}else if(f===h.name){var g=+d;l=c||(a&&g>1?u>g:u>=g)}}return l}},{key:"evaluateQuestion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeQuestion;if((0,a.X)(e)&&this.survey.type===u().Conversational.name)return!1;var t=this.account.features.includes(this.config.features.features.SURVEY_SECTION_RANDOMISER.name);if(this._hasDisplayLogic(e)||null!=e&&e.hasLoopLogic){var r,n,o,s,c,l,p,f,d,y,m,v=[],h=[],b=[];t&&this.survey.properties.surveyRandomiser||!this._hasDisplayLogic(e)||i.questionTypes[e.type].displayLogicDisabled||(null!=e&&e.displayLogic&&null!=e&&e.displayLogic.logics&&(null==e||null===(c=e.displayLogic)||void 0===c||null===(l=c.logics)||void 0===l?void 0:l.length)>0&&(v=null==e||null===(y=e.displayLogic)||void 0===y?void 0:y.logics),null!=e&&e.sectionDisplayLogic&&null!=e&&null!==(p=e.sectionDisplayLogic)&&void 0!==p&&p.logics&&(null==e||null===(f=e.sectionDisplayLogic)||void 0===f||null===(d=f.logics)||void 0===d?void 0:d.length)>0&&(h=null==e||null===(m=e.sectionDisplayLogic)||void 0===m?void 0:m.logics)),null!=e&&e.hasLoopLogic&&null!=e&&null!==(r=e.loopLogic)&&void 0!==r&&r.logics&&(null==e||null===(n=e.loopLogic)||void 0===n||null===(o=n.logics)||void 0===o?void 0:o.length)>0&&(b=null==e||null===(s=e.loopLogic)||void 0===s?void 0:s.logics);var g=this.evaluateAll(v)&&this.evaluateAll(h)&&this.evaluateAll(b);return this._isChoiceLevelLogicSupported()&&g&&(g=this._evaluateChoices(e)),g}return!e||!this._isChoiceLevelLogicSupported()||this._evaluateChoices(e)}},{key:"evaluateThankyouLogic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._hasThankYouDisplayLogic(this.survey,e)){var t=[],r=this.survey.thankyou_json[e];return r&&r.displayLogic&&r.displayLogic.logics&&r.displayLogic.logics.length>0&&(t=r.displayLogic.logics),this.evaluateAll(t)}return!0}},{key:"findNext",value:function(){return this._findNext(this.activeQuestion)}},{key:"_findNext",value:function(e){if(e&&this._isReachedEnd(e))return null;var t=e?this._getPosition(e):-1,r=this.questions[t+1];return null!=r&&r.answer&&!r.answer.skipped?(0,a.X)(r)?r:this._findNext(r):this._hasDisplayLogic(r)?(this.activeQuestion=r,this.evaluateQuestion(r)?r:this._findNext(r)):r}},{key:"_hasThankYouDisplayLogic",value:function(e,t){return e&&e.thankyou_json&&e.thankyou_json[t]&&e.thankyou_json[t].displayLogic&&e.thankyou_json[t].displayLogic.logics&&e.thankyou_json[t].displayLogic.logics instanceof Array&&e.thankyou_json[t].displayLogic.logics.length>0}}],n&&f(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.A)},"./src/helpers/eui/Logic/Jump.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.d(t,{A:()=>l});const l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return u(e=function(e,t,r){return t=a(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,r||[],a(e).constructor):t.apply(e,r))}(this,t,[].concat(s)),"findNextQuestionIndex",(function(){var t=e._getPosition(e.activeQuestion)+1;if(e._hasJumpLogic()){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}(e.activeQuestion.jumpLogic.logics);try{for(n.s();!(r=n.n()).done;){var i,a=r.value,s=e.evaluateAll(a.logics,a.jump_to_id,null===(i=e.activeQuestion)||void 0===i?void 0:i.id),u=!1;if(s){if(-2===a.jump_to_id&&a.redirectUrl)return{nextIndex:null,redirectUrl:a.redirectUrl};if(-1===a.jump_to_id)return{nextIndex:t,redirectUrl:null};var c=a.jump_to_id;if(-1!=="".concat(a.jump_to_id).indexOf("sec:")){var l=parseInt(a.jump_to_id.slice(4));c=e._findFirstQuestionId(l)}if(-1!=="".concat(a.jump_to_id).indexOf("ty:")){for(var p=e.questions.length,f=t;f<p;f++){var d;if(u=null===(d=e.logicIgnoredQuestionIds)||void 0===d?void 0:d.includes(e.questions[f].id))break}return{nextIndex:u?t:a.jump_to_id,redirectUrl:null}}for(var y=e.positions[c]-t,m=t;m<t+y;m++){var v;if(u=null===(v=e.logicIgnoredQuestionIds)||void 0===v?void 0:v.includes(e.questions[m].id))break}if(!u){t=c>0?e.positions[c]:c;break}}}}catch(e){n.e(e)}finally{n.f()}}return{nextIndex:t,redirectUrl:null}})),u(e,"_findFirstQuestionId",(function(t){var r=e.questions.find((function(e){return e.section_id===t}));return r?r.id:0})),u(e,"_hasJumpLogic",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.activeQuestion;return t&&t.jumpLogic&&t.jumpLogic.logics&&t.jumpLogic.logics instanceof Array&&t.jumpLogic.logics.length>0})),e.logicType="JL",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(r("./src/helpers/eui/Logic/index.js").A)},"./src/helpers/eui/Logic/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var helpers_expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/expression.js"),commonUtils_expression__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./server/commonUtils/expression.js"),commonUtils_expression__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(commonUtils_expression__WEBPACK_IMPORTED_MODULE_1__),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),commonConstants_translation__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./server/commonConstants/translation.js"),commonConstants_translation__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(commonConstants_translation__WEBPACK_IMPORTED_MODULE_3__),surveysparrow_analyze_commonConstants_employee360_result__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./surveysparrow-analyze/server/commonConstants/employee360/result.js"),surveysparrow_analyze_commonConstants_employee360_result__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(surveysparrow_analyze_commonConstants_employee360_result__WEBPACK_IMPORTED_MODULE_4__),mobile_detect__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mobile-detect/mobile-detect.js"),mobile_detect__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(mobile_detect__WEBPACK_IMPORTED_MODULE_5__),commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./server/commonConstants/displayLogic.js"),commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6__),helpers_survey__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/survey.js"),commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./server/commonConstants/contact/index.js"),commonConstants_contact__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__),commonUtils_questions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./server/commonUtils/questions.js"),commonUtils_questions__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(commonUtils_questions__WEBPACK_IMPORTED_MODULE_9__),commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./server/commonConstants/questionTypes.js"),commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10__);function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},contionMapping={and:"&&",or:"||"},getDeviceType=function(){var e=new(mobile_detect__WEBPACK_IMPORTED_MODULE_5___default())(window.navigator.userAgent),t="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,r=commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6__.deviceTypes.COMPUTER.name;return e.mobile()?r=commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6__.deviceTypes.MOBILE.name:(e.tablet()||window.navigator.userAgent.match(/Mac/i)&&t)&&(r=commonConstants_displayLogic__WEBPACK_IMPORTED_MODULE_6__.deviceTypes.TABLET.name),r},noop=function(){},Logic=function(){function Lgc(e){var t=e.account,r=e.config,n=e.questions,o=e.activeQuestion,i=e.positions,a=e.contact,s=e.channel,u=e.survey,c=e.isWidget,l=void 0!==c&&c,p=e.dispatch,f=void 0===p?noop:p,d=e.relation,y=e.subject,m=e.language,v=e.logicIgnoredQuestionIds,h=void 0===v?[]:v,b=e.translations,g=void 0===b?[]:b,_=e.isEditing,w=void 0!==_&&_;_classCallCheck(this,Lgc),_defineProperty(this,"getData",(function(e,t){var r;return t.type===commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10__.questionTypes.TextInput.name&&"object"===_typeof(e)?(null===(r=e[0])||void 0===r?void 0:r.value)||"":e})),_defineProperty(this,"_checkNotApplicable",(function(e,t,r){var n,o,i,a=e.value===surveysparrow_analyze_commonConstants_employee360_result__WEBPACK_IMPORTED_MODULE_4__.answerTypes.notApplicable,s=r?(null===(n=t.answer)||void 0===n?void 0:n.skipped)&&(null===(o=t.answer)||void 0===o?void 0:o.notApplicable):!(null!==(i=t.answer)&&void 0!==i&&i.notApplicable);if(a&&t.answer&&s)return!0})),this.account=t,this.logicMeta=r.displayLogic,this.questions=n,this.activeQuestion=o,this.positions=i,this.contact=a,this.channel=s,this.language=m,this.survey=u,this.isWidget=l,this.dispatch=f,this.config=r,this.relation=d,this.subject=y,this.isEditing=w,this.logicIgnoredQuestionIds=h,this.translations=g}return _createClass(Lgc,[{key:"evaluateAll",value:function evaluateAll(logics,jumpLogicDestination,jumpLogicStart){var _this$activeQuestion,logicEvaluations=[],skipEvaluation=!1,shouldApplyRandomiser=this.account.features.includes(this.config.features.features.SURVEY_SECTION_RANDOMISER.name),_iterator=_createForOfIteratorHelper(logics),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _this$activeQuestion2,logic=_step.value;shouldApplyRandomiser&&(this.survey.properties.surveyRandomiser||null!==(_this$activeQuestion2=this.activeQuestion)&&void 0!==_this$activeQuestion2&&_this$activeQuestion2.section.properties.sectionRandomise)&&(skipEvaluation=this._canSkipEvaluation(logic)),skipEvaluation||logicEvaluations.push({join_condition:logic.join_condition,result:this._evaluate(_objectSpread(_objectSpread({},logic),{},{jumpLogicDestination,jumpLogicStart}))})}}catch(e){_iterator.e(e)}finally{_iterator.f()}var acc=!0;"JL"===this.logicType&&(this.survey.properties.surveyRandomiser||null!==(_this$activeQuestion=this.activeQuestion)&&void 0!==_this$activeQuestion&&_this$activeQuestion.section.properties.sectionRandomise)&&(this.survey.properties.surveyRandomiser&&0===logicEvaluations.length&&(acc=!1),this.activeQuestion.section.properties.sectionRandomise&&0===logicEvaluations.length&&(acc=!1));var evaluationString=logicEvaluations.reduce((function(e,t,r){return 0===r?"".concat(e," && ").concat(t.result):"".concat(e," ").concat(contionMapping[t.join_condition]," ").concat(t.result)}),acc);return eval(evaluationString)}},{key:"_evaluate",value:function(e){try{if(this._isValidLogic(e)){var t=this._replaceContactPropertyVariables(e);return!!this["_".concat(t.type).concat(capitalizeFirstLetter(t.comparator))](t)}return"DL"===this.logicType}catch(t){return console.log("Something went wrong with evaluation. Error => ".concat(t.toString()," Logic =>"),e),"DL"===this.logicType}}},{key:"_canSkipEvaluation",value:function(e){var t=!1;if(e.type===this.config.displayLogic.conditionTypes.question.name){var r=this.questions[this.positions[e.question_id]],n=this.activeQuestion.section.properties.sectionRandomise;this.survey.properties.surveyRandomiser&&(t=this.activeQuestion.section_id!==(null==r?void 0:r.section_id)||!(this.activeQuestion.section_id!==(null==r?void 0:r.section_id)||!n),this.activeQuestion.section.abstract&&(t=!0)),this.activeQuestion.section.properties.sectionRandomise&&this.activeQuestion.section_id===(null==r?void 0:r.section_id)&&(t=!0)}else!this.survey.properties.surveyRandomiser||e.type!==this.config.displayLogic.conditionTypes.expression.name&&e.type!==this.config.displayLogic.conditionTypes.param.name||(t=!0);return t}},{key:"_replaceContactPropertyVariables",value:function(e){var t=e;if(e.isVariable){var r,n,o=e.value.replace(this.logicMeta.variableTypes.Contact.content,"");e.isDefaultVariable||(o=Object.values(this.survey.contactProperty).find((function(e){return e.id===Number(o)})).name),t=_objectSpread(_objectSpread({},t),{},{value:(null===(r=this.contact)||void 0===r||null===(n=r.attrs)||void 0===n?void 0:n[o])||""})}return t}},{key:"_isValidLogic",value:function(e){var t=!0;if((0,helpers_survey__WEBPACK_IMPORTED_MODULE_7__.IL)(this.survey.surveyType)&&"JL"===this.logicType){var r,n,o=this.questions.find((function(t){return t.id===(null==e?void 0:e.jumpLogicDestination)}));if(o&&null!==(r=o.section)&&void 0!==r&&null!==(n=r.properties)&&void 0!==n&&n.singlePageForm)return!1;var i,a,s=this.questions.find((function(t){return t.id===(null==e?void 0:e.jumpLogicStart)}));if(s&&null!==(i=s.section)&&void 0!==i&&null!==(a=i.properties)&&void 0!==a&&a.singlePageForm)return!1}var u,c=this.logicMeta.logicComparators[e.comparator];if(c.value)if(u=e.isVariable?e.value:e[c.value.data_property_name],this._isEmptyValue(u))t=!1;else if(e.type===this.logicMeta.conditionTypes.language.name){var l,p=this.config.surveyTypesConstants.surveyTypes;t=!(null===(l=this.translations)||void 0===l||!l.length)&&[p.ClassicForm.name,p.NPS.name,p.CES.name,p.CSAT.name].includes(this.survey.surveyType)}else if(e.type===this.logicMeta.conditionTypes.deviceType.name){var f=this.config.surveyTypesConstants;t=[].concat(_toConsumableArray(f.cxSurveys),[f.surveyTypes.ClassicForm.name,f.surveyTypes.Conversational.name]).includes(this.survey.surveyType)}return t}},{key:"_isEmptyValue",value:function(e){return null===e||0===e.length}},{key:"_getPosition",value:function(e){return this.positions[e.id]}},{key:"_isReachedEnd",value:function(e){var t=this.questions.length;return this._getPosition(e)+1>=t}},{key:"_getSubQuestionWithId",value:function(e){var t=null;return this.questions.forEach((function(r){r.subQuestions&&r.subQuestions.forEach((function(n){var o,i,a;n.id===e&&((t=_objectSpread({},n)).answer={data:(null===(o=r.answer)||void 0===o||null===(i=o.data)||void 0===i?void 0:i[n.id])||null,skipped:null===(a=r.answer)||void 0===a?void 0:a.skipped})}))})),t}},{key:"_getLogicQuestion",value:function(e){var t=e.question_id;if(t){var r=this.questions[this.positions[t]];if(r){if(!this.activeQuestion||this.positions[this.activeQuestion.id]<this.positions[t])throw new Error("Question is not yet answered")}else r=this._getSubQuestionWithId(t);return r}throw new Error("Question ID is not found in the logic")}},{key:"_surveyIsBeingSubmitted",value:function(){return!this.isEditing}},{key:"_surveyIsAlreadySubmitted",value:function(){return!!this.isEditing}},{key:"_paramIsPassed",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!!t&&Object.keys(t).indexOf(r)>=0}},{key:"_paramIsNotPassed",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!t||Object.keys(t).indexOf(r)<0}},{key:"_paramStartsWith",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&t[r].startsWith(e.value)}},{key:"_paramEndsWith",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&t[r].endsWith(e.value)}},{key:"_paramContains",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&t[r].includes(e.value)}},{key:"_paramDoesNotContain",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r]||t[r].includes(e.value))}},{key:"_paramEqualsString",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&t[r]===e.value}},{key:"_paramLessThanForParam",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&!isNaN(t[r])&&!isNaN(e.value)&&parseInt(t[r])<parseInt(e.value)}},{key:"_paramGreaterThanForParam",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&!isNaN(t[r])&&!isNaN(e.value)&&parseInt(t[r])>parseInt(e.value)}},{key:"_paramNotEqualTo",value:function(e){var t=this.survey.passedParams,r=e.param_property;return!(!t||!t[r])&&t[r]!==e.value}},{key:"_questionEquals",value:function(e){var t=this._getLogicQuestion(e);return!!this._checkNotApplicable(e,t,!0)||t.answer&&!t.answer.skipped&&String(this.getData(t.answer.data,t))===e.value}},{key:"_questionBooleanEquals",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&String(t.answer.data)===e.value}},{key:"_questionNotEquals",value:function(e){var t=this._getLogicQuestion(e);return!!this._checkNotApplicable(e,t,!1)||t.answer&&!t.answer.skipped&&String(this.getData(t.answer.data,t))!==e.value}},{key:"_questionDoesNotContain",value:function(e){var t=!1,r=this._getLogicQuestion(e);return r.answer&&!r.answer.skipped&&this.getData(r.answer.data,r)&&(t=(0,commonUtils_questions__WEBPACK_IMPORTED_MODULE_9__.isDynamicQuestion)(r)?this.getData(r.answer.data,r).every((function(t){return!t.includes(e.value)})):!this.getData(r.answer.data,r).includes(e.value)),t}},{key:"_questionBooleanNotEquals",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&String(t.answer.data)!==e.value}},{key:"_questionGreaterThan",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&t.answer.data>parseInt(e.value)}},{key:"_questionLessThan",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&t.answer.data<parseInt(e.value)}},{key:"_questionIsAnswered",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&(this.getData(t.answer.data,t)||0===this.getData(t.answer.data,t)||"boolean"==typeof this.getData(t.answer.data,t))}},{key:"_questionIsNotAnswered",value:function(e){var t=this._getLogicQuestion(e);return!t.answer||t.answer.skipped||!this.getData(t.answer.data,t)&&0!==this.getData(t.answer.data,t)&&"boolean"!=typeof this.getData(t.answer.data,t)}},{key:"_questionStartsWith",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&!!this.getData(t.answer.data,t)&&this.getData(t.answer.data,t).startsWith(e.value)}},{key:"_questionEndsWith",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&!!this.getData(t.answer.data,t)&&this.getData(t.answer.data,t).endsWith(e.value)}},{key:"_questionContains",value:function(e){var t=!1,r=this._getLogicQuestion(e);return r.answer&&!r.answer.skipped&&this.getData(r.answer.data,r)&&(t=(0,commonUtils_questions__WEBPACK_IMPORTED_MODULE_9__.isDynamicQuestion)(r)?this.getData(r.answer.data,r).some((function(t){return t.includes(e.value)})):this.getData(r.answer.data,r).includes(e.value)),t}},{key:"_questionEqualsString",value:function(e){return this._questionEquals(e)}},{key:"_checkChoiceExist",value:function(e,t){var r=!1;if(!(r=Object.keys(e).includes(t.choice_id.toString())))for(var n=0,o=Object.keys(e);n<o.length;n++){var i,a=_createForOfIteratorHelper(e[o[n]]);try{for(a.s();!(i=a.n()).done;){var s=i.value;if("rating"in s){if(String(s.choiceId)+String(s.rating)===String(t.choice_id)){r=!0;break}}else if(s.choiceId===t.choice_id){r=!0;break}}}catch(e){a.e(e)}finally{a.f()}}return r}},{key:"_questionIsNotSelected",value:function(e){var t,r=this._getLogicQuestion(e);if(!r.answer||r.answer.skipped)return!1;var n=r.answer.data;return t=n instanceof Array?!n.includes(parseInt(e.choice_id)):n instanceof Object?!this._checkChoiceExist(n,e):n!==parseInt(e.choice_id),!r.answer.skipped&&!!n&&t}},{key:"_getChoiceIdFromLogicVariable",value:function(e,t){var r=this,n=e,o=t.find((function(t){var n;return((null===(n=t.multiLanguageTxt)||void 0===n?void 0:n[r.language])||t.txt)===e.value}));return o&&(n=_objectSpread(_objectSpread({},n),{},{choice_id:o.id})),n}},{key:"_questionIsSelected",value:function(e){var t,r=this._getLogicQuestion(e);if(!r.answer||r.answer.skipped)return!1;var n=r.answer.data,o=r.choices;return e.isVariable&&(e=this._getChoiceIdFromLogicVariable(e,o)),t=n instanceof Array?n.includes(parseInt(e.choice_id)):n instanceof Object?this._checkChoiceExist(n,e):n===parseInt(e.choice_id),!r.answer.skipped&&!!n&&t}},{key:"_questionEqualToForScale",value:function(e){return this._questionEquals(e)}},{key:"_questionNotEqualToForScale",value:function(e){return this._questionNotEquals(e)}},{key:"_questionLessThanForScale",value:function(e){return this._questionLessThan(e)}},{key:"_questionGreaterThanForScale",value:function(e){return this._questionGreaterThan(e)}},{key:"_questionEqualToForRating",value:function(e){return this._questionEquals(e)}},{key:"_questionNotEqualToForRating",value:function(e){return this._questionNotEquals(e)}},{key:"_questionNotEqualTo",value:function(e){return this._questionNotEquals(e)}},{key:"_questionLessThanForRating",value:function(e){return this._questionLessThan(e)}},{key:"_questionGreaterThanForRating",value:function(e){return this._questionGreaterThan(e)}},{key:"_questionEqualToForNumber",value:function(e){return this._questionEquals(e)}},{key:"_questionNotEqualToForNumber",value:function(e){return this._questionNotEquals(e)}},{key:"_questionLessThanForNumber",value:function(e){return this._questionLessThan(e)}},{key:"_questionGreaterThanForNumber",value:function(e){return this._questionGreaterThan(e)}},{key:"_questionEqualToForYesNo",value:function(e){return this._questionBooleanEquals(e)}},{key:"_questionNotEqualToForYesNo",value:function(e){return this._questionBooleanNotEquals(e)}},{key:"_questionEqualToForDate",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&!!t.answer.data&&moment__WEBPACK_IMPORTED_MODULE_2___default()(t.answer.data.datetime).format("L")===moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("L")}},{key:"_questionNotEqualToForDate",value:function(e){var t=this._getLogicQuestion(e);return t.answer&&!t.answer.skipped&&!!t.answer.data&&moment__WEBPACK_IMPORTED_MODULE_2___default()(t.answer.data.datetime).format("L")!==moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("L")}},{key:"_contactStartsWith",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].startsWith(e.value)}},{key:"_contactEndsWith",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].endsWith(e.value)}},{key:"_contactContains",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].includes(e.value)}},{key:"_contactEqualsForDropDown",value:function(e){var t=this.survey.contactProperty;if(!e.contact_property||!t[e.contact_property])return!1;if(e.contact_property===this.config.displayLogic.contactProperties.language.name){var r=commonConstants_translation__WEBPACK_IMPORTED_MODULE_3__.languageMap[this.contact.attrs[e.contact_property]];return r&&e.value===r.code}}},{key:"_contactNotEqualsForDropDown",value:function(e){return!this._contactEqualsForDropDown(e)}},{key:"_contactEqualsString",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&(this.contact&&this.contact.attrs?!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property]===e.value:void 0)}},{key:"_contactNotEqualTo",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&(this.contact&&this.contact.attrs?!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property]!==e.value:void 0)}},{key:"_contactDoesNotContain",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&!this.contact.attrs[e.contact_property].includes(e.value)}},{key:"_contactHasValue",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]}},{key:"_contactIsEmpty",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property]||this.contact&&this.contact.attrs&&this.contact.attrs[e.contact_property])}},{key:"_contactEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])===Number(e.value)}},{key:"_contactNotEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])!==Number(e.value)}},{key:"_contactLessThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])<Number(e.value)}},{key:"_contactGreaterThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])>Number(e.value)}},{key:"_contactBefore",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.contact.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")<0&&(o=!0),o}},{key:"_contactAfter",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.contact.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")>0&&(o=!0),o}},{key:"_contactEqualToForDate",value:function(e){var t,r,n,o,i=this.survey.contactProperty;return!(!e.contact_property||!i[e.contact_property]||null===(t=this.contact)||void 0===t||null===(r=t.attrs)||void 0===r||!r[e.contact_property]||moment__WEBPACK_IMPORTED_MODULE_2___default()(null===(n=this.contact)||void 0===n||null===(o=n.attrs)||void 0===o?void 0:o[e.contact_property]).format("L")!==moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("L"))}},{key:"_contactNotEqualToForDate",value:function(e){var t,r,n,o,i=this.survey.contactProperty;return!(!e.contact_property||!i[e.contact_property]||null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(null===(n=this.contact)||void 0===n||null===(o=n.attrs)||void 0===o?void 0:o[e.contact_property]).format("L")===moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("L"))}},{key:"_channelStartsWith",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property].startsWith(e.value)}},{key:"_channelEndsWith",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property].endsWith(e.value)}},{key:"_channelContains",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property].includes(e.value)}},{key:"_channelEqualsString",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property]===e.value}},{key:"_channelIsChannelType",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property]===e.channel_type}},{key:"_channelIsNotChannelType",value:function(e){return this.channel&&!!this.channel[e.channel_property]&&this.channel[e.channel_property]!==e.channel_type}},{key:"_languageIsLanguage",value:function(e){var t;return!(null!==(t=this.translations)&&void 0!==t&&t.length)||this.language&&e.value.includes(this.language)}},{key:"_languageIsNotLanguage",value:function(e){var t;return!(null!==(t=this.translations)&&void 0!==t&&t.length)||this.language&&!e.value.includes(this.language)}},{key:"_getExpressionValueFromId",value:function(e){var t=this.survey.expressions;if(!t.find((function(t){return t.id===e})))throw new Error("Expression with id ".concat(e," not found while evaluating Logic"));var r=(0,helpers_expression__WEBPACK_IMPORTED_MODULE_0__.jN)(this.questions,this.contact,{passedParams:this.survey.passedParams,customProperties:this.survey.customProperties});return(0,commonUtils_expression__WEBPACK_IMPORTED_MODULE_1__.evaluateExpressions)(t,r)[e]}},{key:"_expressionEqualToForNumber",value:function(e){return this._getExpressionValueFromId(e.expression_property)===Number(e.value)}},{key:"_expressionNotEqualToForNumber",value:function(e){return this._getExpressionValueFromId(e.expression_property)!==Number(e.value)}},{key:"_expressionLessThanForNumber",value:function(e){return this._getExpressionValueFromId(e.expression_property)<Number(e.value)}},{key:"_expressionGreaterThanForNumber",value:function(e){return this._getExpressionValueFromId(e.expression_property)>Number(e.value)}},{key:"_expressionStartsWith",value:function(e){return this._getExpressionValueFromId(e.expression_property).startsWith(e.value)}},{key:"_expressionEndsWith",value:function(e){return this._getExpressionValueFromId(e.expression_property).endsWith(e.value)}},{key:"_expressionContains",value:function(e){return this._getExpressionValueFromId(e.expression_property).includes(e.value)}},{key:"_expressionDoesNotContain",value:function(e){return!this._getExpressionValueFromId(e.expression_property).includes(e.value)}},{key:"_expressionEqualsString",value:function(e){return this._getExpressionValueFromId(e.expression_property)===e.value}},{key:"_expressionNotEqualTo",value:function(e){return this._getExpressionValueFromId(e.expression_property)!==e.value}},{key:"_expressionIsTrue",value:function(e){return!0===this._getExpressionValueFromId(e.expression_property)}},{key:"_expressionIsFalse",value:function(e){return!1===this._getExpressionValueFromId(e.expression_property)}},{key:"_quotaIsBreached",value:function(e){var t=this.survey.surveyQuotas.find((function(t){return t.id===e.quota_property}));if(!t)throw new Error("Quota with id ".concat(e.quota_property," not found while evaluating Logic"));return t&&t.quotaUsed>=t.quotaLimit}},{key:"_quotaIsNotBreached",value:function(e){var t=this.survey.surveyQuotas.find((function(t){return t.id===e.quota_property}));if(!t)throw new Error("Quota with id ".concat(e.quota_property," not found while evaluating Logic"));return t&&t.quotaUsed<t.quotaLimit}},{key:"_relationEqualsString",value:function(e){return e.value===this.relation.name}},{key:"_evaluatorStartsWith",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.contact)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.startsWith)||void 0===i?void 0:i.call(o,e.value):this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].startsWith(e.value))}},{key:"_evaluatorEndsWith",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.contact)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.endsWith)||void 0===i?void 0:i.call(o,e.value):this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].endsWith(e.value))}},{key:"_evaluatorContains",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.contact)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.includes)||void 0===i?void 0:i.call(o,e.value):this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property].includes(e.value))}},{key:"_evaluatorEqualsForDropDown",value:function(e){var t,r,n,o=this.survey.contactProperty;if(!e.contact_property||null==o||!o[e.contact_property])return!1;if(e.contact_property===this.config.displayLogic.contactProperties.language.name){var i=commonConstants_translation__WEBPACK_IMPORTED_MODULE_3__.languageMap[this.contact.attrs[e.contact_property]];return i&&e.value===i.code}return[commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?null===(t=this.contact)||void 0===t||null===(r=t.contactPropertyValueMapping)||void 0===r||null===(n=r.find)||void 0===n?void 0:n.call(r,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)&&(null==t?void 0:t.contact_property_value_id)==e.value})):void 0}},{key:"_evaluatorNotEqualsForDropDown",value:function(e){return!this._evaluatorEqualsForDropDown(e)}},{key:"_evaluatorEqualsString",value:function(e){var t,r,n,o,i=this.survey.contactProperty;return e.dataProperty===this.config.displayLogic.conditionTypes.evaluator.dataProperty.role?e.value===(null===(t=this.relation)||void 0===t?void 0:t.name):e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?(null===(r=this.contact)||void 0===r||null===(n=r.manager)||void 0===n||null===(o=n.attrs)||void 0===o?void 0:o.email)===e.value:!(!e.contact_property||!i[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&this.contact.attrs[e.contact_property]===e.value}},{key:"_evaluatorNotEqualTo",value:function(e){return!this._evaluatorEqualsString(e)}},{key:"_evaluatorDoesNotContain",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?!(null!==(t=this.contact)&&void 0!==t&&null!==(r=t.manager)&&void 0!==r&&null!==(n=r.attrs)&&void 0!==n&&null!==(o=n.email)&&void 0!==o&&null!==(i=o.includes)&&void 0!==i&&i.call(o,e.value)):this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&!this.contact.attrs[e.contact_property].includes(e.value))}},{key:"_evaluatorHasValue",value:function(e){var t,r,n,o,i,a,s=this.survey.contactProperty;return!(!e.contact_property||!s[e.contact_property])&&([commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?!(null===(t=this.contact.contactPropertyValueMapping)||void 0===t||null===(r=t.find)||void 0===r||null===(n=r.call(t,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)})))||void 0===n||!n.contact_property_value_id):e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?!(null===(o=this.contact)||void 0===o||null===(i=o.manager)||void 0===i||null===(a=i.attrs)||void 0===a||!a.email):this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property])}},{key:"_evaluatorIsEmpty",value:function(e){var t,r,n,o,i,a,s=this.survey.contactProperty;return!(!e.contact_property||!s[e.contact_property]||([commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?null!==(t=this.contact.contactPropertyValueMapping)&&void 0!==t&&null!==(r=t.find)&&void 0!==r&&null!==(n=r.call(t,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)})))&&void 0!==n&&n.contact_property_value_id:e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null!==(o=this.contact)&&void 0!==o&&null!==(i=o.manager)&&void 0!==i&&null!==(a=i.attrs)&&void 0!==a&&a.email:this.contact&&this.contact.attrs&&this.contact.attrs[e.contact_property]))}},{key:"_evaluatorEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])===Number(e.value)}},{key:"_evaluatorNotEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])!==Number(e.value)}},{key:"_evaluatorLessThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])<Number(e.value)}},{key:"_evaluatorGreaterThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.contact.attrs&&!!this.contact.attrs[e.contact_property]&&Number(this.contact.attrs[e.contact_property])>Number(e.value)}},{key:"_evaluatorBefore",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.contact.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")<0&&(o=!0),o}},{key:"_evaluatorAfter",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.contact.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")>0&&(o=!0),o}},{key:"_subjectStartsWith",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.subject)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.startsWith)||void 0===i?void 0:i.call(o,e.value):this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&this.subject.attrs[e.contact_property].startsWith(e.value))}},{key:"_subjectEndsWith",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.subject)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.endsWith)||void 0===i?void 0:i.call(o,e.value):this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&this.subject.attrs[e.contact_property].endsWith(e.value))}},{key:"_subjectContains",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null===(t=this.subject)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n||null===(o=n.email)||void 0===o||null===(i=o.includes)||void 0===i?void 0:i.call(o,e.value):this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&this.subject.attrs[e.contact_property].includes(e.value))}},{key:"_subjectEqualsForDropDown",value:function(e){var t,r,n,o=this.survey.contactProperty;if(!e.contact_property||!o[e.contact_property])return!1;if(e.contact_property===this.config.displayLogic.contactProperties.language.name){var i=commonConstants_translation__WEBPACK_IMPORTED_MODULE_3__.languageMap[this.subject.attrs[e.contact_property]];return i&&e.value===i.code}return[commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?(null===(t=this.subject.contactPropertyValueMapping)||void 0===t||null===(r=t.find)||void 0===r||null===(n=r.call(t,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)})))||void 0===n?void 0:n.contact_property_value_id)==e.value:void 0}},{key:"_subjectNotEqualsForDropDown",value:function(e){return!this._subjectEqualsForDropDown(e)}},{key:"_subjectEqualsString",value:function(e){var t,r,n,o=this.survey.contactProperty;return!(!e.contact_property||!o[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?(null===(t=this.subject)||void 0===t||null===(r=t.manager)||void 0===r||null===(n=r.attrs)||void 0===n?void 0:n.email)===e.value:this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&this.subject.attrs[e.contact_property]===e.value)}},{key:"_subjectNotEqualTo",value:function(e){return!this._subjectEqualsString(e)}},{key:"_subjectDoesNotContain",value:function(e){var t,r,n,o,i,a=this.survey.contactProperty;return!(!e.contact_property||!a[e.contact_property])&&(e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?!(null!==(t=this.subject)&&void 0!==t&&null!==(r=t.manager)&&void 0!==r&&null!==(n=r.attrs)&&void 0!==n&&null!==(o=n.email)&&void 0!==o&&null!==(i=o.includes)&&void 0!==i&&i.call(o,e.value)):this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&!this.subject.attrs[e.contact_property].includes(e.value))}},{key:"_subjectHasValue",value:function(e){var t,r,n,o,i,a,s,u=this.survey.contactProperty;return!(!e.contact_property||!u[e.contact_property])&&([commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?!(null===(t=this.subject)||void 0===t||null===(r=t.contactPropertyValueMapping)||void 0===r||null===(n=r.find)||void 0===n||null===(o=n.call(r,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)})))||void 0===o||!o.contact_property_value_id):e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?!(null===(i=this.subject)||void 0===i||null===(a=i.manager)||void 0===a||null===(s=a.attrs)||void 0===s||!s.email):this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property])}},{key:"_subjectIsEmpty",value:function(e){var t,r,n,o,i,a,s,u=this.survey.contactProperty;return!(!e.contact_property||!u[e.contact_property]||([commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.department.name,commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeDepartmentProperties.team.name].includes(null==e?void 0:e.contact_property)?null!==(t=this.subject)&&void 0!==t&&null!==(r=t.contactPropertyValueMapping)&&void 0!==r&&null!==(n=r.find)&&void 0!==n&&null!==(o=n.call(r,(function(t){var r;return(null==t||null===(r=t.contactProperty)||void 0===r?void 0:r.name)===(null==e?void 0:e.contact_property)})))&&void 0!==o&&o.contact_property_value_id:e.contact_property===commonConstants_contact__WEBPACK_IMPORTED_MODULE_8__.employeeContactProperties.manager.name?null!==(i=this.subject)&&void 0!==i&&null!==(a=i.manager)&&void 0!==a&&null!==(s=a.attrs)&&void 0!==s&&s.email:this.contact&&this.subject.attrs&&this.subject.attrs[e.contact_property]))}},{key:"_subjectEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&Number(this.subject.attrs[e.contact_property])===Number(e.value)}},{key:"_subjectNotEqualToForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&Number(this.subject.attrs[e.contact_property])!==Number(e.value)}},{key:"_subjectLessThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&Number(this.subject.attrs[e.contact_property])<Number(e.value)}},{key:"_subjectGreaterThanForNumber",value:function(e){var t=this.survey.contactProperty;return!(!e.contact_property||!t[e.contact_property])&&this.contact&&this.subject.attrs&&!!this.subject.attrs[e.contact_property]&&Number(this.subject.attrs[e.contact_property])>Number(e.value)}},{key:"_subjectBefore",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.subject.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")<0&&(o=!0),o}},{key:"_subjectAfter",value:function(e){var t,r,n=this.survey.contactProperty;if(!e.contact_property||!n[e.contact_property])return!1;var o=!1;return null!==(t=this.contact)&&void 0!==t&&null!==(r=t.attrs)&&void 0!==r&&r[e.contact_property]&&moment__WEBPACK_IMPORTED_MODULE_2___default()(moment__WEBPACK_IMPORTED_MODULE_2___default()(this.subject.attrs[e.contact_property]).format("MM-DD-YYYY")).diff(moment__WEBPACK_IMPORTED_MODULE_2___default()(e.value).format("MM-DD-YYYY"),"days")>0&&(o=!0),o}},{key:"_deviceTypeIsNotDevice",value:function(e){return getDeviceType()!==e.device_type}},{key:"_deviceTypeIsDevice",value:function(e){return getDeviceType()===e.device_type}},{key:"_questionIsAContactEmail",value:function(e){var t,r,n,o,i,a=null===(t=this.survey)||void 0===t?void 0:t.settings,s=null===(r=this.survey)||void 0===r?void 0:r.surveyType,u=this.config.surveyTypesConstants.surveyTypes,c=null==a||null===(n=a.navigationSettings)||void 0===n?void 0:n.active,l=s===u.OfflineApp.name,p=s===u.Employee360.name,f=this._getLogicQuestion(e),d=(null===(o=this.activeQuestion)||void 0===o?void 0:o.type)===commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10__.questionTypes.EmailInput.name,y=(null===(i=this.activeQuestion)||void 0===i?void 0:i.type)===commonConstants_questionTypes__WEBPACK_IMPORTED_MODULE_10__.questionTypes.ContactForm.name,m=!!d&&this.activeQuestion.isAContactEmail;return y&&(m=this.activeQuestion.subQuestions.some((function(e){return e.id===f.id&&e.isAContactEmail}))),!(l||p||c)&&m}}])}();const __WEBPACK_DEFAULT_EXPORT__=Logic},"./src/helpers/eui/MobileSdk.js":(e,t,r)=>{"use strict";r.d(t,{A2:()=>u,JK:()=>c,fz:()=>l,lb:()=>a,wO:()=>s});var n=r("./src/helpers/i18n/index.js"),o=r("./src/utils/widget/Constants.js"),i=r("./src/helpers/eui/logger.js"),a=function(e,t){var r=t.channel,a=t.account,s=t.config,u=t.survey;try{r.type===s.channels.types.MOBILE_SDK.name||r.type===s.channels.types.SPOTCHECK.name?u.surveyType===s.surveyTypesConstants.surveyTypes.NPS.name||u.surveyType===s.surveyTypesConstants.surveyTypes.NPSChat.name||a.features.includes(s.features.features.MOBILE_SDK.name)?(window.SsAndroidSdk&&window.SsAndroidSdk.shareData(JSON.stringify(e)),window.webkit&&window.webkit.messageHandlers.surveyResponse.postMessage(e),window.Android&&window.Android.onMessageReceive(JSON.stringify({type:o.messageTypes.surveyCompleted,data:e}))):(window.SsAndroidSdk&&window.SsAndroidSdk.shareData(JSON.stringify({error:n.F2.t("admin.dashboard.main.survey.channels.MobileSdk.sdk_response_error")})),window.webkit&&window.webkit.messageHandlers.surveyResponse.postMessage(JSON.stringify({error:n.F2.t("admin.dashboard.main.survey.channels.MobileSdk.sdk_response_error")}))):(window.SsAndroidSdk&&window.SsAndroidSdk.shareData(JSON.stringify({error:n.F2.t("admin.dashboard.main.survey.channels.MobileSdk.sdk_invalid_token")})),window.webkit&&window.webkit.messageHandlers.surveyResponse.postMessage(JSON.stringify({error:n.F2.t("admin.dashboard.main.survey.channels.MobileSdk.sdk_invalid_token")})))}catch(e){(0,i.v)("Error while sending response to SDK",{err:e})}},s=function(e){try{l(o.messageTypes.surveyLoaded,e),window.webkit&&window.webkit.messageHandlers.surveyResponse.postMessage(JSON.stringify({type:o.messageTypes.surveyLoaded,data:e})),window.SsAndroidSdk&&window.SsAndroidSdk.shareData(JSON.stringify({type:o.messageTypes.surveyLoaded,data:e}))}catch(e){(0,i.v)("Error while sending survey loaded response to SDK",{err:e})}},u=function(e){try{l(o.messageTypes.partialSubmission,e),window.webkit&&window.webkit.messageHandlers.surveyResponse.postMessage(JSON.stringify({type:o.messageTypes.partialSubmission,data:e})),window.SsAndroidSdk&&window.SsAndroidSdk.sendPartialSubmissionData(JSON.stringify({type:o.messageTypes.partialSubmission,data:e}))}catch(e){(0,i.v)("Error while sending partial submission response to SDK",{err:e})}},c=function(e){try{window.webkit&&window.webkit.messageHandlers.spotCheckData.postMessage({type:o.messageTypes.spotCheckData,data:e}),window.Android&&window.Android.onMessageReceive(JSON.stringify({type:o.messageTypes.spotCheckData,data:e}))}catch(e){(0,i.v)("Error while sending spot check data to SDK",{error:e})}},l=function(e,t){try{window.flutterSpotCheckData?window.flutterSpotCheckData.postMessage(JSON.stringify({type:e,data:t})):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.flutterSpotCheckData&&window.webkit.messageHandlers.flutterSpotCheckData.postMessage(JSON.stringify({type:e,data:t}))}catch(e){(0,i.v)("Error in sendFlutterSpotCheckData to SDK",{error:e})}}},"./src/helpers/eui/MultiChoice.js":(e,t,r)=>{"use strict";r.d(t,{L:()=>s,X:()=>u});var n=r("./server/commonConstants/questionTypes.js"),o=r("./src/helpers/i18n/index.js"),i=r("./node_modules/string-template/index.js"),a=r.n(i),s=function(e,t){var r=e.properties.data,i=r.type,s=r.exactChoices,u=r.maxLimit,c=r.minLimit,l=e.pipings,p=void 0===l?[]:l,f=e.answer,d="";if(p.length)return d;if(i===n.questionTypes.MultiChoice.types.UNLIMITED.name)d=o.F2.t(t.multichoiceUnlimitedLabel.i18nCode||t.multichoiceUnlimitedLabel);else if(i===n.questionTypes.MultiChoice.types.EXACT.name){var y,m,v,h;if(!Number(s)||null!=f&&null!==(y=f.data)&&void 0!==y&&y.length){if(Number(s)&&(null==f||null===(m=f.data)||void 0===m?void 0:m.length)===Number(s))d="";else if(Number(s)&&null!=f&&null!==(v=f.data)&&void 0!==v&&v.length&&Number(s)>(null==f||null===(h=f.data)||void 0===h?void 0:h.length)){var b;d=a()(o.F2.t(t.multichoiceExactLabel2.i18nCode||t.multichoiceExactLabel2),{value:Number(s)-(null==f||null===(b=f.data)||void 0===b?void 0:b.length)})}}else d=a()(o.F2.t(t.multichoiceExactLabel1.i18nCode||t.multichoiceExactLabel1),{value:s})}else if(i===n.questionTypes.MultiChoice.types.RANGE.name&&Number(u)&&Number(c)){var g,_,w,O;if(Number(u)===(null==f||null===(g=f.data)||void 0===g?void 0:g.length))d="";else if(Number(c)>1&&(null==f||null===(_=f.data)||void 0===_?void 0:_.length)<Number(c)){var j;d=a()(o.F2.t(t.multichoiceRangeLabel1.i18nCode||t.multichoiceRangeLabel1),{value:Number(c)-(null==f||null===(j=f.data)||void 0===j?void 0:j.length)})}else if(Number(u)&&Number(c)&&null!=f&&null!==(w=f.data)&&void 0!==w&&w.length&&(null==f||null===(O=f.data)||void 0===O?void 0:O.length)<Number(u)){var E;d=a()(o.F2.t(t.multichoiceRangeLabel2.i18nCode||t.multichoiceRangeLabel2),{value:Number(u)-(null==f||null===(E=f.data)||void 0===E?void 0:E.length)})}else Number(u)&&Number(c)&&(d=a()(o.F2.t(t.multichoiceRangeLabel3.i18nCode||t.multichoiceRangeLabel3),{value1:c,value2:u}))}return d},u=function(e){var t,r,o,i,a=[n.questionTypes.MultiChoice.name,n.questionTypes.MultiChoicePicture.name].includes(null==e?void 0:e.type),s=a&&e.choices.find((function(e){return e.other}));return a&&(null==e||null===(t=e.choices)||void 0===t?void 0:t.length)&&(null==e||null===(r=e.answer)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.length)&&(null==s?void 0:s.id)===(null==e||null===(i=e.answer)||void 0===i?void 0:i.data[0])}},"./src/helpers/eui/Piping.js":(e,t,r)=>{"use strict";r.d(t,{Xg:()=>_,bG:()=>h,bH:()=>g,ij:()=>b,q:()=>O,x8:()=>w});var n=r("./server/commonConstants/piping.js"),o=r("./node_modules/lodash/lodash.js"),i=r("./server/commonConstants/choice.js"),a=r("./server/commonConstants/questionTypes.js"),s=r("./src/reduxStores/eui.js"),u=r("./src/utils/draftUtils.js");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.question,r=e.displayChoices,o=e.questionList,s=e.workbench,u=!0,c=0,l=[],p=r||(null==t?void 0:t.choices);if(t&&t.pipings&&t.pipings.length>0){var f=t.type===a.questionTypes.GroupRank.name;if(a.subQuestionTypes[t.type]&&!f){var d,m=y(t.subQuestions);try{for(m.s();!(d=m.n()).done;)if(!d.value.piped_qid)return!0}catch(e){m.e(e)}finally{m.f()}}else{var v,h=y(p);try{for(h.s();!(v=h.n()).done;)if(!v.value.piped_qid)return!0}catch(e){h.e(e)}finally{h.f()}}var _,O=y(t.pipings);try{var j,E=function(){var e=_.value,r=o.find((function(t){return t.id===e.source_qid}));if(null!=r&&r.answer&&!r.answer.skipped){var d=r.choices.find((function(e){return e.properties.allOfTheAbove})),m=r.choices.find((function(e){return e.properties.noneOfTheAbove})),v=r.choices.filter((function(e){return!(e.properties.allOfTheAbove||e.properties.noneOfTheAbove||e.other)})).every((function(e){return r.answer.data.includes(e.id)})),h=w({question:t,workbench:s,choices:p,list:o});if("Matrix"===t.type){if(g({question:t,workbench:s,list:o}).subQuestions.every((function(e){return""===e.rtxt.blocks[0].text||null===e.rtxt.blocks[0].text})))return{v:!1}}else{if(a.subQuestionTypes[t.type]&&!f){var O=b(t);return{v:!(null==O||!O.length)}}if(!h.length)return{v:!1}}if(t.type!==n.pipeSourceType.Dropdown.name)(m&&r.answer.data.includes(m.id)&&e.option_type===n.pipingOptions.SELECTED.name||(d&&r.answer.data.includes(d.id)||v)&&e.option_type===n.pipingOptions.UNSELECTED.name)&&(u=!1);else if(h.every((function(e){return""===e.text||null===e.text})))return{v:!1};var j,E=y(r.answer.data);try{var S,A=function(){var o=j.value;if(r.choices.find((function(e){return e.id===o}))&&!(m&&r.answer.data.includes(m.id)&&e.option_type===n.pipingOptions.SELECTED.name||(d&&r.answer.data.includes(d.id)||v)&&e.option_type===n.pipingOptions.UNSELECTED.name)){if(t.type!==n.pipeSourceType.Dropdown.name)return{v:{v:!0}};u=!1}};for(E.s();!(j=E.n()).done;)if(S=A())return S.v}catch(e){E.e(e)}finally{E.f()}if(t.type===n.pipeSourceType.Dropdown.name)if(l=r.choices.filter((function(e){var t,r;return e.position<i.reservedPositionStart||!(null!==(t=e.properties)&&void 0!==t&&t.noneOfTheAbove)&&!(null!==(r=e.properties)&&void 0!==r&&r.allOfTheAbove)||e.other})),e.option_type===n.pipingOptions.SELECTED.name){var T=0;if(Object.values(l).forEach((function(e){r.answer.data.includes(e.id)&&T++})),c+=T>0?T:0,r.answer.data.length>1)return{v:!0};u=!1}else{if(e.option_type!==n.pipingOptions.UNSELECTED.name)return{v:!0};var P=0;Object.values(l).forEach((function(e){r.answer.data.includes(e.id)||e.other&&!e.piped_qid||P++})),u=(c+=P>0?P:0).length>1}}else if(e.option_type===n.pipingOptions.ALL.name){if(t.type!==n.pipeSourceType.Dropdown.name)return{v:!0};t.type===n.pipeSourceType.Dropdown.name&&p.length>0||(u=!1)}else u=!1};for(O.s();!(_=O.n()).done;)if(j=E())return j.v}catch(e){O.e(e)}finally{O.f()}return t.type===n.pipeSourceType.Dropdown.name&&c>0||u}return!0},b=function(e){var t=s.A.getState().details,r=t.question.workbench,n=t.question.list;return g({question:e,workbench:r,list:n}).subQuestions.map((function(e){var t,r=e.txt,n=null===(t=e.rtxt.blocks[0])||void 0===t?void 0:t.text;return n&&n.trim()!==(null==r?void 0:r.trim())&&(e.txt=n),e}))},g=function(e){var t,r,o=e.question,i=e.workbench,a=e.list,c=!1,l=!1,f=s.A.getState().details,m=d(o.subQuestions),v=y(m);try{var h=function(){var e=r.value;e.piped_qid&&o.pipings.length&&(c=!0,t=o.pipings.find((function(t){return t.source_qid===e.piped_qid})))};for(v.s();!(r=v.n()).done;)h()}catch(e){v.e(e)}finally{v.f()}if(c&&void 0!==t){var b,g=[],_=y(m);try{var w=function(){var e=b.value,r=p(p({},e),{},{rtxt:u.A.convertTextToDraftRawJson(e.rtxt.blocks[0].text)});if(r.piped_qid){var s=r.piped_qid,c=r.rtxt.blocks[0].text,d=null==a?void 0:a.find((function(e){return e.id===s})),y=d&&d.choices.find((function(e){return e.id===r.piped_source_id})),m=s+"_other";if(t=o.pipings.find((function(e){return e.source_qid===s})),i[s]){if(null!=y&&y.other&&(i[m]||null!=y&&y.txt)&&(l=!0,null!=y&&y.piped_qid?r.rtxt.blocks[0].text=null==y?void 0:y.txt:r.rtxt.blocks[0].text=i[m]||(null==y?void 0:y.txt)),t.option_type===n.pipingOptions.SELECTED.name&&""!==c)i[s].indexOf(r.piped_source_id)>-1&&(null!=y&&y.other?i[m]&&i[s].includes(r.piped_source_id)&&g.push(r):g.push(r));else if(t.option_type===n.pipingOptions.UNSELECTED.name&&""!==c){var v;i[s].indexOf(r.piped_source_id)>-1||null!=y&&y.other||null===(v=f.pipedSourceChoices[s])||void 0===v||!v.find((function(e){return e.id===r.piped_source_id}))||g.push(r)}else if(t.option_type===n.pipingOptions.ALL.name&&""!==c){var h;null!=y&&y.other?i[m]&&i[s].includes(r.piped_source_id)&&g.push(r):null!==(h=f.pipedSourceChoices[s])&&void 0!==h&&h.find((function(e){return e.id===r.piped_source_id}))&&g.push(r)}}else if(t.option_type===n.pipingOptions.ALL.name&&""!==c){var _;null!=y&&y.other||null===(_=f.pipedSourceChoices[s])||void 0===_||!_.find((function(e){return e.id===r.piped_source_id}))||g.push(r)}}else(r.rtxt.blocks[0].text||r.txt)&&g.push(r)};for(_.s();!(b=_.n()).done;)w()}catch(e){_.e(e)}finally{_.f()}if(o.multiLanguageRtxt&&!l){var O=Object.assign({},o);return O.subQuestions=O.subQuestions.filter((function(e){return!!g.find((function(t){return t.id===e.id}))})),O}return p(p({},o),{},{subQuestions:[].concat(g)})}return o},_=function(e){var t=s.A.getState().details,r=t.question.workbench,n=t.question.list;return w({question:e,workbench:r,choices:e.choices,list:n})},w=function(e){var t,r,o=e.question,i=e.workbench,a=e.choices,u=void 0===a?[]:a,c=e.list,l=s.A.getState().details,f=!1,d=y(u);try{var m=function(){var e=r.value;e.piped_qid&&(null==o?void 0:o.pipings.length)>0&&(f=!0,o.pipings.find((function(t){return t.source_qid===e.piped_qid}))&&(t=o.pipings.find((function(t){return t.source_qid===e.piped_qid}))))};for(d.s();!(r=d.n()).done;)m()}catch(e){d.e(e)}finally{d.f()}if(f&&void 0!==t){var v,h=[],b=y(u);try{var g=function(){var e=v.value,r=p({},e);if(r.piped_qid){var a,s=r.piped_qid;if(null==r||null===(a=r.properties)||void 0===a?void 0:a.isExclusiveChoice)return 1;var u=s+"_other",f=null==c?void 0:c.find((function(e){return e.id===s})),d=f&&f.choices.find((function(e){return e.id===r.piped_source_id}));if(t=o.pipings.find((function(t){return t.source_qid===e.piped_qid})),i[s]){if(r.other&&(i[u]||null!=d&&d.txt)&&(null!=d&&d.piped_qid?(e.txt=null==d?void 0:d.txt,r.txt=d.txt):(e.txt=i[u]||(null==d?void 0:d.txt),r.txt=i[u]||(null==d?void 0:d.txt))),t.option_type===n.pipingOptions.SELECTED.name)i[s].indexOf(r.piped_source_id)>-1&&(r.other&&!r.piped_qid?i[u]&&i[s].includes(r.piped_source_id)&&h.push(r):h.push(r));else if(t.option_type===n.pipingOptions.UNSELECTED.name&&(r.txt||r.img)){var y;i[s].indexOf(r.piped_source_id)>-1||!r.other&&null!==(y=l.pipedSourceChoices[s])&&void 0!==y&&y.find((function(e){return e.id===r.piped_source_id}))&&h.push(r)}else if(t.option_type===n.pipingOptions.ALL.name&&(r.txt||r.img)){var m;r.other?i[u]&&i[s].includes(r.piped_source_id)&&h.push(r):null!==(m=l.pipedSourceChoices[s])&&void 0!==m&&m.find((function(e){return e.id===r.piped_source_id}))&&h.push(r)}}else if(t.option_type===n.pipingOptions.ALL.name&&(r.txt||r.img)){var b;!r.other&&null!==(b=l.pipedSourceChoices[s])&&void 0!==b&&b.find((function(e){return e.id===r.piped_source_id}))&&h.push(r)}}else h.push(r)};for(b.s();!(v=b.n()).done;)g()}catch(e){b.e(e)}finally{b.f()}return h}return u},O=function(e){var t={},r={},n=[];e.forEach((function(e){e.questions.forEach((function(e){e.pipings&&e.pipings.length>0&&e.pipings.map((function(r){t.hasOwnProperty(r.source_qid)?t[r.source_qid]=[].concat(d(t[r.source_qid]),[e.id]):t[r.source_qid]=[e.id],n.push(r.source_qid)}))}))}));var i=(0,o.memoize)((function(e){var r=t[e]||[];return 0===r.length?r:[].concat(d(r),d(r.flatMap(i)))}));return n.reverse().forEach((function(e){r[e]=i(e)})),r}},"./src/helpers/eui/QueueAnswers.js":(e,t,r)=>{"use strict";r.d(t,{x1:()=>s,xs:()=>u});var n=r("./server/commonConstants/questionTypes.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=["question_id"];function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.answers,r=e.positions,a=e.questions,s=0,u=t.reduce((function(e,t){var u,c,l,p,f=r[t.question_id],d=t.question_id,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,i),m=Object.keys(y)[0],v=n.commonFeedbackQuestionTypes.includes(m),h=a.find((function(e){return n.commonScoreQuestionTypes.includes(e.type)})),b=null==h?void 0:h.subQuestions[0];return u=v&&b?t[b.type]:t[m],f>s&&(s=f),Object.assign(e,(c={},p=u,(l=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(l=d))in c?Object.defineProperty(c,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[l]=p,c))}),{});return{maxAnsPos:s,answerQuestionMap:u}},u=function(e,t){var r,o=n.questionTypes[e.type];return e.type===n.questionTypes.OpinionScale.name&&t.notApplicable?(e.answer={skipped:!0,notApplicable:!0},e):(t.skipped||(r=o.parentQuestion?function(e,t){var r,n={};if(null!==(r=e.subQuestions)&&void 0!==r&&r.length){var o,i={};null==e||null===(o=e.scalePoints)||void 0===o||o.forEach((function(e){var t;null==e||null===(t=e.choices)||void 0===t||t.forEach((function(e){i[e.id]=e}))}));var s,u=t.data,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}(e.subQuestions);try{for(c.s();!(s=c.n()).done;){var l=s.value,p=u[l.id];p&&(n[l.id]=p)}}catch(e){c.e(e)}finally{c.f()}}return n}(e,t):function(e,t){var r;if(n.questionTypes[e.type].choices)r=t.data.map((function(e){return e.otherTxt?{id:e,other_txt:e.otherTxt}:e}));else if(e.type===n.questionTypes.DateTime.name){var o,i;r={datetime:null===(o=t.data)||void 0===o?void 0:o.datetime,timezone:null===(i=t.data)||void 0===i?void 0:i.timezone}}else r=t.data;return r}(e,t)),e.answer={skipped:t.skipped,data:r},e)}},"./src/helpers/eui/QuotaExceeded.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r("./node_modules/lodash/isEmpty.js"),o=r.n(n),i=r("./node_modules/lodash/startCase.js"),a=r.n(i),s=r("./src/helpers/eui/redirect.js"),u=r("./src/constants/survey.js"),c=r("./surveysparrow-billing/server/commonConstants/analytics.js"),l=r("./src/utils/widget/Constants.js");function p(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d={getThankyouJSON:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],y={};if(-2===i&&f)return setTimeout((0,s.L)(f,d),5e3),y;var m,v,h,b=parseInt(i.slice(3)),g=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=p(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.survey.thankyou_json.entries());try{for(g.s();!(m=g.n()).done;){var _=(v=m.value,h=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(v,h)||p(v,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=_[0],O=_[1];if(!(w<b)&&w===b){y=O;break}}}catch(e){g.e(e)}finally{g.f()}if(o()(y))return t.survey.surveyType===u.At.NPS.name&&n?y:(parent&&parent.postMessage?parent.postMessage({type:l.messageTypes.quotaExceeded},"*"):setTimeout((function(){var t="production"===r.env?"https://surveysparrow.com":"https://sparrowsuite.com";window.location.href="".concat(t,"/thankyou/?company=").concat(a()(e.companyName),"&").concat(c.surveySignupUTM)}),5e3),null);if(y.redirectBoolean){if(!window.parent||!window.parent.postMessage)return setTimeout((0,s.L)(y.redirect,d),5e3),{};window.parent.postMessage({type:l.messageTypes.quotaExceeded},"*")}return window.parent&&window.parent.postMessage&&window.parent.postMessage({type:l.messageTypes.quotaExceeded},"*"),y}}},"./src/helpers/eui/Stripe/Form.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>D});var n,o=r("react"),i=r.n(o),a=r("./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js"),s=r("./src/helpers/i18n/index.js"),u=r("./src/constants/stripe.js"),c=r("./src/components/admin/commons/SSComponents/SVG.js"),l=r("./node_modules/classnames/index.js"),p=r.n(l),f=r("./node_modules/react-redux/es/index.js");function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function b(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}const _=(0,f.connect)((function(e){return{label:e.label}}),null)(n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(e=function(e,t,r){return t=v(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}(this,t),"handleOfferInput",(function(t){e.setState({showOfferInput:t})})),b(e,"setCouponCode",(function(t){e.props.setBlockValidation(!1);var r=e.props,n=r.handleError,o=r.questionId;e.setState({couponCode:t.target.value,error:!1}),n("",!1,o)})),b(e,"clearDiscountCoupon",(function(){e.setState({couponCode:""}),e.props.clearDiscountCoupon(),e.props.setCardStatus()})),b(e,"applyDiscountCoupon",(function(){var t=e.props,r=t.setDiscountCoupon,n=t.handleError,o=t.questionId,i=t.discountCoupons.find((function(t){return 0===t.couponCode.localeCompare(e.state.couponCode,void 0,{sensitivity:"accent"})}));i&&(i.amount||i.percentage)?(r(i),n("",!1,o)):(n("invalidCouponCode",!1,o),e.setState({error:!0}))})),e.state={showOfferInput:!1,couponCode:"",error:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this,t=this.state,r=t.showOfferInput,n=t.error,o=t.couponCode,a=this.props,u=a.discountCouponAdded,l=a.currency,f=a.amount,d=a.amountBeforeDiscount,y=a.discountedDifference,m=a.label;return i().createElement(i().Fragment,null,!r&&i().createElement("div",{className:"ss-payment-offer--link"},i().createElement("h6",{className:"ss-survey-text-size--sm ss-survey-text-weight--regular ss-survey-font-family ss-survey-text-color--secondary"},s.F2.t(m.havePromoCode),"",i().createElement("button",{className:p()({"ss-survey-text-color--secondary ":!0,disabled:!f||f<0}),onClick:function(){return e.handleOfferInput(!0)},onKeyPress:function(e){"Enter"===e.key&&e.stopPropagation()}},"Enter"))),r&&i().createElement("div",{className:"ss-payment-offer--wrapper ss-survey-font-family"},u?i().createElement("div",{className:"ss-payment-offer--info ss-survey-font-family ss-survey-text-color--secondary"},Number(y)>=Number(d)?i().createElement("h5",{className:"ss-survey-text-size--base ss-survey-text-weight--regular ss-survey-font-family ss-survey-text-color--secondary"},i().createElement("b",{className:"ss-survey-text-weight--semibold ss-survey-text-color--primary"},s.F2.t(m.completeDiscount))):i().createElement("h5",{className:"ss-survey-text-size--base ss-survey-text-weight--regular ss-survey-font-family ss-survey-text-color--secondary"},s.F2.t(m.youSaved),"",i().createElement("b",{className:"ss-survey-text-weight--semibold ss-survey-text-color--primary"},l.symbol,y),"",s.F2.t(m.onYourBill)," ",l.symbol,d),i().createElement("div",{className:"ss-payment-offer--applied"},i().createElement("h6",{className:"ss-survey-text-color--secondary ss-survey-text-size--base ss-survey-text-weight--regular"},"#",o),i().createElement("a",{onClick:function(){return e.clearDiscountCoupon()}},i().createElement(c.A,{name:"close"})))):i().createElement("div",{className:p()({"ss-payment-offer--input":!0,"ss-payment-offer--error":n})},i().createElement("input",{type:"text",placeholder:s.F2.t(m.enterCouponCode),className:"ss-survey-text-color--secondary ss-survey-border-color--secondary-01",onChange:function(t){return e.setCouponCode(t)},onKeyDown:function(t){13===t.keyCode&&e.applyDiscountCoupon()},value:this.state.couponCode,disabled:!f||f<0}),i().createElement("button",{onClick:function(){return e.applyDiscountCoupon()},"aria-label":s.F2.t(m.enterCouponCode),onKeyPress:function(e){"Enter"===e.key&&e.stopPropagation()}},i().createElement(c.A,{name:"tick",color:"white",size:18})))))}}],n&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component))||n;var w,O=r("./src/selectors/eui/submission.js");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(null,arguments)}function S(){S=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function h(){}function b(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(k([])));O&&O!==r&&n.call(O,a)&&(_=O);var E=g.prototype=h.prototype=Object.create(_);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var u=p(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==j(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=f;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var c=p(t,r,n);if("normal"===c.type){if(o=n.done?m:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(j(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(E),c(E,u,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function A(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){A(i,n,o,a,s,"next",e)}function s(e){A(i,n,o,a,s,"throw",e)}a(void 0)}))}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function L(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var N=(0,f.connect)((function(e){return{label:e.label,hasSubmissionQueue:(0,O.a)(e)}}),null)(w=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(r=function(e,t,r){return t=x(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}(this,t,[e]),"componentDidUpdate",function(){var e=T(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.triggerPayment&&(r.props.setTriggerPayment(!1),r.handleSubmit()),r.state.errorMsgOn?(r.props.amount&&0===Number(r.props.amount)||r.props.amount>0)&&(r.props.handleError("",!1),r.setState({errorMsgOn:!1})):0!==r.props.amount&&(!r.props.amount||r.props.amount<0)&&(r.props.handleError(s.F2.t(r.props.label.amountIsInvalid),!1),r.setState({errorMsgOn:!0})),t.amount!==r.props.amount&&(n=(n=r.state.cardNumber.error||r.state.cardExpiry.error||r.state.cardCVC.error)?"errorInvalid":"",r.props.amount&&r.props.amount>0&&r.setState({errorMsgOn:!1}),r.props.handleError(n,!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(r,"stripeElementChange",function(){var e=T(S().mark((function e(t,n){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"paymentMethod"!==n&&r.props.setBlockValidation(!1),r.props.removeErrorFromRedux(),r.setState(L({},n,t),(function(){r.setCardStatus()}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),L(r,"checkAllEmpty",(function(e,t,r){var n=[e,t,r];return!n.every((function(e){return 0===Object.keys(e).length}))&&n.every((function(e){return 0===Object.keys(e).length||e.hasOwnProperty("empty")&&!0===e.empty}))})),L(r,"setCardStatus",T(S().mark((function e(){var t,n,o,i,a,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state,n=t.cardNumber,o=t.cardExpiry,i=t.cardCVC,r.checkAllEmpty(n,o,i)?r.props.setBlockValidation(!0):r.props.question.required?r.props.setBlockValidation(!1):r.props.setBlockValidation(!0),a=(a=n.error||o.error||i.error)?"errorInvalid":"",(!r.props.amount||r.props.amount<=0)&&(a="amountIsInvalid",r.setState({errorMsgOn:!0})),r.props.handleError(a,!1),(s=n.complete&&o.complete&&i.complete)!==r.props.cardComplete&&void 0!==s&&r.props.setCardCompleteStatus(s,r.props.questionId);case 8:case"end":return e.stop()}}),e)})))),L(r,"setNameValue",(function(e){r.props.setBlockValidation(!1),r.props.setCardName(e.target.value)})),L(r,"handlePaymentIntent",function(){var e=T(S().mark((function e(t,n){var o,i,a,s,c,l;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r.state.paymentMethod,e.next=4,r.props.createPaymentIntent({amount:t,submissionId:n,currency:r.props.currency.value,surveyId:r.props.surveyId,questionId:r.props.questionId,triggerToken:r.props.triggerToken,discountCoupon:r.props.discountCouponValue,discountCouponAdded:r.props.discountCouponAdded,hasSubmissionQueue:r.props.hasSubmissionQueue});case 4:if(!(i=e.sent).status){e.next=13;break}return s=r.props.name?{card:o,billing_details:{name:r.props.name}}:{card:o},e.next=9,r.props.stripe.confirmCardPayment(i.client_secret,{payment_method:s});case 9:c=e.sent,(null===(a=c.paymentIntent)||void 0===a?void 0:a.status)===u.s.stripeSuccess?(r.props.clearSubmitAndPay(!0),r.props.setPaymentCompleted(!0)):(l=c.error.decline_code||c.error.code,r.props.handleError(l,!0,r.props.questionId)),e.next=14;break;case 13:r.props.handleError("couponDefaultError",!0,r.props.questionId);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Stripe payment handling error: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}()),L(r,"handleSubmit",T(S().mark((function e(){var t,n,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.props.preview){e.next=16;break}if(t=Number(r.props.amount),n=r.props.hasSubmissionQueue,o=n?r.props.submission.uuid:r.props.submission.id,0!==t){e.next=12;break}return e.next=8,r.props.createPaymentIntent({amount:t,submissionId:o,currency:r.props.currency.value,surveyId:r.props.surveyId,questionId:r.props.questionId,triggerToken:r.props.triggerToken,discountCoupon:r.props.discountCouponValue,discountCouponAdded:r.props.discountCouponAdded,hasSubmissionQueue:r.props.hasSubmissionQueue});case 8:r.props.clearSubmitAndPay(!0),r.props.setPaymentCompleted(!0),e.next=14;break;case 12:return e.next=14,r.handlePaymentIntent(t,o);case 14:e.next=17;break;case 16:r.props.setPaymentCompleted(!0);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Stripe Payment Failed",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))),r.state={complete:!1,cardNumber:{},paymentMethod:"",cardExpiry:{},cardCVC:{},errorMsgOn:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e,t,r,n,o,u,c,l,p=this,f=this.props,d=f.discountActive,y=f.discountCouponAdded,m=f.currency,v=f.amount,h=f.discountCoupons,b=f.amountBeforeDiscount,g=f.setDiscountCoupon,w=f.handleError,O=f.questionId,j=f.question,E=f.clearDiscountCoupon,S=f.discountedDifference,A=0!==v&&(!v||v<0),T=this.state.complete,P=(null===(e=this.props.surveyTheme)||void 0===e||null===(t=e.properties)||void 0===t||null===(r=t.colors)||void 0===r||null===(n=r.overrides)||void 0===n?void 0:n.answers)||"rgb(63, 63, 63)",C=P.replace(/rgb/i,"rgba");C=C.replace(/\)/i,",0.3)");var x=window.innerWidth<480,I={base:{color:P||"#303238",fontFamily:null===(o=this.props.surveyTheme)||void 0===o||null===(u=o.properties)||void 0===u||null===(c=u.typography)||void 0===c||null===(l=c.questions)||void 0===l?void 0:l.family,fontWeight:"normal",fontSmoothing:"antialiased",fontSize:x?"16px":"22px","::placeholder":{color:C,fontSize:x?"16px":"22px"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};return T?i().createElement("h1",null,"Purchase Complete"):i().createElement(i().Fragment,null,i().createElement("div",{"data-commentable-id":"".concat(j.id,"-").concat(j.type),className:"ss-payment--card-form--stripe"},i().createElement("div",{className:"ss-payment--accepted-cards"},i().createElement("img",{src:"https://static.surveysparrow.com/application/images/payment-support-horizontal.png",className:"img-responsive"})),i().createElement("div",{className:"ss-payment--row"},i().createElement("div",{className:"ss-payment--column ss-survey-font-family ss-survey-text-color--secondary"},i().createElement("h6",null,i().createElement("b",null,s.F2.t("admin.dashboard.main.settings.settingsContents.billing.cardno"))),i().createElement("div",{className:"ss-payment--element"},i().createElement(a.CardNumberElement,{options:{style:I,showIcon:!0},onChange:function(e){return p.stripeElementChange(e,"cardNumber")},onReady:function(e){return p.stripeElementChange(e,"paymentMethod")},disabled:A}))),i().createElement("div",{className:"ss-payment--column ss-survey-font-family ss-survey-text-color--secondary ss-payment--column--mini"},i().createElement("h6",null,s.F2.t("admin.dashboard.main.settings.settingsContents.billing.expiry")),i().createElement("div",{className:"ss-payment--element"},i().createElement(a.CardExpiryElement,{options:{style:I},onChange:function(e){return p.stripeElementChange(e,"cardExpiry")},disabled:A})))),i().createElement("div",{className:"ss-payment--row"},i().createElement("div",{className:"ss-payment--column ss-survey-font-family ss-survey-text-color--secondary"},i().createElement("h6",null,s.F2.t("admin.dashboard.main.settings.settingsContents.billing.nameCard")),i().createElement("div",{className:"ss-payment--element"},i().createElement("input",{type:"text",placeholder:"Jane Doe",className:"ss-survey-font-family ss-survey-text-color--secondary",onChange:function(e){return p.setNameValue(e)},disabled:A}))),i().createElement("div",{className:"ss-payment--column ss-survey-font-family ss-survey-text-color--secondary ss-payment--column--mini"},i().createElement("h6",null,s.F2.t("admin.dashboard.main.settings.settingsContents.billing.cvc")),i().createElement("div",{className:"ss-payment--element"},i().createElement(a.CardCvcElement,{options:{style:I},onChange:function(e){return p.stripeElementChange(e,"cardCVC")},disabled:A}))))),d&&i().createElement(_,{discountCouponAdded:y,currency:m,amount:v,discountCoupons:h,amountBeforeDiscount:b,setDiscountCoupon:g,handleError:w,questionId:O,setCardStatus:this.setCardStatus,clearDiscountCoupon:E,discountedDifference:S,setBlockValidation:this.props.setBlockValidation}))}}],n&&P(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component))||w;function D(e){return i().createElement(a.ElementsConsumer,null,(function(t){var r=t.stripe,n=t.elements;return i().createElement(N,E({},e,{stripe:r,elements:n}))}))}},"./src/helpers/eui/Stripe/StripeDetails.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n,o=r("react"),i=r.n(o),a=r("./src/constants/stripe.js"),s=r("./src/helpers/i18n/index.js"),u=r("./node_modules/react-redux/es/index.js");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,a)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var u=d(e[o],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==c(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(c(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,u,"Generator"),p(S,a,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function p(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var h=function(e){var t=e.color;return i().createElement("svg",{height:"26px",width:"119px",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M113.000,26.000 L6.000,26.000 C2.686,26.000 -0.000,23.314 -0.000,20.000 L-0.000,6.000 C-0.000,2.686 2.686,-0.000 6.000,-0.000 L113.000,-0.000 C116.314,-0.000 119.000,2.686 119.000,6.000 L119.000,20.000 C119.000,23.314 116.314,26.000 113.000,26.000 ZM118.000,6.000 C118.000,3.239 115.761,1.000 113.000,1.000 L6.000,1.000 C3.239,1.000 1.000,3.239 1.000,6.000 L1.000,20.000 C1.000,22.761 3.239,25.000 6.000,25.000 L113.000,25.000 C115.761,25.000 118.000,22.761 118.000,20.000 L118.000,6.000 Z",fill:t,fillRule:"evenodd",opacity:"0.749"}),i().createElement("path",{d:"M60.700,18.437 L59.395,18.437 L60.405,15.943 L58.395,10.871 L59.774,10.871 L61.037,14.323 L62.310,10.871 L63.689,10.871 L60.700,18.437 ZM55.690,16.259 C55.238,16.259 54.774,16.091 54.354,15.764 L54.354,16.133 L53.007,16.133 L53.007,8.566 L54.354,8.566 L54.354,11.229 C54.774,10.913 55.238,10.745 55.690,10.745 C57.100,10.745 58.068,11.881 58.068,13.502 C58.068,15.122 57.100,16.259 55.690,16.259 ZM55.406,11.902 C55.038,11.902 54.669,12.060 54.354,12.376 L54.354,14.628 C54.669,14.943 55.038,15.101 55.406,15.101 C56.164,15.101 56.690,14.449 56.690,13.502 C56.690,12.555 56.164,11.902 55.406,11.902 ZM47.554,15.764 C47.144,16.091 46.681,16.259 46.218,16.259 C44.818,16.259 43.840,15.122 43.840,13.502 C43.840,11.881 44.818,10.745 46.218,10.745 C46.681,10.745 47.144,10.913 47.554,11.229 L47.554,8.566 L48.912,8.566 L48.912,16.133 L47.554,16.133 L47.554,15.764 ZM47.554,12.376 C47.249,12.060 46.881,11.902 46.513,11.902 C45.744,11.902 45.218,12.555 45.218,13.502 C45.218,14.449 45.744,15.101 46.513,15.101 C46.881,15.101 47.249,14.943 47.554,14.628 L47.554,12.376 ZM39.535,13.870 C39.619,14.670 40.251,15.217 41.134,15.217 C41.619,15.217 42.155,15.038 42.702,14.722 L42.702,15.849 C42.103,16.122 41.503,16.259 40.913,16.259 C39.324,16.259 38.209,15.101 38.209,13.460 C38.209,11.871 39.303,10.745 40.808,10.745 C42.187,10.745 43.123,11.829 43.123,13.375 C43.123,13.523 43.123,13.691 43.102,13.870 L39.535,13.870 ZM40.756,11.786 C40.103,11.786 39.598,12.271 39.535,12.997 L41.829,12.997 C41.787,12.281 41.356,11.786 40.756,11.786 ZM35.988,12.618 L35.988,16.133 L34.641,16.133 L34.641,10.871 L35.988,10.871 L35.988,11.397 C36.367,10.976 36.830,10.745 37.282,10.745 C37.430,10.745 37.577,10.755 37.724,10.797 L37.724,11.997 C37.577,11.955 37.409,11.934 37.251,11.934 C36.809,11.934 36.335,12.176 35.988,12.618 ZM29.979,13.870 C30.063,14.670 30.694,15.217 31.578,15.217 C32.062,15.217 32.599,15.038 33.146,14.722 L33.146,15.849 C32.546,16.122 31.946,16.259 31.357,16.259 C29.768,16.259 28.653,15.101 28.653,13.460 C28.653,11.871 29.747,10.745 31.252,10.745 C32.630,10.745 33.567,11.829 33.567,13.375 C33.567,13.523 33.567,13.691 33.546,13.870 L29.979,13.870 ZM31.199,11.786 C30.547,11.786 30.042,12.271 29.979,12.997 L32.273,12.997 C32.231,12.281 31.799,11.786 31.199,11.786 ZM25.274,16.133 L24.200,12.555 L23.137,16.133 L21.927,16.133 L20.117,10.871 L21.464,10.871 L22.527,14.449 L23.590,10.871 L24.810,10.871 L25.873,14.449 L26.936,10.871 L28.283,10.871 L26.484,16.133 L25.274,16.133 ZM17.043,16.259 C15.454,16.259 14.328,15.112 14.328,13.502 C14.328,11.881 15.454,10.745 17.043,10.745 C18.632,10.745 19.748,11.881 19.748,13.502 C19.748,15.112 18.632,16.259 17.043,16.259 ZM17.043,11.871 C16.254,11.871 15.707,12.534 15.707,13.502 C15.707,14.470 16.254,15.133 17.043,15.133 C17.822,15.133 18.369,14.470 18.369,13.502 C18.369,12.534 17.822,11.871 17.043,11.871 ZM11.128,13.533 L9.918,13.533 L9.918,16.133 L8.571,16.133 L8.571,8.892 L11.128,8.892 C12.602,8.892 13.654,9.850 13.654,11.218 C13.654,12.586 12.602,13.533 11.128,13.533 ZM10.939,9.987 L9.918,9.987 L9.918,12.439 L10.939,12.439 C11.718,12.439 12.265,11.944 12.265,11.218 C12.265,10.482 11.718,9.987 10.939,9.987 Z",fill:t,fillRule:"evenodd"}),i().createElement("path",{d:"M111.116,14.051 L105.557,14.051 C105.684,15.382 106.659,15.774 107.766,15.774 C108.893,15.774 109.781,15.536 110.555,15.146 L110.555,17.433 C109.784,17.861 108.765,18.169 107.408,18.169 C104.642,18.169 102.704,16.437 102.704,13.013 C102.704,10.121 104.348,7.825 107.049,7.825 C109.746,7.825 111.154,10.120 111.154,13.028 C111.154,13.303 111.129,13.898 111.116,14.051 ZM107.031,10.140 C106.321,10.140 105.532,10.676 105.532,11.955 L108.468,11.955 C108.468,10.677 107.728,10.140 107.031,10.140 ZM98.108,18.169 C97.114,18.169 96.507,17.750 96.099,17.451 L96.093,20.664 L93.254,21.268 L93.253,8.014 L95.753,8.014 L95.901,8.715 C96.293,8.349 97.012,7.825 98.125,7.825 C100.119,7.825 101.997,9.621 101.997,12.927 C101.997,16.535 100.139,18.169 98.108,18.169 ZM97.446,10.340 C96.795,10.340 96.386,10.578 96.090,10.903 L96.107,15.122 C96.383,15.421 96.780,15.661 97.446,15.661 C98.496,15.661 99.200,14.518 99.200,12.989 C99.200,11.504 98.485,10.340 97.446,10.340 ZM89.149,8.014 L91.999,8.014 L91.999,17.966 L89.149,17.966 L89.149,8.014 ZM89.149,4.836 L91.999,4.230 L91.999,6.543 L89.149,7.149 L89.149,4.836 ZM86.110,11.219 L86.110,17.966 L83.272,17.966 L83.272,8.014 L85.727,8.014 L85.905,8.853 C86.570,7.631 87.897,7.879 88.275,8.015 L88.275,10.625 C87.914,10.508 86.781,10.338 86.110,11.219 ZM80.024,14.475 C80.024,16.148 81.816,15.627 82.179,15.482 L82.179,17.793 C81.801,18.001 81.115,18.169 80.187,18.169 C78.502,18.169 77.237,16.928 77.237,15.247 L77.250,6.138 L80.022,5.548 L80.024,8.014 L82.180,8.014 L82.180,10.435 L80.024,10.435 L80.024,14.475 ZM76.485,14.959 C76.485,17.003 74.858,18.169 72.497,18.169 C71.518,18.169 70.448,17.979 69.392,17.525 L69.392,14.814 C70.345,15.332 71.559,15.721 72.500,15.721 C73.133,15.721 73.589,15.551 73.589,15.026 C73.589,13.671 69.273,14.181 69.273,11.038 C69.273,9.028 70.808,7.825 73.111,7.825 C74.052,7.825 74.992,7.969 75.933,8.344 L75.933,11.019 C75.069,10.552 73.972,10.288 73.109,10.288 C72.514,10.288 72.144,10.460 72.144,10.903 C72.144,12.181 76.485,11.573 76.485,14.959 Z",fill:t,fillRule:"evenodd"}))};const b=(0,u.connect)((function(e){return{label:e.label}}),null)(n=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=m(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}(this,t,[e])).state={currency:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:(o=l().mark((function e(){var t,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.M$.find((function(e){return e.value===r.props.currency})),this.setState({currency:t.symbol});case 2:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){p(i,r,n,a,s,"next",e)}function s(e){p(i,r,n,a,s,"throw",e)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.currency,t=this.props,r=t.color,n=t.amount,o=t.discountCouponAdded,a=t.amountBeforeDiscount,u=t.label;return i().createElement("div",{className:"ss-payment--info ss-survey-font-family ss-survey-text-weight--regular"},o?i().createElement(i().Fragment,null,i().createElement("h2",{className:"ss-survey-text-size--lg ss-survey-text-color--secondary"},s.F2.t(u.creditCharged),":",i().createElement("strike",{className:"ss-survey-text-weight--semibold"},e,a||0),"",i().createElement("b",{className:"ss-survey-text-weight--semibold"},e,n||0))):i().createElement(i().Fragment,null,i().createElement("h2",{className:"ss-survey-text-size--lg ss-survey-text-color--secondary"},s.F2.t(u.creditCharged)," ",i().createElement("b",null,e,n||0))),i().createElement("h4",{className:"ss-survey-text-size--sm ss-survey-text-color--secondary-06"},s.F2.t(u.dontStoreCardDetails)),i().createElement("div",{className:"ss-payment--stripe-info"},i().createElement(h,{color:r})))}}],n&&f(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o,u}(i().Component))||n},"./src/helpers/eui/Submit.js":(e,t,r)=>{"use strict";r.d(t,{G:()=>s,T:()=>u});var n=r("./node_modules/lodash/throttle.js"),o=r.n(n),i=r("./src/helpers/eui/logger.js"),a=["question","questionId"],s=function(){return navigator.onLine},u=o()((function(e){var t=e.data,r=e.canSaveTheCurrentQuestionAnswer,n=e.showToastNotification,o=void 0===n?function(){}:n,s=e.getUnableToSaveAnswerErrMsg,u=void 0===s?function(){}:s,c=e.activeQuestionIndex,l=e.questionList,p=e.setAnswerData,f=void 0===p?function(){}:p,d=e.animateOut,y=e.handleSubmit,m=e.ANSWER_TYPES,v=void 0===m?{ANSWER:"ANSWER",SKIP:"SKIP"}:m,h=e.FakeScrollConstants,b=void 0===h?{POSITION:{}}:h,g=e.isSidebarNavigation,_=void 0!==g&&g;try{var w,O,j=l[c];if(j.isSection&&j.properties.singlePageForm||null!==(w=j.section)&&void 0!==w&&null!==(O=w.properties)&&void 0!==O&&O.singlePageForm)return;if(!r)return o(u());if(!_&&c>=0&&c<l.length-1)f({type:v.ANSWER,data:t}),d(b.POSITION.BOTTOM);else{var E=t.payload,S=E.question;E.questionId,y(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(E,a),S,!0)}}catch(e){(0,i.v)("Error in handleQuestionSubmit",{error:e,info:t})}}),1e3,{trailing:!1})},"./src/helpers/eui/SubmitAnswer.js":(e,t,r)=>{"use strict";r.d(t,{H:()=>V,S:()=>Y});var n=r("./node_modules/lodash/isString.js"),o=r.n(n),i=r("./src/reducers/eui/action_names.js"),a=r("./src/helpers/Sleep.js"),s=r("./src/reducers/eui/actionCreators/actions.js"),u=r("./src/reducers/eui/details/question/activeQuestionId.js"),c=r("./src/helpers/eui/Logic/Display.js"),l=r("./src/helpers/eui/Logic/Jump.js"),p=r("./src/helpers/eui/redirect.js"),f=r("./src/helpers/eui/Conversation.js"),d=r("./src/constants/channel.js"),y=r("./src/reducers/classic_form/selectors/index.js"),m=r("./src/reducers/common/toast/actionCreators.js"),v=r("./node_modules/lodash/isEmpty.js"),h=r.n(v),b=r("./src/helpers/integration/GoogleAnalytics.js"),g=r("./surveysparrow-integrations/server/commonConstants/integration.js"),_=r("./src/helpers/integration/GoogleTagManager.js"),w=r("./src/helpers/Choice.js"),O=r("./src/helpers/commonHelpers.js"),j=r("./src/helpers/toastMessageFactory.js"),E=r("./server/commonConstants/questionTypes.js"),S=r("./src/helpers/survey.js"),A=r("./src/helpers/eui/logger.js"),T=r("./server/commonConstants/surveyTypes.js"),P=r.n(T),C=r("./src/utils/submissionRetryUtils.js"),x=r("./src/utils/sentry.js"),I=r("./node_modules/moment/moment.js"),L=r.n(I);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function q(){q=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new x(n||[]);return o(a,"_invoke",{value:A(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function h(){}function b(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(I([])));O&&O!==r&&n.call(O,a)&&(_=O);var j=g.prototype=h.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var u=p(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==k(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function A(t,r,n){var o=f;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=T(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var c=p(t,r,n);if("normal"===c.type){if(o=n.done?m:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(k(t)+" is not iterable")}return b.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),c(j,u,"Generator"),c(j,a,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function F(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){F(i,n,o,a,s,"next",e)}function s(e){F(i,n,o,a,s,"throw",e)}a(void 0)}))}}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function G(e,t,r){return t&&B(e.prototype,t),r&&B(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var V=G((function e(t,r,n){var v=this,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,"do",U(q().mark((function e(){var t,r,n,o,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v.isClassicForm||v._setAnswerInStore(),r=v.getState(),n=r.config.analytics&&r.config.analytics.GoogleAnalytics,o=r.details.question.list[0].id,v.isClassicForm?(t=v.submittingQuestion||(0,y.eA)(r),o===t.id&&n&&!r.config.preview&&(0,b.c)(r,g.googleAnalyticsEvents.startSurvey),v._handleClassicFormRedirection()||void 0===(i=(0,y.cv)(r))||v.skipSetActiveQuestion||v.dispatch(u.o1.setActiveQuestion(i))):(t=v.current,o===t.id&&n&&!r.config.preview&&(0,b.c)(r,g.googleAnalyticsEvents.startSurvey)),o===t.id&&(0,_.t)(r.config,g.googleTagManagerEvents.surveyStarted,t),(0,_.t)(r.config,g.googleTagManagerEvents.surveyInteraction,t),!v._isMessage(t)){e.next=14;break}return e.next=12,v._proceed();case 12:e.next=31;break;case 14:if(!v.asyncSubmission){e.next=22;break}if(v.answerPosted){e.next=18;break}return e.next=18,v._postAnswer(t);case 18:return e.next=20,v._proceed();case 20:e.next=31;break;case 22:if(!v.survey||!v.survey.settings||v.survey.settings.partialSubmission||!h()(v.submission)){e.next=27;break}return e.next=25,v._proceed();case 25:e.next=31;break;case 27:return e.next=29,v._postAnswer(t);case 29:return e.next=31,v._proceed();case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),(0,A.v)("Error in Do Answer Constructor",{error:e.t0});case 36:case"end":return e.stop()}}),e,null,[[0,33]])})))),W(this,"_handleClassicFormRedirection",(function(){var e=v.getState(),t=(0,y.eA)(e),r=t&&t.redirectUrl;if(r||t.redirectMulti){try{t.redirectMulti&&t.redirectMulti&&t.redirectMulti[v.details.language]&&(r=t.redirectMulti[v.details.language])}catch(e){console.error(e),(0,x.k)(e,{message:"Error while checking multi redirect thankyou url for survey, survey_id:".concat(t.survey_id," account_id: ").concat(t.account_id),tags:{errorType:"EUI_SOC_ERROR"},info:{answeredQuestion:JSON.stringify(t)}})}v.survey&&v.survey.settings&&!v.survey.settings.partialSubmission&&h()(v.submission)?(v.surveyRedirected=!0,v.dispatch(s.A.surveyRedirected()),(0,p.L)(r)):(v.surveyRedirected=!0,v.dispatch(s.A.surveyRedirected()),v._postAnswer(t).then((function(){v._completeSubmission()})).then((function(){(0,p.L)(r)})))}return!!r})),W(this,"_isAutoTriggeredWidget",(function(){var e=!1;return v.getState().config.widgetType===d.l$.autoTriggered&&(v.list||v.channel&&v.channel.properties&&v.channel.properties.autoTriggered.startType!==d.nS.startWithGreeting&&0===v.positions[v.current.id])&&(e=!0),e})),W(this,"_proceed",U(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v._waitForNextQuestion();case 3:return e.next=5,v._setNextQuestion();case 5:t=v.getState(),(v.isClassicForm?(0,y.Dz)(t):!v.nextQuestion)&&(v.survey&&v.survey.settings&&!v.survey.settings.partialSubmission&&h()(v.submission)?v.surveyRedirected||(!v.isClassicForm&&v.dispatch({type:i.SET_QUESTION_COMPLETING,completing:!0}),f.A.isCard(v.channel,v.config.channels)&&v.dispatch(s.A.completeSubmissionWithAnswer())):!v.isClassicForm&&v._completeSubmission()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,A.v)("Error in proceed of submit Answer",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),W(this,"_isMessage",(function(e){return e.type===E.questionTypes.Message.name})),W(this,"_waitForNextQuestion",U(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.isClassicForm||v._isAutoTriggeredWidget()){e.next=5;break}return t=v.timeOuts.nextQuestionTimeOut,v.current.properties&&v.current.properties.data&&v.current.properties.data.wait&&(t=1e3*v.current.properties.data.wait),e.next=5,(0,a.f)(t);case 5:case"end":return e.stop()}}),e)})))),W(this,"_getDisplayChoices",(function(e,t){if(t&&e&&w.A.isQuestionSupportChoiceLevelLogic(t.type)){if(!(0,y.KQ)(e)||!(0,y.zI)(e))return t.choices;var r=(0,y.ml)(t)(e);return new c.A(r).getDisplayChoices().choices}})),W(this,"_getIsOtherOptionSelected",(function(e,t){if(e&&t.data.length>0){var r,n=!1,o=R(t.data);try{var i=function(){var t=r.value,o=e.find((function(e){return e.id===t}));o&&o.other&&(n=!0)};for(o.s();!(r=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return n}return!1})),W(this,"_setNextQuestion",U(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.isClassicForm||(v.nextQuestion=v._findNext(),v.nextQuestion&&v.dispatch({type:i.SET_CURRENT_QUESTION,current:v.nextQuestion}),v.dispatch({type:i.SET_QUESTION_LOADING,loading:!1}));case 1:case"end":return e.stop()}}),e)})))),W(this,"_findNext",(function(){var e=v.getState(),t=e.details,r=t.question,n=r.list,a=r.positions,u=r.answered,f=t.relation,d=t.subject,m=t.translations,b=t.language,g=new l.A({account:v.account,config:v.config,questions:n,activeQuestion:v.current,positions:a,contact:v.contact,channel:v.channel,survey:v.survey,isWidget:v.isWidget,dispatch:v.dispatch,translations:m,language:b}).findNextQuestionIndex(),_=g.nextIndex,w=g.redirectUrl;if(w){if(v.surveyRedirected=!0,v.dispatch(s.A.surveyRedirected()),v.survey&&v.survey.settings&&!v.survey.settings.partialSubmission&&h()(v.submission))(0,p.L)(w);else{var j=v.current;v._postAnswer(j).then((function(){(0,p.L)(w)}))}return null}if(o()(_)&&-1!==_.indexOf("ty:"))return null;if(_<0)return null;var E,S=R(n.slice(_));try{for(S.s();!(E=S.n()).done;){var A=E.value;if(new c.A({account:v.account,config:v.config,questions:n,activeQuestion:A,positions:a,contact:v.contact,channel:v.channel,survey:v.survey,relation:f,subject:d,translations:m,language:b}).evaluateQuestion()){v.nextQuestion=A;var T,P=v._getDisplayChoices(v.getState(),v.nextQuestion),C=void 0;if(P&&(C=null!==(T=v.nextQuestion.displayChoices)&&void 0!==T?T:v.nextQuestion.choices,v.nextQuestion=D(D({},v.nextQuestion),{},{displayChoices:P})),!v.nextQuestion.answer)break;if(P&&(0,y.KQ)(e)&&(0,y.zI)(e)&&!(0,O.XE)(C,P))break;if(P&&v._getIsOtherOptionSelected(P,v.nextQuestion.answer))break;var x=v._getAnsweredQuestionPosition(u,v.nextQuestion);v.dispatch({type:i.APPEND_ANSWER_TO_QUESTION_IN_LIST,question:D({},v.nextQuestion),answer:D({},v.nextQuestion.answer),answeredPosition:x}),v.nextQuestion=null}}}catch(e){S.e(e)}finally{S.f()}return v.nextQuestion})),W(this,"_completeSubmission",(function(){var e=v.getState(),t=e.config.analytics&&e.config.analytics.FacebookPixel,r=e.config.analytics&&e.config.analytics.GoogleAnalytics;t&&!e.config.preview&&fbq&&fbq("track",e.config.fbAnalytics.completeRegistration),r&&!e.config.preview&&(0,b.c)(e,g.googleAnalyticsEvents.submitSurvey),v.dispatch(s.A.completeSubmission(v.timeOuts,v.offline))})),W(this,"_setAnswerInStore",(function(){v.dispatch({type:i.APPEND_ANSWER_TO_QUESTION_IN_LIST,question:v.current,answer:v.answer,position:v.positions[v.current.id],answeredPosition:v._getAnsweredQuestionPosition(v.answered,v.current)})})),W(this,"_getBody",(function(e){try{var t,r,n,o,i,a,s,u=v.getState().details.question.editing,c=v.answer.data,l=e.choices,p=v.details.question.activeQuestionId;(0,S.IL)(null===(t=v.survey)||void 0===t?void 0:t.surveyType)&&null!=e&&null!==(r=e.section)&&void 0!==r&&null!==(n=r.properties)&&void 0!==n&&n.singlePageForm&&null!=e&&e.id&&(p=e.id);var f=l&&l.find((function(e){return e.other&&!e.piped_qid}));c instanceof Array&&f&&(c=c.map((function(t){return t===f.id?{id:t,other_txt:v.workbench[e.id+"_other"]||""}:t})));var d=W({},e.type,D(D(D({},v.answer),{},{data:c,pipingDestinations:v.details.pipingDestinations[p],language:v.details.language,editing:u},(null==e?void 0:e.loopCollectionId)&&{loopCollectionId:e.loopCollectionId}),{},{clientTriggerTime:L()().toISOString()})),y=v.isClassicForm&&(null===(o=v.details)||void 0===o?void 0:o.survey.surveyType)!==P().Employee360.name?e.answer:v.answer;return null!=y&&null!==(i=y.hasOwnProperty)&&void 0!==i&&i.call(y,"notApplicable")&&(d[e.type].notApplicable=y.notApplicable),null!=d&&null!==(a=d[e.type])&&void 0!==a&&a.other&&(null==d||null===(s=d[e.type])||void 0===s||delete s.other),d}catch(t){(0,A.v)("Error in Get Body",{error:t,info:{questionId:null==e?void 0:e.id}})}})),W(this,"_getAnsweredQuestionPosition",(function(e,t){return e.map((function(e){return e.id})).indexOf(t.id)})),W(this,"_postAnswer",function(){var e=U(q().mark((function e(t){var r,n,o,a,u,c,l,p,f,d,y,h,b,g,_,w,O,S,T,P,I,L,k,N,D,R,M,F,U,B,G,W,Q,V,H,K,z,$,J,X,Z,ee;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v.answerPosted=!0,v.preview){e.next=54;break}return l=v.account.features,p=v.config.features.features,f=null!==(r=null===(n=v.config)||void 0===n?void 0:n.submissionQueueEnabled)&&void 0!==r&&r,d=f&&l.includes(p.SUBMISSION_QUEUE.name),e.next=9,Y(v.getState,d);case 9:if(v.submission=e.sent,y=null===(o=v.details)||void 0===o||null===(a=o.reminder)||void 0===a?void 0:a.id,h=null===(u=v.details)||void 0===u||null===(c=u.childChannel)||void 0===c?void 0:c.token,!E.commonScoreQuestionTypes.includes(t.type)){e.next=35;break}if(null===(b=t.subQuestions)||void 0===b||!b[0]||!v.workbench[null===(g=t.subQuestions)||void 0===g?void 0:g[0].id]){e.next=35;break}return w=null===(_=t.subQuestions)||void 0===_?void 0:_[0],(O=v._getBody(w))[w.type].data=v.workbench[w.id],S=d?"/api/internal/v1/submissions/".concat(v.submission.uuid,"/questions/").concat(w.id,"/answer/").concat(v.token):"/api/internal/submissions/".concat(v.submission.id,"/questions/").concat(w.id,"/answer/").concat(v.token),y&&(S="".concat(S,"?reminderId=").concat(y)),h&&(O.childToken=h),v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_INIT,payload:{questionId:t.id}}),e.prev=21,k=null!==(T=null===(P=v.config)||void 0===P?void 0:P.hasEnableSubmissionRetry)&&void 0!==T&&T,N=null!==(I=null===(L=v.config)||void 0===L?void 0:L.hasEnableAxiosRetry)&&void 0!==I&&I,e.next=26,(0,C.submitAnswerApiRequest)({method:"put",url:S,headers:{Accept:"application/json","Content-Type":"application/json"},data:O},k,N);case 26:v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_SUCCESS,payload:{questionId:w.id}}),e.next=35;break;case 29:e.prev=29,e.t0=e.catch(21),(0,A.v)("Error in api call of feedback of id ".concat(null==w?void 0:w.id," submission_id: ").concat(d?null===(D=v.submission)||void 0===D?void 0:D.uuid:null===(R=v.submission)||void 0===R?void 0:R.id),{error:e.t0,info:{payload:JSON.stringify(O)}}),v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_FAILURE,payload:{questionId:w.id}}),null!==e.t0&&void 0!==e.t0&&null!==(M=e.t0.response)&&void 0!==M&&M.data&&null!=(F=e.t0.response.data)&&F.quotaError&&(v.dispatch(s.A.setActiveQuota(F.exceededSurveyResponseQuota)),v.dispatch(s.A.setQuotaExceeded(!0))),(0,x.k)(e.t0,{message:"Error from end user interface for account ".concat(v.channel.account_id," and token ").concat(v.token," "),tags:{errorType:"EUI_SOC_ERROR"},info:{payload:JSON.stringify(O)}});case 35:return U=v._getBody(t),B=d?"/api/internal/v1/submissions/".concat(v.submission.uuid,"/questions/").concat(t.id,"/answer/").concat(v.token):"/api/internal/submissions/".concat(v.submission.id,"/questions/").concat(t.id,"/answer/").concat(v.token),y&&(B="".concat(B,"?reminderId=").concat(y)),h&&(U.childToken=h),v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_INIT,payload:{questionId:t.id}}),e.prev=40,H=null!==(G=null===(W=v.config)||void 0===W?void 0:W.hasEnableSubmissionRetry)&&void 0!==G&&G,K=null!==(Q=null===(V=v.config)||void 0===V?void 0:V.hasEnableAxiosRetry)&&void 0!==Q&&Q,e.next=45,(0,C.submitAnswerApiRequest)({method:"put",url:B,headers:{Accept:"application/json","Content-Type":"application/json"},data:U},H,K);case 45:v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_SUCCESS,payload:{questionId:t.id}}),e.next=54;break;case 48:e.prev=48,e.t1=e.catch(40),(0,A.v)("Error in Api call of Answer for ques ".concat(null==t?void 0:t.id,", submission_id: ").concat(d?null===(z=v.submission)||void 0===z?void 0:z.uuid:null===($=v.submission)||void 0===$?void 0:$.id," "),{error:e.t1,info:{payload:JSON.stringify(U)}}),v.dispatch({type:i.CLASSIC_FORM_POST_ANSWER_FAILURE,payload:{questionId:t.id}}),e.t1.response?(J=e.t1.response.data).quotaError&&(v.dispatch(s.A.setActiveQuota(J.exceededSurveyResponseQuota)),v.dispatch(s.A.setQuotaExceeded(!0,t.section.properties.singlePageForm))):v.dispatch((0,m.Q)((0,j.q)())),(0,x.k)(e.t1,{message:"Error from end user interface for account ".concat(v.channel.account_id," and token ").concat(v.token," "),tags:{errorType:"EUI_SOC_ERROR"},info:{payload:JSON.stringify(U)}});case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(0),(0,A.v)("Error in Post Answer for account_id: ".concat(null===(X=v.account)||void 0===X?void 0:X.id," submission_id: ").concat(hasSubmissionQueue?null===(Z=v.submission)||void 0===Z?void 0:Z.uuid:null===(ee=v.submission)||void 0===ee?void 0:ee.id," question_id: ").concat(null==t?void 0:t.id," "),{error:e.t2,info:{payload:JSON.stringify(t)}});case 59:case"end":return e.stop()}}),e,null,[[0,56],[21,29],[40,48]])})));return function(t){return e.apply(this,arguments)}}());try{this.answer=t,this.dispatch=r,this.getState=n,this.timeOuts=T.timeOuts||{},this.asyncSubmission=T.asyncSubmission,this.preview=T.preview;var I=this.getState(),k=I.details,N=I.config,M=I.isClassicForm,F=I.isWidget,B=I.account;this.account=B,this.details=k,this.config=N,this.isClassicForm=M,this.isWidget=F,this.survey=this.details.survey,this.positions=this.details.question.positions,this.list=this.details.question.list,this.answered=this.details.question.answered,this.current=this.details.question.current,this.workbench=this.details.question.workbench,this.channel=this.details.channel,this.contact=this.details.contact,this.submission=this.details.submission,this.token=this.details.token,this.answerPosted=!1,this.surveyRedirected=!1,this.skipSetActiveQuestion=T.skipActiveId||!1,this.submittingQuestion=T.question||null}catch(e){(0,A.v)("Error in Submit Answer Constructor",{error:e})}})),Y=function(){var e=U(q().mark((function e(t){var r,n,o,i=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,n=t(),o=n.details.submission;case 3:if(!(r?!o.uuid:!o.id)){e.next=9;break}return e.next=6,(0,a.f)(200);case 6:o=t().details.submission,e.next=3;break;case 9:return e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(1),console.log("Error while waiting till submission is created: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},"./src/helpers/eui/Thankyou.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n=r("./node_modules/lodash/isString.js"),o=r.n(n),i=r("./src/helpers/eui/Conversation.js"),a=r("./src/helpers/eui/Logic/Display.js"),s=r("./src/helpers/eui/Logic/Jump.js"),u=r("./node_modules/lodash/isEmpty.js"),c=r.n(u),l=r("./node_modules/lodash/startCase.js"),p=r.n(l),f=r("./src/helpers/eui/redirect.js"),d=r("./src/constants/survey.js"),y=r("./surveysparrow-billing/server/commonConstants/analytics.js"),m=r("./node_modules/template-format/build/index.js"),v=r.n(m),h=r("./node_modules/moment/moment.js"),b=r.n(h);function g(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const w={getActiveThankyou:function(e,t,r,n){var u,l,m,h,_,w,O,j,E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=function(e){var t,r,n=e.config,u=e.account,c=e.details,l={},p=c.question.list,d=c.question.positions,y=c.translations,m=i.A.getLastQuestionWithAnswer(p),v=new s.A({account:u,config:n,questions:p,activeQuestion:m,positions:d,contact:c.contact,channel:c.channel,survey:c.survey,language:c.language,translations:y});if(m){var h=v.findNextQuestionIndex();t=h.nextIndex,r=h.redirectUrl}if(r)return(0,f.L)(r),l;var b=0;o()(t)&&-1!==t.indexOf("ty:")&&(b=parseInt(t.slice(3)));var _,w,O,j=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=g(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(c.survey.thankyou_json.entries());try{for(j.s();!(_=j.n()).done;){var E,S,A,T=(w=_.value,O=2,function(e){if(Array.isArray(e))return e}(w)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(w,O)||g(w,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=T[0],C=T[1];if(!(P<b)){var x=new a.A({account:u,config:n,questions:p,activeQuestion:p[p.length-1],positions:d,isEditing:(null==c||null===(E=c.question)||void 0===E?void 0:E.editing)||(null==c||null===(S=c.submission)||void 0===S?void 0:S.completedTime)||(null==c||null===(A=c.submission)||void 0===A?void 0:A.timeTaken),contact:c.contact,channel:c.channel,survey:c.survey,relation:c.relation,subject:c.subject,language:c.language,translations:y});if(!(c.survey.thankyou_json.length>1)||x.evaluateThankyouLogic(P)){l=C;break}}}}catch(e){j.e(e)}finally{j.f()}return l}({config:r,account:e,details:t}),A=function(e){var t=e.account,r="production"===e.config.env?"https://surveysparrow.com":"https://sparrowsuite.com";return{baseURL:r,redirectURL:"".concat(r,"/thankyou/?company=").concat(p()(t.companyName),"&").concat(y.surveySignupUTM)}}({config:r,account:e}),T=A.redirectURL,P=A.baseURL;if(c()(S)){if(t.survey.surveyType===d.At.NPS.name&&E)return S;var C;null!=t&&null!==(C=t.spotcheck)&&void 0!==C&&C.isSpotcheck||(window.location.href=T)}null!==(u=S.button)&&void 0!==u&&u.enabled&&null!==(l=S.button)&&void 0!==l&&l.url&&(S.button.url=v()(S.button.url,(0,f.E)(S.button.url,E)));var x=b()(null==t||null===(m=t.survey)||void 0===m?void 0:m.created_at);if(null!=r&&null!==(h=r.THANKYOUPAGE)&&void 0!==h&&h.ENABLE_THANKYOU_PAGE_REDIRECT&&x>=b()(null==r||null===(_=r.THANKYOUPAGE)||void 0===_?void 0:_.THANKYOU_PAGE_START_DATE)&&(null==t||null===(w=t.survey)||void 0===w?void 0:w.id)%(null==r||null===(O=r.THANKYOUPAGE)||void 0===O?void 0:O.MOD_THANKYOU_PAGE_REDIRECT)==0&&e.features.includes("THANKYOU_PAGE_REDIRECT")&&null!=r&&null!==(j=r.THANKYOUPAGE)&&void 0!==j&&j.ENABLED_SURVEY_IN_THANKYOU_PAGE.includes(t.survey.surveyType)){var I,L="".concat(P,"/thankyou/?company=").concat(p()(e.companyName),"&").concat(y.surveySignupRedirectionUTM);t.survey.settings.editResponse||t.survey.settings.copyOfResponse||setTimeout((function(){var e;null!=t&&null!==(e=t.spotcheck)&&void 0!==e&&e.isSpotcheck||null!=r&&r.preview||(window.location.href=L)}),1e3*(null==r||null===(I=r.THANKYOUPAGE)||void 0===I?void 0:I.THANKYOU_PAGE_TIMER))}return S}}},"./src/helpers/eui/Timer.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.d(t,{A:()=>s});var a=function(e){return Math.round(e/1e3)};const s=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.previousTimeTaken=t?parseInt(t):0,this.startTime=null,this.endTime=null,this.pausedTime=null,this.pausedDuration=0},(t=[{key:"start",value:function(){this.startTime=Date.now(),window.addEventListener("blur",this.pause.bind(this)),window.addEventListener("focus",this.resume.bind(this))}},{key:"stop",value:function(){this.endTime=Date.now()}},{key:"pause",value:function(){this.pausedTime||this.stopped||(this.pausedTime=Date.now())}},{key:"resume",value:function(){this.pausedTime&&(this.pausedDuration+=a(Date.now()-this.pausedTime),this.pausedTime=null)}},{key:"time",get:function(){return this.endTime?this.previousTimeTaken+a(this.endTime-this.startTime)-this.pausedDuration:this.startTime?this.previousTimeTaken+a(Date.now()-this.startTime)-this.pausedDuration:0}},{key:"stopped",get:function(){return Boolean(this.endTime)}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},"./src/helpers/eui/ValidateNavigation.js":(e,t,r)=>{"use strict";r.d(t,{F:()=>it});var n=r("./node_modules/lodash/lodash.js"),o=r("./src/helpers/Validation.js"),i=r("./src/constants/sectionNavigationConstants.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./src/constants/webhook.js");function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.workbench,n=t.question,i=t.account,a=t.config,s=null,u=e||r[n.id];if(u){if(s=o.A.regexValidation(u,n,i,a,!0))return s;s=null}return s},v=r("./node_modules/validator/lib/isEmail.js"),h=r.n(v),b=r("./src/helpers/Phone.js"),g=r("./server/commonConstants/countryInfo.js");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=r("./src/helpers/Choice.js");function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=r("./server/commonConstants/questionTypes.js"),q=r("./src/helpers/Number.js"),F=M.dataTypes.date,U=M.dataTypes.dropdown,B=M.dataTypes.email,G=M.dataTypes.number,W=M.dataTypes.PhoneNumber,Q=function(e,t,r,n,a){var s=r.properties.data.type===F,u=r.properties.data.type===U;if(!r.required||(s||n)&&(s||u||n.trim()))if(n&&!s&&!u&&n.trim()){var c=null;t.type===B?c=o.A.emailValidation(n)?i.fp.EMAIL_ERROR:null:t.type===G&&(c=o.A.contactFormNumberValidator(n)?i.fp.NUMBER_ERROR:null),c&&(a[r.id]=c)}else s&&(!r.required||null!=n&&n.datetime?null!=n&&n.datetime&&a[r.id]&&delete a[r.id]:a[r.id]=i.fp.DATE_ERROR);else a[r.id]=i.fp.MANDATORY_QUESTION;return a},V=function(e,t,r,n,o,a){if(!n.required&&!o)return a;if(n.required&&!o)a[n.id]=i.fp.EMPTY_PHONE_NUMBER_ERROR;else if(o){var s=(0,b.O3)(o),u=s.country,c=s.code,l=s.number,p=void 0===l?"":l,f=e[n.id]||(0,b.Ce)("".concat(c).concat(p))||u;(0,b.FJ)("".concat(c," ").concat((0,q.tz)(p)),f)?delete a[n.id]:a[n.id]=i.fp.INVALID_PHONE_NUMBER_ERROR}return a};function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=r("./node_modules/validator/lib/isURL.js"),J=r.n($),X=r("./src/helpers/eui/Piping.js");function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return(t=function(e){var t=function(e){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e){if("object"!=fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return(t=function(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e=r("./node_modules/decimal.js/decimal.mjs");function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){if(e){if("string"==typeof e)return je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(e){var t={hasSameValue:!1,sameValueIds:[]};if(!e)return t;var r=new Map;Object.entries(e).forEach((function(e){var t=we(e,2),n=t[0],o=t[1],i=Number(o);isNaN(i)||(r.has(i)?r.get(i).push(n):r.set(i,[n]))}));var n,o,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Oe(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(r);try{for(i.s();!(n=i.n()).done;){var a,s=we(n.value,2),u=(s[0],s[1]);u.length>1&&(t.hasSameValue=!0,(a=t.sameValueIds).push.apply(a,function(e){if(Array.isArray(e))return je(e)}(o=u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Oe(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}catch(e){i.e(e)}finally{i.f()}return t};function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=Se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Se(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ce(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ke=function(e,t,r){return null!==e&&null!==t&&0===_e.A.mod(_e.A.sub(t,e).toNumber(),r).toNumber()},Ne=function(e,t,r){return!(!e&&0!==e)&&!(t*r>e)&&e>=t};function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e,t,r){return(t=function(e){var t=function(e){if("object"!=De(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==De(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fe=r("./src/helpers/dateValidation.js"),Ue=M.questionTypes.DateTime.types.DATETIME;function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t,r){return(t=function(e){var t=function(e){if("object"!=Be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ve=r("./src/constants/stripe.js"),Ye=r("./src/utils/euiUtils.js");function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return(t=function(e){var t=function(e){if("object"!=He(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==He(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t,r){return(t=function(e){var t=function(e){if("object"!=Je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=r("./server/commonConstants/authenticator.js");function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e,t,r){return(t=function(e){var t=function(e){if("object"!=rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it=function(e,t){var r=t.question,a={};switch(r?r.type:null){case M.questionTypes.NumberInput.name:a=function(e){var t,r,n,a,s,c,l,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=p.workbench,d=p.question,y=p.label,m=p.account,v=p.config,h={},b=null==d||null===(t=d.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired,g=null==d||null===(n=d.section)||void 0===n||null===(a=n.properties)||void 0===a?void 0:a.singlePageForm,_=b&&g,w=null!==(s=null!=e?e:f[d.id])&&void 0!==s?s:null===(c=d.properties)||void 0===c||null===(l=c.defaultAnswer)||void 0===l?void 0:l.value,O=null;return w||0===Number(w)?O=function(e,t,r,n,a,s){var u;return(u=o.A.regexValidation(t,r,a,s,!0))?u:isNaN(Number(t))&&0!==Number(t)?i.fp.NUMBER_ERROR:o.A.numberInputValidation(t,r,n)}(0,w,d,y,m,v):(d.required||_)&&(O=i.fp.NUMBER_ERROR),O?u(u({},h),{},{errorCode:O}):function(e,t){return e&&t}(O,g)?(p.setQuestionError({isInvalid:!0,invalidLabel:O,question:d}),h):h}(e,t);break;case M.questionTypes.EmailInput.name:a=function(e){var t,r,n,a,s,u,c,l,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=p.workbench,d=p.question,y=null==d||null===(t=d.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.singlePageForm,m=e||(null===(n=f[d.id])||void 0===n?void 0:n.trim())||(null===(a=d.properties)||void 0===a||null===(s=a.defaultAnswer)||void 0===s||null===(u=s.value)||void 0===u?void 0:u.trim())||"",v={},b=y&&(null==d||null===(c=d.section)||void 0===c||null===(l=c.properties)||void 0===l?void 0:l.isRequired)||d.required;if(!b&&!m)return v;if(b&&!m)return v.errorCode=i.fp.MANDATORY_QUESTION,v;var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.workbench,n=t.question,i=t.account,a=t.config,s=e||r[n.id];return o.A.regexValidation(s,n,i,a,!0)||null}(e,p);return g?(v.errorCode=g,v):(h()(m)||(v.errorCode=i.fp.EMAIL_ERROR),v)}(e,t);break;case M.questionTypes.TextInput.name:a=function(e){var t,r,n,o,a,s,u,c,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=p.workbench,y=p.question,v=null,h={},b=[],g=!!(e?e.reduce((function(e,t){return e+t.value}),"").trim():(null===(t=f[y.id])||void 0===t?void 0:t.reduce((function(e,t){return e+t.value}),"").trim())||function(e){if(e){var t=e.replace(/^\{|\}$/g,"");for(var r in l.le)if(t.startsWith(l.le[r].prefix))return!1;return e}}(null===(r=y.properties)||void 0===r||null===(n=r.defaultAnswer)||void 0===n||null===(o=n.value)||void 0===o?void 0:o.trim())),_=(null==y||null===(a=y.section)||void 0===a||null===(s=a.properties)||void 0===s?void 0:s.isRequired)&&(null==y||null===(u=y.section)||void 0===u||null===(c=u.properties)||void 0===c?void 0:c.singlePageForm);if((y.required||_)&&!g)return d(d({},h),{},{errorCode:i.fp.MANDATORY_QUESTION});for(var w=0;w<(null===(O=f[y.id])||void 0===O?void 0:O.length);w++){var O,j=f[y.id][w];(v=m(j.value,p))&&(b.push({id:j.index,errorCode:v}),h=d(d({},h),{},{errorCode:b}))}return h}(e,t);break;case M.questionTypes.PhoneNumber.name:a=function(e){var t,r,n,o,a,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.question,p=c.workbench,f=c.skipRequired,d={};if(null!=l&&null!==(t=l.answer)&&void 0!==t&&t.skipped)return d;var y=null==l||null===(r=l.properties)||void 0===r||null===(n=r.defaultAnswer)||void 0===n?void 0:n.value,m=p[l.id]||e,v=(null==l||null===(o=l.section)||void 0===o||null===(a=o.properties)||void 0===a?void 0:a.isRequired)&&(null==l||null===(s=l.section)||void 0===s||null===(u=s.properties)||void 0===u?void 0:u.singlePageForm);if(m||y){var h="",_="",w="";if(m?(h=m.country,_=m.code,w=m.number):!w&&y&&(w=(0,b.Zu)(y),_="+".concat((0,b.t$)(y)),h=(0,b.Ce)(y)),!function(e){return!!g.countryInfo.find((function(t){return t.phoneCode===e}))}(_))return O(O({},d),{},{errorCode:i.fp.INVALID_COUNTRY_CODE_ERROR});if(!(0,b.FJ)("".concat(_," ").concat(w),h)){if(w)return O(O({},d),{},{errorCode:i.fp.INVALID_PHONE_NUMBER_ERROR});if(f||l.required||v)return O(O({},d),{},{errorCode:i.fp.EMPTY_PHONE_NUMBER_ERROR})}return d}return(l.required||v)&&(d=O(O({},d),{},{errorCode:i.fp.MANDATORY_QUESTION})),d}(e,t);break;case M.questionTypes.Dropdown.name:a=function(e){var t,r,n,o,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.question,l=u.workbench,p=u.label,f={},d=l[c.id]||(null==c||null===(t=c.properties)||void 0===t||null===(r=t.defaultAnswer)||void 0===r?void 0:r.value)||[],y=E.A.isOtherSelected(l,c),m=l["".concat(c.id,"_other")],v=(null==c||null===(n=c.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.isRequired)&&(null==c||null===(a=c.section)||void 0===a||null===(s=a.properties)||void 0===s?void 0:s.singlePageForm),h=y&&(!m||""===m.trim());if((c.required||v)&&0===d.length||h){var b=T(T({},b),{},{errorCode:i.fp.MANDATORY_QUESTION});return b}if(l[c.id]&&0!==l[c.id].length){var g=!!c.multipleAnswers&&E.A.validateChoices(d,c,p,!0);g&&(f=T(T({},f),{},{errorCode:g}))}return f}(e,t);break;case M.questionTypes.GroupRating.name:a=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.question,u=a.workbench,c={},l=(null==s||null===(t=s.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==s||null===(n=s.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm);if(s.required||l)return Object.values((null==u?void 0:u[s.id])||u||{}).length===s.subQuestions.length?c:c=D(D({},c),{},{errorCode:i.fp.MANDATORY_QUESTION})}(e,t);break;case M.questionTypes.ContactForm.name:a=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.workbench,u=a.question,c=a.label,l=s[u.id]||{};return(null==u||null===(t=u.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.singlePageForm)&&(null==u||null===(n=u.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.isRequired)&&(u.required=!0),e||(e={}),function(e,t,r,n,o){var a,s,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c={};return null!=e&&null!==(a=e.answer)&&void 0!==a&&a.skipped?c:e.required&&0===Object.keys(n).length?(c[null===(s=o[0])||void 0===s?void 0:s.id]=i.fp.MANDATORY_QUESTION,c):(o.forEach((function(e){var o,i=n[e.id]||(null===(o=e.properties.defaultAnswer)||void 0===o?void 0:o.value);c=Q(r,e.properties.data,e,i,c),e.properties.data.type===W&&u&&(c=V(t,r,e.properties.data,e,i,c))})),c)}(u,e,c,l,u.subQuestions,!0)}(e,t);break;case M.questionTypes.NPSFeedback.name:a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.workbench,n=t.question,o={},a=!(!r[n.id]||!r[n.id].trim());return n.required&&!a&&(o=K(K({},o),{},{erroCode:i.fp.MANDATORY_QUESTION})),o}(e,t);break;case M.questionTypes.URLInput.name:a=function(e){var t,r,n,o,a,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.workbench,p=c.question,f=l[p.id]&&l[p.id].trim()||(null===(t=p.properties)||void 0===t||null===(r=t.defaultAnswer)||void 0===r||null===(n=r.value)||void 0===n?void 0:n.trim())||"",d=null==p||null===(o=p.section)||void 0===o||null===(a=o.properties)||void 0===a?void 0:a.singlePageForm,y=(null==p||null===(s=p.section)||void 0===s||null===(u=s.properties)||void 0===u?void 0:u.isRequired)&&d,m={};return p.required||y?""===f?m.errorCode=i.fp.MANDATORY_QUESTION:J()(f,{require_protocol:!0})||(m.errorCode=i.fp.URL_ERROR):""!==f&&(J()(f,{require_protocol:!0})||(m.errorCode=i.fp.URL_ERROR)),m}(e,t);break;case M.questionTypes.MultiChoice.name:a=function(e){var t,r,n,o,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.question,l=u.workbench,p=u.label,f={},d=l[c.id]||(null===(t=c.properties)||void 0===t||null===(r=t.defaultAnswer)||void 0===r?void 0:r.value)||[],y=E.A.isOtherSelected(l,c),m=l["".concat(c.id,"_other")],v=null==c||null===(n=c.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm,h=(null==c||null===(a=c.section)||void 0===a||null===(s=a.properties)||void 0===s?void 0:s.isRequired)&&v,b=y&&(!m||""===m.trim());if((c.required||h)&&0===d.length||b)return I(I({},f),{},{errorCode:i.fp.MANDATORY_QUESTION});if(l[c.id]&&0!==l[c.id].length){var g=!!c.multipleAnswers&&E.A.validateChoices(d,c,p,!0);g&&(f=I(I({},f),{},{errorCode:g}))}return f}(e,t);break;case M.questionTypes.MultiChoicePicture.name:a=function(e,t){var r,n,o,a,s,u,c=t.question,l=t.workbench,p=t.label,f={},d=l[c.id]||(null==c||null===(r=c.properties)||void 0===r||null===(n=r.defaultAnswer)||void 0===n?void 0:n.value)||[],y=E.A.isOtherSelected(l,c),m=l["".concat(c.id,"_other")],v=(null==c||null===(o=c.section)||void 0===o||null===(a=o.properties)||void 0===a?void 0:a.isRequired)&&(null==c||null===(s=c.section)||void 0===s||null===(u=s.properties)||void 0===u?void 0:u.singlePageForm),h=y&&(!m||""===m.trim());if((c.required||v)&&0===d.length||h)return Me(Me({},f),{},{errorCode:i.fp.MANDATORY_QUESTION});if(l[c.id]&&0!==l[c.id].length){var b=!!c.multipleAnswers&&E.A.validateChoices(d,c,p,!0);b&&(f=Me(Me({},f),{},{errorCode:b}))}return f}(0,t);break;case M.questionTypes.HeatMap.name:a=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.question,u={},c=a.workbench[s.id]||[],l=null==s||null===(t=s.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.singlePageForm,p=(null==s||null===(n=s.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.isRequired)&&l,f=s.required||p,d=!!c.length;return f&&!d&&(u=be(be({},u),{},{errorCode:i.fp.MANDATORY_QUESTION})),u}(e,t);break;case M.questionTypes.CESFeedback.name:a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.workbench,n=t.question,o={},a=!(!r[n.id]||!r[n.id].trim());return n.required&&!a&&(o=le(le({},o),{},{erroCode:i.fp.MANDATORY_QUESTION})),o}(e,t);break;case M.questionTypes.CSATFeedback.name:a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.workbench,n=t.question,o={},a=!(!r[n.id]||!r[n.id].trim());return n.required&&!a&&(o=ye(ye({},o),{},{erroCode:i.fp.MANDATORY_QUESTION})),o}(e,t);break;case M.questionTypes.Matrix.name:a=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.question,u=a.workbench,c=a.details,l={},p=u[s.id]||{},f=s.properties.data.matrix,d=M.questionTypes.Matrix.answerTypes.TEXT_INPUT,y=function(e,t,r,n){var o,i=t.scalePoints,a=t.properties.data.matrix,s=r[t.id]||n||{},u=Object.keys(s),c=t.pipings?(0,X.bH)({question:t,workbench:r,list:e.question.list}).subQuestions.map((function(e){return e.id})):t.subQuestions.map((function(e){return e.id})),l=M.questionTypes.Matrix.answerTypes,p=l.TEXT_INPUT,f=l.DROP_DOWN,d=l.RATING;if(a.answerType===d.name||a.answerType===f.name)return c.length*i.length===Object.values(s).reduce((function(e,t){return e+Object.keys(t).length}),0);if(a.answerType===p.name){var y=c.length*i.length,m=[];for(var v in s){var h=s[v];for(var b in h){var g=h[b];m.push.apply(m,function(e){if(Array.isArray(e))return ne(e)}(o=g.filter((function(e){return!!e.text.trim()})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}return y===m.length}return u.length===c.length}(c,s,u,p),m=(null==s||null===(t=s.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==s||null===(n=s.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm);return!s.required&&!m||y?(f.answerType===d.name&&0!==Object.keys(p).length&&Object.values(p).some((function(e){return Object.values(e).some((function(e){return e.length>255}))}))&&(l=te(te({},l),{},{errorCode:i.fp.MATRIX_LENGTH_ERROR})),l):te(te({},l),{},{errorCode:i.fp.MATRIX_UNANSWERED_ERROR})}(e,t);break;case M.questionTypes.BipolarMatrix.name:a=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.question,u=a.workbench,c=a.workbenchData,l={},p=(void 0===c?null:c)||u[s.id]||{},f=s.properties.data.matrix,d=M.questionTypes.Matrix.answerTypes.TEXT_INPUT,y=function(e,t){var r=t.details,n=t.question,o=t.workbench,i=n.scalePoints,a=n.properties.data.matrix,s=e||o[n.id]||{},u=Object.keys(s),c=n.pipings?(0,X.bH)({question:n,workbench:o,list:r.question.list}).subQuestions.map((function(e){return e.id})):n.subQuestions.map((function(e){return e.id})),l=M.questionTypes.Matrix.answerTypes,p=l.TEXT_INPUT,f=l.DROP_DOWN,d=l.RATING;return a.answerType===p.name||a.answerType===d.name||a.answerType===f.name?c.length*i.length===Object.values(s).reduce((function(e,t){return e+Object.keys(t).length}),0):u.length===c.length}(p,a),m=(null==s||null===(t=s.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==s||null===(n=s.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm),v=!1;return!s.required&&!m||y||(l=ae(ae({},l),{},{errorCode:i.fp.MATRIX_UNANSWERED_ERROR})),f.answerType===d.name&&(v=!(0===Object.keys(p).length)&&Object.values(p).some((function(e){return Object.values(e).some((function(e){return e.length>255}))}))),v&&(l=ae(ae({},l),{},{errorCode:i.fp.MATRIX_LENGTH_ERROR})),l}(e,t);break;case M.questionTypes.MaxDiff.name:a=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).question,{}}(e,t);break;case M.questionTypes.DateTime.name:a=function(e){var t,r,n,o,a,s,u,c,l,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=p.workbench,d=p.question,y=p.dateNow,m=void 0===y?null:y,v=(null==d||null===(t=d.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==d||null===(n=d.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm),h={};return f[d.id]||(null===(a=d.properties)||void 0===a||null===(s=a.defaultAnswer)||void 0===s?void 0:s.value)?(d.properties.data.validation?(0,Fe.$E)({dateTime:null===(u=f[d.id])||void 0===u?void 0:u.datetime,validation:d.properties.data.validation,isDynamicValidation:null===(c=d.properties.data)||void 0===c?void 0:c.isDynamicValidation,dateFormat:null===(l=d.properties.data)||void 0===l?void 0:l.dateFormat,useDays:d.properties.data.type!==Ue.name,dateNow:m}):{isValid:!0}).isValid||(h.errorCode=i.fp.INVALID_DATE_ERROR):(d.required||v)&&(h.errorCode=i.fp.MANDATORY_QUESTION),h}(e,t);break;case M.questionTypes.ConstantSum.name:var s=M.questionTypes[r.type];a=r.properties.data.type===s.types.TEXT.name?function(e){var t,r,n,o,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.workbench,l=u.question,p=p||M.questionTypes[l.type];e=e||(0,X.ij)(l);var f,d={},y=(null==l||null===(t=l.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==l||null===(n=l.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm),m=null==l||null===(a=l.properties)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.sameValueNotAllowed;if(c[l.id]){if(f=c[l.id],Object.values(f).some((function(e){return""===e||isNaN(e)})))return Te(Te({},d),{},{errorCode:i.fp.CONSTANT_SUM_INVALID_INPUT});if(function(e){return Object.values(e).some((function(e){return e<0}))}(c[l.id]))return Te(Te({},d),{},{errorCode:i.fp.CONSTANT_SUM_NON_NEGATIVE});if(function(e,t,r){var n=r.data,o=n.minValue,i=n.maxValue;return!!Object.values(e).some((function(e){var r,n;return e>(null==t||null===(r=t.range)||void 0===r?void 0:r.max)||e<(null==t||null===(n=t.range)||void 0===n?void 0:n.min)}))||!(null===o||null===i||o<0||i<0||o>i)&&Object.values(e).some((function(e){return e>i||e<o}))}(c[l.id],p,l.properties))return Te(Te({},d),{},{errorCode:i.fp.CONSTANT_SUM_RANGE_ERROR});if(function(e,t,r){var n=function(e,t,r){return!(!e&&0!==e)&&!(t*r>e)&&e>=t}(t.data.totalSum,t.data.minValue,r.length)?t.data.totalSum:null;return!(null===n||n<0)&&Object.values(e).reduce((function(e,t){return r=e,n=Number((0,q.hU)(t)),_e.A.add(r,n).toNumber();var r,n}),0)!==n}(c[l.id],l.properties,e))return Te(Te({},d),{},{errorCode:i.fp.CONSTANT_SUM_TOTAL_ERROR});if(m&&Ee(c[l.id]).hasSameValue)return Te(Te({},d),{},{errorCode:i.fp.CONSTANT_SUM_SAME_VALUE_ERROR,extraPayload:{sameValueIds:Ee(c[l.id]).sameValueIds}})}else(l.required||y)&&(d=Te(Te({},d),{},{errorCode:i.fp.MANDATORY_QUESTION}));return d}(e,t):function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.question,u=a.workbench,c=s.properties,l={},p=(null==s||null===(t=s.section)||void 0===t||null===(r=t.properties)||void 0===r?void 0:r.isRequired)&&(null==s||null===(n=s.section)||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.singlePageForm);if(u[s.id]){var f,d;e=e||(0,X.ij)(s);var y=c.data,m=y.totalSum,v=y.minValue,h=y.maxValue,b=y.decimals,g=0===b?1:1/Math.pow(10,b),_=null!==v&&v>=0&&h>v,w=null!==h&&h>=0&&h>v,O=ke(v,h,g),j=Ne(m,_&&w&&O?v:0,e.length)?m:null;if((null==s||null===(f=s.properties)||void 0===f||null===(d=f.data)||void 0===d?void 0:d.sameValueNotAllowed)&&Ee(u[s.id]).hasSameValue)return Ie(Ie({},l),{},{errorCode:i.fp.CONSTANT_SUM_SAME_VALUE_ERROR,extraPayload:{sameValueIds:Ee(u[s.id]).sameValueIds}});if(null===j)return l;if(Object.values(u[s.id]).reduce((function(e,t){return r=e,n=t,_e.A.add(r,n).toNumber();var r,n}),0)!==j)return Ie(Ie({},l),{},{errorCode:i.fp.CONSTANT_SUM_TOTAL_ERROR})}else(s.required||p)&&(l=Ie(Ie({},l),{},{errorCode:i.fp.MANDATORY_QUESTION}));return l}(e,t);break;case M.questionTypes.Consent.name:a=function(e,t){var r=t.workbench,n=t.question,o={};return e||r[n.id]?o:o=We(We({},o),{},{errorCode:i.fp.MANDATORY_QUESTION})}(e,t);break;case M.questionTypes.PaymentQuestion.name:a=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.question,o=r.stripe,a={};if(null!=n&&null!==(t=n.answer)&&void 0!==t&&t.skipped)return a;var s=function(e,t){var r,n,o;if(n=e.properties.data.useExpression.value?Ye.A.getVariableMap().expressionValues[e.properties.data.expression.value]:null!==(r=e.properties.data.useVariable)&&void 0!==r&&r.value?Ye.A.getVariableMap().customProperties[e.properties.data.variable.label]:e.properties.data.amount.value,null!=t&&t.discountCouponAdded){var i=n;t.discountCoupon.discountType===Ve.oQ.percentage?(o=n.toString().includes(".")?t.discountCoupon.percentage*Math.round(parseFloat(n))/100:t.discountCoupon.percentage*n/100,n=i-o):t.discountCoupon.discountType===Ve.oQ.amount&&(o=t.discountCoupon.amount,n=i-t.discountCoupon.amount),n=n<0?0:n}return!n||isNaN(n)?n:parseFloat(n).toFixed(2)}(n,o);return(!n.required&&s>0&&!o.blockValidation||s>0&&!o.cardCompleted&&n.required)&&(a=ze(ze({},a),{},{errorCode:i.fp.INVALID_PAYMENT_ERROR})),a}(e,t);break;case M.questionTypes.Rating.name:case M.questionTypes.OpinionScale.name:case M.questionTypes.YesNo.name:case M.questionTypes.Slider.name:case M.questionTypes.NPSScore.name:case M.questionTypes.CESScore.name:case M.questionTypes.CSATScore.name:case M.questionTypes.FileInput.name:case M.questionTypes.CameraInput.name:case M.questionTypes.Signature.name:case M.questionTypes.RankOrder.name:case M.questionTypes.GroupRank.name:a=function(e){var t,r,o,a,s,u,c,l,p,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=d.question,m=d.workbench,v={},h=m.hasOwnProperty(y.id)||!(0,n.isEmpty)(null===(t=y.properties)||void 0===t?void 0:t.defaultAnswer),b=(null==y||null===(r=y.section)||void 0===r||null===(o=r.properties)||void 0===o?void 0:o.isRequired)&&(null==y||null===(a=y.section)||void 0===a||null===(s=a.properties)||void 0===s?void 0:s.singlePageForm);return y.type===M.questionTypes.OpinionScale.name&&(h||null!=y&&null!==(u=y.properties)&&void 0!==u&&null!==(c=u.data)&&void 0!==c&&c.notApplicable&&(h=null===(l=y.answer)||void 0===l?void 0:l.notApplicable)),y.type!==M.questionTypes.FileInput.name&&y.type!==M.questionTypes.CameraInput.name&&y.type!==M.questionTypes.Signature.name||(0,n.isEmpty)(m)||0!==(null===(p=m[y.id])||void 0===p||null===(f=p.files)||void 0===f?void 0:f.length)||(h=!1),y.type===M.questionTypes.Slider.name?{}:(!y.required&&!b||h||(v={id:y.id,errorCode:i.fp.MANDATORY_QUESTION}),v)}(e,t);break;case tt._.name:a=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).question.required&&(e=Ze(Ze({},e),{},{errorCode:i.fp.AUTHENTICATOR_ERROR})),e}(t);break;default:console.log("Unknown Question Type",r)}if(!(0,n.isEmpty)(a)){var c,p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a);a=(null==r?void 0:r.type)===M.questionTypes.ContactForm.name?ot({},null==r?void 0:r.id,at(a)):(null==r?void 0:r.type)===tt._.name?ot({},r.questions[0].id,a.errorCode):ot({},null==r?void 0:r.id,a.errorCode),(null==r?void 0:r.type)===M.questionTypes.ConstantSum.name&&(a.extraPayload={sameValueIds:(null===(c=p.extraPayload)||void 0===c?void 0:c.sameValueIds)||[]})}return a},at=function(e){return Object.values(e).find((function(e){return!(0,n.isEmpty)(e)}))||{}}},"./src/helpers/eui/captcha.js":(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:P(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,u,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&i.call(E,u)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,l,"Generator"),p(S,u,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var c=r("./src/reducers/eui/action_names.js").SET_CAPTCHA,l=function(){var e,t=(e=o().mark((function e(t,r,n){var i,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!0,!r){e.next=14;break}return e.prev=2,e.next=5,window.executeCaptcha(t);case 5:u=e.sent,i=u.captchaVerified,s=u.value,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=!0,console.log(e.t0);case 14:return n({type:c,payload:a({verified:i,tosText:t.tosText},s||0===s?{value:s}:{})}),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,s,"next",e)}function s(e){u(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}();e.exports={handleCaptcha:l}},"./src/helpers/eui/dropoff.js":(e,t,r)=>{"use strict";r.d(t,{AI:()=>b,fq:()=>h,nf:()=>v});var n=r("./src/apis/index.js"),o=r("./src/constants/dropoff.js"),i=r("./src/helpers/eui/logger.js"),a=r("./surveysparrow-analyze/server/commonConstants/dropoff.js"),s=r("./src/utils/uuid.js"),u=r("./src/reducers/eui/action_names.js"),c=r("./src/reduxStores/eui.js");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};c(O,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,a)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var u=d(e[o],e,i);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==l(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(l(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function f(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,s,"next",e)}function s(e){f(i,n,o,a,s,"throw",e)}a(void 0)}))}}var y=function(){var e,t=window&&window.location&&window.location.href.split("/"),r=t[t.length-1].split("?")[0];return c.A.getState().dropoffSessionId||(e=r.startsWith(a.token.emailShare)?r:(0,s.A)(),c.A.dispatch({type:u.SET_DROP_OFF_SESSION_ID,sessionId:e}),e)},m=function(){var e=d(p().mark((function e(t,r,a,s){var u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=y(),e.next=4,n.A.overview.sendEuiLogs({data:{sessionId:u,surveyId:r,accountId:a,timeStamp:(new Date).toISOString(),value:o.eventTypes.SURVEY_STARTED,logType:o.eventTypes.SURVEY_STARTED,questionId:t}},s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,i.v)("Error while sending survey start message to aws ",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,o){return e.apply(this,arguments)}}(),v=function(){var e=d(p().mark((function e(t,r,a,s){var u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=y(),e.next=4,n.A.overview.sendEuiLogs({data:{sessionId:u,questionId:t,surveyId:r,accountId:a,timeStamp:(new Date).toISOString(),value:"".concat(o.eventTypes.QUESTION_VISITED,"_").concat(t),logType:o.eventTypes.QUESTION_VISITED,prevQuestion:localStorage.getItem("currentQuestion")}},s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,i.v)("Error while sending updated question message to aws for drop off",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,o){return e.apply(this,arguments)}}(),h=function(){var e=d(p().mark((function e(t,r,a){var s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=y(),e.next=4,n.A.overview.sendEuiLogs({data:{sessionId:s,surveyId:r,timeStamp:(new Date).toISOString(),value:o.eventTypes.SURVEY_SUBMITTED,logType:o.eventTypes.SURVEY_SUBMITTED,questionId:t}},a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,i.v)("Error while sending survey completed message to aws ",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=d(p().mark((function e(t){var r,n,o,a,s,u,c,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.channelType,n=t.config,o=t.searchParamUrl,a=t.surveyId,s=t.accountId,e.prev=1,u=null,r!==n.channels.types.EMAIL_EMBED.name&&r!==n.channels.types.EMAIL.name||(c=new URLSearchParams(o),(l=c.has("q")?parseInt(c.get("q")):null)&&(u=l)),localStorage.setItem("currentQuestion",0),e.next=7,m(-1,a,s,n.dropOffEndPoint);case 7:if(null===u){e.next=10;break}return e.next=10,v(u,a,s,n.dropOffEndPoint);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),(0,i.v)("Error while sending survey init start",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},"./src/helpers/eui/font.js":(e,t,r)=>{"use strict";r.d(t,{z:()=>u});var n=r("./server/commonConstants/signatureFonts.js"),o=r.n(n),i=r("./server/commonConstants/themes.js"),a=r("./node_modules/webfontloader/webfontloader.js"),s=r.n(a),u=function(){var e=o().map((function(e){return e.fontFamily})),t=o().map((function(e){return(0,i.getFontUrl)(e.fontFamily)}));s().load({custom:{families:e,urls:t}})}},"./src/helpers/eui/logger.js":(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r("./src/utils/sentry.js"),o=r("./server/commonConstants/sentry/index.js"),i=function(e,t){var r=t.error,i=void 0===r?{}:r,a=t.info,s=void 0===a?{}:a,u=t.moduleType,c=void 0===u?"":u,l=t.isRetrySuccess,p=void 0!==l&&l;try{if(window.Raven){i.name=(i.name||"")+e;var f={extra:s};if(c!==o.errorTypes.DROPOFF&&(f.tags={errorType:c+o.errorTypes.EUI_SOC_ERROR}),(0,n.k)(i,f),window.console&&"function"==typeof console.error&&console.error(i),p)return console.log("Logger - Log sent to sentry successfully for retry case"),!0;console.log("Logger - Log sent to sentry successfully for non-retry case")}else console.log("Raven is not defined, error:",i),console.log("Raven is not defined, info:",s)}catch(i){console.log("Error while logging error to sentry",i),console.log("Error while logging info to sentry",s)}}},"./src/helpers/eui/marketResearch.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{K:()=>f});var s=r("./server/commonConstants/marketResearch.js").MARKET_RESEARCH_TYPES,u=function(e){var t=e.answer,r=t.answerMultiples,n=t.answerChoices.reduce((function(e,t){var r=t.answer_multiple_id,n=t.preferenceValue,o=t.choice_id;return e[r]||(e[r]={}),e[r]=i(i({},e[r]),{},a({},n,o)),e}),{});return r.reduce((function(e,t){var r=t.id,o=t.collection_id;return e[t.step]={collection_id:o,answer_multiple_id:r,selected:n[r]},e}),{})},c=function(e){var t=e.answer,r=t.answerMultiples,n=t.answerChoices.reduce((function(e,t){var r=t.answer_multiple_id,n=t.preferenceValue,o=t.choice_id;return e[r]={preferenceValue:n,choice_id:o},e}),{});return r.reduce((function(e,t){var r=t.id,o=t.collection_id;return e[t.step]=i({collection_id:o,answer_multiple_id:r},n[r]||{}),e}),{})},l=function(e){return e.answer.answerMultiples.reduce((function(e,t){var r=t.id,n=t.collection_id,o=t.step,i=t.answer_txt;return e[o]={collection_id:n,answer_multiple_id:r,value:i},e}),{})},p=function(e){return e.answer.answerMultiples.reduce((function(e,t){var r=t.id,n=t.collection_id,o=t.step,i=t.answer_txt;return e[o]={collection_id:n,answer_multiple_id:r,value:i},e}),{})};function f(e){switch(e.question.type){case s.MaxDiff.name:return u(e);case s.GaborGranger.name:return c(e);case s.VanWestendorp.name:return l(e);case s.ConjointAnalysis.name:return p(e);default:return{}}}},"./src/helpers/eui/redirect.js":(e,t,r)=>{"use strict";r.d(t,{E:()=>T,L:()=>P});var n=r("./node_modules/template-format/build/index.js"),o=r.n(n),i=r("./src/reduxStores/eui.js"),a=r("./src/reduxStores/nps.js"),s=r("./src/utils/widget/Constants.js"),u=r("./server/commonUtils/expression.js"),c=r("./src/helpers/expression.js"),l=(r("./src/utils/draftUtils.js"),r("./src/helpers/datetime.js")),p=r("./node_modules/moment/moment.js"),f=r.n(p),d=r("./server/commonConstants/questionTypes.js");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const h=function(e,t,r,n){var o={};if(e.length){var i=[];t.forEach((function(e){var t,r;i.push(e),null!=e&&null!==(t=e.subQuestions)&&void 0!==t&&t.length&&i.push.apply(i,function(e){if(Array.isArray(e))return v(e)}(r=e.subQuestions)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||m(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}));var a,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{var u=function(){var e,r,s,u,c=a.value,p=i.find((function(e){return e.id==c})),v=(null==p||null===(e=p.answer)||void 0===e?void 0:e.data)||(null==p?void 0:p.parent_question_id)&&(null===(r=t.find((function(e){return e.id===p.parent_question_id})))||void 0===r?void 0:r.answer.data)||null;if(p&&v)if(p.type==="".concat(d.questionTypes.Matrix.name,"_Statement")){var h=v[p.id],b=i.find((function(e){return e.id===p.parent_question_id}));if(b.properties.data.matrix.answerType===d.questionTypes.Matrix.answerTypes.SINGLE_ANSWER.name){var g,_=Object.keys(h)[0],w=b.scalePoints.find((function(e){return e.id===parseInt(_)}));w.choices[0].id===h[_][0].choiceId&&(g=w.name),g&&(o[c]=g)}else if(b.properties.data.matrix.answerType===d.questionTypes.Matrix.answerTypes.MULTIPLE_ANSWER.name){var O=[];Object.keys(h).forEach((function(e){var t,r=b.scalePoints.find((function(t){return t.id===parseInt(e)}));r.choices[0].id===h[e][0].choiceId&&(t=r.name),t&&O.push(t)})),o[c]=O}else if(b.properties.data.matrix.answerType===d.questionTypes.Matrix.answerTypes.TEXT_INPUT.name){var j=[];Object.keys(h).forEach((function(e){j.push(h[e][0].text)})),o[c]=j}else if(b.properties.data.matrix.answerType===d.questionTypes.Matrix.answerTypes.DROP_DOWN.name){var E=[];Object.keys(h).forEach((function(e){b.scalePoints.find((function(t){return t.id===parseInt(e)})).choices.forEach((function(t){var r;t.id===h[e][0].choiceId&&(r=t.txt),r&&E.push(r)}))})),o[c]=E}else if(b.properties.data.matrix.answerType===d.questionTypes.Matrix.answerTypes.RATING.name){var S=[];Object.keys(h).forEach((function(e){S.push(h[e][0].rating)})),o[c]=S}}else if(p.type===d.questionTypes.TextInput.name){var A;o[c]=(null===(A=v[0])||void 0===A?void 0:A.value)||v}else if(p.type==="".concat(d.questionTypes.BipolarMatrix.name,"_Statement")){var T=v[p.id],P=i.find((function(e){return e.id===p.parent_question_id}));if(P.properties.data.matrix.answerType===d.questionTypes.BipolarMatrix.answerTypes.SINGLE_ANSWER.name){var C=Math.ceil(p.choices.find((function(e){return T.includes(e.id)})).position);o[c]=P.properties.data.matrix.scalePoints[C]}}else if(p.type.includes(d.questionTypes.ContactForm.name)){var x,I=v[c];"dropdown"===p.properties.data.type?o[c]=null===(x=p.choices.find((function(e){return I.includes(e.id)})))||void 0===x?void 0:x.txt:"date"===p.properties.data.type?o[c]=f()(I).format("MM/DD/YYYY"):o[c]=v[c]}else if(p.type==="".concat(d.questionTypes.ConstantSum.name,"_Statement"))o[c]=v[c];else if(Array.isArray(v)){var L;L=p.type===d.questionTypes.RankOrder.name?v.map((function(e){return p.choices.find((function(t){return t.id===e})).txt})):p.choices.filter((function(e){return v.includes(e.id)})).map((function(e){return p.type===d.questionTypes.MultiChoicePicture.name&&e.img||e.txt})),o[c]=L}else if("object"===y(v))if(p.type===d.questionTypes.DateTime.name){var k=p.properties.data,N=k.type,D=k.dateFormat,R=k.timeFormat,M=N===d.questionTypes.DateTime.types.DATE_ONLY.name;o[c]=(0,l.LW)(v.datetime,M,D,R,v.timezone,n)}else if(p.type===d.questionTypes.FileInput.name){var q=(s=v.files,u=1,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(s,u)||m(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];o[c]=q.url}else if(p.type===d.questionTypes.Signature.name)o[c]=v.url;else if(p.type===d.questionTypes.CameraInput.name){var F;o[c]=null===(F=v.files[0])||void 0===F?void 0:F.url}else{var U=Object.values(v);o[c]=U}else o[c]=v};for(s.s();!(a=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}}return o};var b=r("./src/selectors/eui/states.js");function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e,t){var r=e.split("."),n={},o=n;return r.forEach((function(e,n){n===r.length-1?o[e]=t:(o[e]={},o=o[e])})),n},T=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?a.A.getState():i.A.getState(),o=n.details,s=n.config,l=n.account,p=o.survey,f=o.question,y=o.contact,m=o.submission,v=s.features.features,b=f.answered,g={contact:{}},O=[],j=b.reduce((function(e,t){var r,n,o,i,a,s,u=null===(r=t.answer)||void 0===r?void 0:r.skipped,c=t.type===d.questionTypes.CameraInput.name?null===(n=t.answer)||void 0===n||null===(o=n.data)||void 0===o||null===(i=o.files[0])||void 0===i?void 0:i.url:null===(a=t.answer)||void 0===a?void 0:a.data;return u||(null!==(s=t.subQuestions)&&void 0!==s&&s.length?e=E(E({},e),c):e[t.id]=c),e}),{});if(null===(t=e.match(/[^{\}]+(?=})/g))||void 0===t||t.forEach((function(e){if(e.startsWith("question_")){var t=e.split("_")[1];if(!t)return;var r=O.find((function(e){return Number(e)===Number(t)})),n=j[t];!r&&n&&(g[e]=null,O.push(Number(t)))}else if(e.startsWith("contact.")){var o=e.split(".")[1];if(!o)return;g.contact[o]=null}else g[e]=null})),p&&p.customProperties){var S,T=p.passedParams||{},P=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=w(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(p.customProperties);try{for(P.s();!(S=P.n()).done;){var C=S.value,x="variable_".concat(C.name);if(g[x]=T[C.name],x.includes(".")){var I=A(x,T[C.name]);Object.entries(I).forEach((function(e){var t=_(e,2),r=t[0],n=t[1];g[r]=n}))}}}catch(e){P.e(e)}finally{P.f()}}if(m&&(g.submission_id=m.id),o.survey.expressions&&b&&l.features.includes(v.EXPRESSIONS.name)){var L=o.survey.expressions,k={passedParams:p.passedParams,customProperties:p.customProperties},N=(0,c.jN)(b,y,k),D=(0,u.evaluateExpressions)(L,N);Object.entries(D).forEach((function(e){var t=_(e,2),r=t[0],n=t[1],o=L.find((function(e){return e.id===Number(r)}));g["expression_".concat(o.name)]="".concat(n)}))}var R=h(O,b,0,l.timeZone);return Object.keys(R).length>0&&Object.keys(R).forEach((function(e){var t,r;if(null===(t=b.find((function(t){return t.id===e})))||void 0===t||null===(r=t.answer)||void 0===r||!r.skipped){var n=void 0===R[e]?null:R[e];g["question_".concat(e)]="".concat(n)}})),g.contact=E(E(E({},g.contact),null==y?void 0:y.attrs),{},{email:null!=y&&y.email&&null!==(r=g.contact)&&void 0!==r&&r.email?y.email:"null"}),g},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;if(r&&r.trim()){r.startsWith("http")||(r="http://"+r),r=o()(r,T(e,t));var n=(t?a.A.getState():i.A.getState()).isWidget,u=i.A.getState().details.spotcheck,c=(0,b.LC)(i.A.getState()),l=null==u?void 0:u.isSpotcheck;l&&c&&window.top.postMessage({type:s.messageTypes.removeWindow},"*"),n||l?window.top.postMessage({type:s.messageTypes.redirectPage,url:r},"*"):window.location.href=r}}},"./src/helpers/eui/sectionNavigationHelpers.js":(e,t,r)=>{"use strict";r.d(t,{h:()=>u});var n=r("./server/commonConstants/questionTypes.js"),o=r("./src/constants/sectionNavigationConstants.js"),i=r("./src/helpers/i18n/index.js"),a=r("./node_modules/template-format/build/index.js"),s=r.n(a),u=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u="";switch(t.type){case n.questionTypes.NumberInput.name:case n.questionTypes.EmailInput.name:case n.questionTypes.TextInput.name:u=c(e,t,r);break;case n.questionTypes.PhoneNumber.name:case n.questionTypes.GroupRating.name:case n.questionTypes.ContactForm.name:case n.questionTypes.NPSFeedback.name:case n.questionTypes.URLInput.name:case n.questionTypes.HeatMap.name:case n.questionTypes.YesNo.name:case n.questionTypes.CESFeedback.name:case n.questionTypes.CSATFeedback.name:case n.questionTypes.Rating.name:case n.questionTypes.OpinionScale.name:case n.questionTypes.Slider.name:case n.questionTypes.Consent.name:case n.questionTypes.NPSScore.name:case n.questionTypes.CESScore.name:case n.questionTypes.CSATScore.name:case n.questionTypes.FileInput.name:case n.questionTypes.CameraInput.name:case n.questionTypes.Signature.name:case n.questionTypes.PaymentQuestion.name:case n.questionTypes.RankOrder.name:u=l(e,t,r);break;case n.questionTypes.DateTime.name:if(e===o.fp.MANDATORY_QUESTION)u=i.F2.t(r[e]);else if(e===o.fp.INVALID_DATE_ERROR||e===o.fp.INVALID_DATETIME_ERROR)if(null!=a&&a.validationMessage){var d="dateTime".concat(a.validationMessage.charAt(0)+a.validationMessage.slice(1).toLowerCase(),"ValidationMessage");u=s()(i.F2.t(r[d]),a.checkDate)}else{var y=e===o.fp.INVALID_DATETIME_ERROR?"dateTimeError":"dateError";u=i.F2.t(r[y])}break;case n.questionTypes.Matrix.name:case n.questionTypes.BipolarMatrix.name:u=f(e,t,r);break;case n.questionTypes.MultiChoice.name:case n.questionTypes.MultiChoicePicture.name:case n.questionTypes.Dropdown.name:u=p(e,t,r);break;case n.questionTypes.GroupRank.name:e===o.fp.MANDATORY_QUESTION&&(u=i.F2.t(r[e])),e===o.fp.GROUP_RANK_MAX_RANGE_ERROR?u=s()(i.F2.t(r.groupRankMaxRange),{maxRange:t.properties.data.maxRange}):e===o.fp.GROUP_RANK_MIN_MAX_RANGE_ERROR&&(u=s()(i.F2.t(r.groupRankMinMaxRange),{minRange:t.properties.data.minRange,maxRange:t.properties.data.maxRange}));break;case n.questionTypes.ConstantSum.name:var m=n.questionTypes[t.type];u=t.properties.data.type===m.types.TEXT.name&&e===o.fp.CONSTANT_SUM_RANGE_ERROR?s()(i.F2.t(r.constantSumRangeError),{minValue:t.properties.data.minValue||m.range.min,maxValue:t.properties.data.maxValue||m.range.max}):e===o.fp.CONSTANT_SUM_TOTAL_ERROR?s()(i.F2.t(r.constantSumTotalError),{total:t.properties.data.totalSum}):i.F2.t(r[e]);break;default:console.log("Unknown Question Type")}return u},c=function(e,t,r){var a,u,c,l,p,f=!1;return t.type===n.questionTypes.NumberInput.name&&(null!=t&&null!==(c=t.properties)&&void 0!==c&&c.data&&(a=t.properties.data.minValue,u=t.properties.data.maxValue),f=!0),e===o.fp.REGEX_ERROR?null===(l=t.properties)||void 0===l||null===(p=l.data)||void 0===p?void 0:p.validation.message:e===o.fp.MANDATORY_QUESTION?i.F2.t(r[e]):f&&e===o.fp.NUMBER_LESS_THAN?s()(i.F2.t(r[e]),{number:a}):f&&e===o.fp.NUMBER_GREATER_THAN?s()(i.F2.t(r[e]),{number:u}):i.F2.t(r[e])},l=function(e,t,r){return i.F2.t(r[e])},p=function(e,t,r){if(e===o.fp.MANDATORY_QUESTION)return i.F2.t(r[e]);var n=t.properties.data,a=n.minLimit,u=n.maxLimit,c=n.exactChoices;return e===o.fp.MULTI_CHOICE_MIN_LIMIT_ERROR?s()(i.F2.t(r[e]),{minLimit:a}):e===o.fp.MULTI_CHOICE_MAX_LIMIT_ERROR?s()(i.F2.t(r[e]),{maxLimit:u}):e===o.fp.MULTI_CHOICE_EXACT_LIMIT_ERROR?s()(i.F2.t(r[e]),{count:c}):void 0},f=function(e,t,r){return e===o.fp.MANDATORY_QUESTION?i.F2.t(r[e]):e===o.fp.MATRIX_LENGTH_ERROR?i.F2.t(r.matrixLengthError):(o.fp.MATRIX_UNANSWERED_ERROR,i.F2.t(r[e]))}},"./src/helpers/expression.js":(e,t,r)=>{"use strict";r.d(t,{PF:()=>h,Te:()=>b,jN:()=>g,m:()=>v});var n=r("./src/helpers/datetime.js"),o=r("./src/helpers/i18n/index.js"),i=r("./server/commonConstants/questionTypes.js"),a=r("./server/commonConstants/expression.js"),s=r("./server/commonUtils/expressionParser/index.js"),u=(r("./node_modules/@internationalized/date/dist/import.mjs"),r("./node_modules/moment/moment.js"),r("./server/commonConstants/customProperties.js")),c=r.n(u);function l(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function d(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var v=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=n&&null!==(e=n.properties)&&void 0!==e&&null!==(t=e.dynamicChoice)&&void 0!==t&&t.isDynamic)return r;var i=n.id,a=n.choices;return r.map((function(e){return a.filter((function(t){return isNaN(e)?t.id===e.id:t.id===e}))[0]})).map((function(e){return e.other?(e.piped_source_id?e.txt:o["".concat(i,"_other")])||"":e.txt}))},h=function(e,t){var r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=e.answer,c="";try{var l;if(u&&!u.skipped&&(null==u||null===(l=u.data)||void 0===l||!l.notApplicable)&&null!=u.data){var p=e.type;switch(p===i.questionTypes.TextInput.name&&"object"===m(u.data)&&(p="TextInput_multiple"),p){case i.questionTypes.OpinionScale.name:case i.questionTypes.Rating.name:case i.questionTypes.TextInput.name:case i.questionTypes.NPSFeedback.name:case i.questionTypes.CESFeedback.name:case i.questionTypes.CSATFeedback.name:case i.questionTypes.NumberInput.name:case i.questionTypes.PaymentQuestion.name:case i.questionTypes.PhoneNumber.name:case i.questionTypes.URLInput.name:case i.questionTypes.EmailInput.name:case i.questionTypes.CESScore.name:case i.questionTypes.CSATScore.name:case i.questionTypes.Slider.name:case i.questionTypes.NPSScore.name:c=u.data;break;case i.questionTypes.YesNo.name:c=u.data?e.properties.data.yes?o.F2.t(e.properties.data.yes):o.F2.t("builder.yes_no.yes"):e.properties.data.no?o.F2.t(e.properties.data.no):o.F2.t("builder.yes_no.no");break;case i.questionTypes.Consent.name:c=u.data?o.F2.t("builder.consent.agree"):o.F2.t("builder.consent.disagree");break;case i.questionTypes.MultiChoice.name:case i.questionTypes.MultiChoicePicture.name:case i.questionTypes.RankOrder.name:case i.questionTypes.Dropdown.name:c=v(u.data,e,s).join(", ");break;case i.questionTypes.HeatMap.name:if(null!==(r=u.data)&&void 0!==r&&r.length){var f=[];u.data.map((function(e){var t=e.x,r=e.y;f.push("(".concat(parseFloat(t).toFixed(2),", ").concat(parseFloat(r).toFixed(2),")"))})),c=f}break;case i.questionTypes.DateTime.name:var d=e.properties.data,y=d.type,h=d.dateFormat,b=d.timeFormat,g=y===i.questionTypes.DateTime.types.DATE_ONLY.name;c=(0,n.Ib)(u.data.datetime,g,h,b);break;case i.questionTypes.Signature.name:case i.questionTypes.FileInput.name:case i.questionTypes.MaxDiff.name:case i.questionTypes.GaborGranger.name:case i.questionTypes.VanWestendorp.name:case i.questionTypes.AudioInput.name:case i.questionTypes.CameraInput.name:case i.questionTypes.Message.name:break;case i.questionTypes.Consent.name:c=!0;break;case"TextInput_multiple":c=(null===(a=u.data[0])||void 0===a?void 0:a.value)||"";break;default:console.log("Invalid type!",e.type)}}}catch(e){console.log("Error in euiUtils",e)}finally{return c}},b=function(e){var t=0;try{if(!e.answer||!e.answer.data)return 0;if(e.type===i.questionTypes.Matrix.name){var r,n,o,a={},s=f(e.scalePoints||[]);try{for(s.s();!(o=s.n()).done;){var u,c=f(o.value.choices||[]);try{for(c.s();!(u=c.n()).done;){var l,d=f(u.value.scores||[]);try{for(d.s();!(l=d.n()).done;){var y=l.value,m=y.question_id,v=y.scale_point_id,h=y.value;if(m&&v&&null!==h){var b="".concat(m,"_").concat(v);a[b]=h}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){s.e(e)}finally{s.f()}return Object.entries(null!==(r=null==e||null===(n=e.answer)||void 0===n?void 0:n.data)&&void 0!==r?r:{}).forEach((function(e){var r=p(e,2),n=r[0],o=r[1];Object.keys(o).forEach((function(e){var r="".concat(n,"_").concat(e);a[r]&&(t+=Number(a[r]))}))})),t}var g=e.answer.data;e.choices.filter((function(e){return-1!==g.indexOf(e.id)})).map((function(e){t+=parseFloat(e.score)||0}))}catch(e){console.log(e)}finally{return t}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=function(e){var t;if(e.answer&&!e.answer.skipped){var r=e.answer,n=(void 0===r?{}:r).data,o=(void 0===n?{}:n).datetime,i=e.properties,a=(void 0===i?{}:i).data,u=void 0===a?{}:a,c=u.type,l=void 0===c?"DATETIME":c,p=u.dateFormat,f=void 0===p?"MMDDYYYY":p,d=u.timeFormat,y=void 0===d?"TWELVE_HOUR":d;t=new s.DateValue(o,{type:l,dateFormat:f,timeFormat:y})}return t};return[].concat(l(e.reduce((function(e,t){var r,n;if(null!=t&&null!==(r=t.subQuestions)&&void 0!==r&&r.length&&null!=t&&t.hasScore&&null!==i.questionTypes&&void 0!==i.questionTypes&&null!==(n=i.questionTypes[t.type])&&void 0!==n&&n.scoring){var o,a,s,u={},c=f(t.scalePoints||[]);try{for(c.s();!(s=c.n()).done;){var l,d=f(s.value.choices||[]);try{for(d.s();!(l=d.n()).done;){var y,m=f(l.value.scores||[]);try{for(m.s();!(y=m.n()).done;){var v=y.value,h=v.question_id,b=v.scale_point_id,g=v.value;if(h&&b&&null!==g){var _="".concat(h,"_").concat(b);u[_]=g}}}catch(e){m.e(e)}finally{m.f()}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){c.e(e)}finally{c.f()}Object.entries(null!==(o=null==t||null===(a=t.answer)||void 0===a?void 0:a.data)&&void 0!==o?o:{}).forEach((function(t){var r=p(t,2),n=r[0],o=r[1];Object.keys(o).forEach((function(t){var r="".concat(n,"_").concat(t),o=Number(u[r]);o&&e.push({id:n,type:"score",value:o})}))}))}return e}),[])),l(e.reduce((function(e,t){var r,o;return a.validQuestionTypes.includes(t.type)?e.push({id:t.id,type:"answer",value:t.type===i.questionTypes.YesNo.name?null==t||null===(o=t.answer)||void 0===o?void 0:o.data:t.type===i.questionTypes.DateTime.name?n(t):h(t)}):t.hasScore&&null!==(r=i.questionTypes[t.type])&&void 0!==r&&r.scoring&&e.push({id:t.id,type:"score",value:b(t)}),e}),[])),l(Object.entries(t.attrs||{}).map((function(e){var t=p(e,2);return{id:t[0],type:"contact",value:t[1]}}))),l(Object.entries(r.passedParams||{}).map((function(e){var t,n=p(e,2),o=n[0],i=n[1];if(o===c().sparrowLang)return{id:c().sparrowLang,type:"custom",value:i};var a=null===(t=r.customProperties)||void 0===t?void 0:t.find((function(e){return e.name===o}));return a?{id:a.id,type:"custom",value:i}:null})).filter(Boolean)))}},"./src/helpers/i18n/index.js":(e,t,r)=>{"use strict";r.d(t,{F2:()=>n.uH,HT:()=>s,Fx:()=>n.Fx,xS:()=>n.xS,sK:()=>n.sK});var n=r("./src/helpers/i18n/setup.js"),o=r("react"),i=r.n(o),a=r("./node_modules/react-i18next/dist/es/index.js");const s=function(e){var t=e.value,r=e.i18nKey,n=e.interpolationValues;return i().createElement(a.x6,{i18nKey:r,values:n,tOptions:{interpolation:{prefix:"%{",suffix:"}"}},defaults:t,components:{b:i().createElement("b",null),strong:i().createElement("strong",null),a:i().createElement("a",null),small:i().createElement("small",null)}})}},"./src/helpers/i18n/setup.js":(e,t,r)=>{"use strict";r.d(t,{$t:()=>O,Fx:()=>j,jy:()=>w,sK:()=>b,uH:()=>h,xS:()=>_});var n=r("./node_modules/i18next/dist/esm/i18next.js"),o=r("./node_modules/i18next-http-backend/esm/index.js"),i=r("./node_modules/react-i18next/dist/es/index.js"),a=r("./node_modules/lodash/merge.js"),s=r.n(a);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(){f=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new L(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};l(O,a,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&n.call(E,a)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==u(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(u(t)+" is not iterable")}return _.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(p(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function d(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,s,"next",e)}function s(e){d(i,n,o,a,s,"throw",e)}a(void 0)}))}}var m=r("./server/commonConstants/contact/translation.js").contactAvailableLanguageCodes,v={fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1,prefix:"%{",suffix:"}"},react:{useSuspense:!0},saveMissing:!1,backend:{loadPath:"/locale/%{lng}"},supportedLngs:m,nsSeparator:!1},h=n.Ay.createInstance(),b=function(){var e=y(f().mark((function e(t){var r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="https://asset.surveysparrow.com/production/20a85c45d1810e9df193c2e9fddeee0d/locale/%{lng}.json",n=s()(v,t),r&&(n.backend.loadPath=r),e.next=6,h.use(o.A).use(i.r9).init(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error in setting up i18n.",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g="@@i18n/SET_LOCALE",_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){try{var n=h.language;if(m.includes(e)&&(t&&!n||!t&&n!==e))return h.changeLanguage(e,(function(){r({type:g,locale:e})}))}catch(e){console.error("Error in setLocale of i18n.")}}},w=function(){var e=y(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",h.changeLanguage(t));case 4:e.prev=4,e.t0=e.catch(0),console.error("Error in changeLanguageByCode.");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){e({type:g,locale:t})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===g?l(l({},e),{},{locale:t.locale}):e}},"./src/helpers/integration/GoogleAnalytics.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:P(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,u,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&i.call(E,u)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,l,"Generator"),p(S,u,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}r.d(t,{c:()=>a});var a=function(){var e,t=(e=o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{gtag("event",r,{event_label:"".concat(null===(n=t.details)||void 0===n||null===(i=n.survey)||void 0===i?void 0:i.name,"-").concat(null===(a=t.details)||void 0===a||null===(s=a.survey)||void 0===s?void 0:s.id),send_to:t.config.analytics.GoogleAnalytics})}catch(e){console.log("Error when sending event ".concat(r," to google analytics"),e)}case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()},"./src/helpers/integration/GoogleTagManager.js":(e,t,r)=>{"use strict";r.d(t,{t:()=>u}),r("./surveysparrow-integrations/server/commonConstants/integration.js");var n=r("./src/utils/draftUtils.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e,t,r){try{var o=e.preview,i=e.analytics,s={event:t};!o&&i&&i.GoogleTagManager&&(r&&(s=a(a({},s),{},{questionId:r.id,questionText:n.A.getTextFromRawJSON(r.rtxt).trim()})),dataLayer&&dataLayer.push(a({},s)))}catch(e){console.log("Error while firing GTM event",e)}}},"./src/helpers/jsxHelpers.js":(e,t,r)=>{"use strict";r.d(t,{t:()=>n}),r("./node_modules/prop-types/index.js");var n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join(" ").trim()}},"./src/helpers/queryString.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{J:()=>o});var o=function(e){return((null==e?void 0:e.match(/([^?=&]+)(=([^&]*))?/g))||[]).reduce((function(e,t){var r,o,i=(r=t.split("="),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];switch(s){case"false":e[a]=!1;break;case"true":e[a]=!0;break;default:e[a]=decodeURIComponent(s)}return e}),{})}},"./src/helpers/questionTypeValidation.js":(e,t,r)=>{"use strict";r.d(t,{$3:()=>p,B9:()=>m,CX:()=>d,Gw:()=>_,Gz:()=>v,_B:()=>f,g0:()=>y,gf:()=>b,gz:()=>l,vd:()=>w});var n=r("./src/helpers/Phone.js"),o=(r("./node_modules/string-template/index.js"),r("./node_modules/validator/lib/isEmail.js")),i=r.n(o),a=r("./node_modules/validator/lib/isURL.js"),s=r.n(a),u=r("./server/commonConstants/contact/index.js"),c=(r("./src/helpers/defaultAnswers/model/defaultAnswer.model.js"),r("./src/constants/survey.js")),l=function(e,t){if(Number.isInteger(e))return e&&e<=t;var r=Number(e);return r&&r<=t},p=function(e,t,r){var n=Number.isInteger(e);if(e===c.hH.name)return!0;if(n)return e>=t&&e<=r;var o=Number(e);return o&&o>=t&&o<=r},f=function(e){return Boolean(e)},d=function(e){return Boolean(null==e?void 0:e.reduce((function(e,t){return e+t.value}),""))},y=function(e){return"string"==typeof e&&(0,n.g0)(e)},m=function(e){return"string"==typeof e&&i()(e)},v=function(e){return"string"==typeof e&&s()(e)},h="(\\{((expression)|(question)|(param)|(contact))\\_\\d+\\})|(\\{(contact)\\_(".concat(u.defaultPropertyNames.join("|"),")+\\})"),b=(new RegExp(h,"gm"),function(e){return"string"==typeof e&&(e=+e),"number"==typeof e&&!isNaN(e)}),g=function(e){return/^\d+$/.test(e)},_=function(e){return e.every(g)},w=function(e){return"Invalid Date"!==new Date(e).toString()}},"./src/helpers/sendEmailToThemselves.js":(e,t,r)=>{var n=r("./src/utils/submissionRetryUtils.js"),o=n.handleError,i=n.isSubmissionRetry,a=n.handleTempSubmissionId,s=r("./node_modules/axios/dist/browser/axios.cjs"),u=r("./src/service-workers/submissionSyncUtils.js"),c=u.shouldRetryError,l=u.hasTempSubmissionIdInUrl;e.exports.y=function(e){var t=e.emailIds,r=e.submissionId,n=e.token,u=e.hasSubmissionQueue,p=void 0!==u&&u,f=e.hasEnableSubmissionRetry,d=void 0!==f&&f,y=p?"/api/internal/v1/submission/".concat(r,"/finish/").concat(n,"/email"):"/api/internal/submission/".concat(r,"/finish/").concat(n,"/email");try{return i(d,y)&&l(y)?void a({url:y,method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},data:{emailIds:t}}):s({url:y,credentials:"same-origin",method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},data:{emailIds:t}}).then((function(e){return e.data})).catch((function(e){throw i(d,y)&&c(e)&&o(e,{url:y,method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},data:{emailIds:t}}),e}))}catch(e){console.log(e)}}},"./src/helpers/survey.js":(e,t,r)=>{"use strict";r.d(t,{Cn:()=>u,IL:()=>p,Q9:()=>l,Y1:()=>c,ch:()=>a,qb:()=>s}),r("./node_modules/lodash/isEmpty.js");var n=r("./src/constants/survey.js"),o=r("./server/commonConstants/questionTypes.js"),i=r("./node_modules/react-redux-toastr/lib/index.js");r("./src/helpers/i18n/index.js"),r("./server/commonUtils/questions.js"),r("./node_modules/dompurify/dist/purify.js"),window.toastr=i.ih;var a=function(e){return e.type===o.questionTypes.CESScore.name||e.type===o.questionTypes.CSATScore.name||e.type===o.questionTypes.NPSScore.name||e.type===o.questionTypes.NPSFeedback.name||e.type===o.questionTypes.CESFeedback.name||e.type===o.questionTypes.CSATFeedback.name?e.id:-1},s=function(e,t){var r=t.find((function(t){return e.id===t.question_id}));return r&&r.question_id||-1},u=function(e){return[n.At.NPS.name,n.At.NPSChat.name,n.At.CES.name,n.At.CESChat.name,n.At.CSAT.name,n.At.CSATChat.name].includes(e)},c=function(e){return[n.At.NPSChat.name,n.At.CESChat.name,n.At.CSATChat.name].includes(e)},l=function(e){return[n.At.NPS.name,n.At.CES.name,n.At.CSAT.name].includes(e)},p=function(e){return[n.At.Employee360.name,n.At.ClassicForm.name,n.At.NPS.name,n.At.CES.name,n.At.CSAT.name].includes(e)}},"./src/helpers/targetEnvironmentHelpers.js":(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n=function(){return navigator.maxTouchPoints>0||"ontouchstart"in window||navigator.msMaxTouchPoints>0}},"./src/helpers/teams.js":(e,t,r)=>{"use strict";r.d(t,{TA:()=>o,gc:()=>i,st:()=>a});var n=r("./node_modules/@microsoft/teams-js/dist/MicrosoftTeams.min.js");r("./src/constants/integration.js"),r("./node_modules/axios/index.js"),r("./src/helpers/queryString.js"),r("./node_modules/react-redux-toastr/lib/index.js"),r("./src/helpers/i18n/index.js");var o=function(){n.initialize(),n.appInitialization.notifySuccess()},i=function(){n.tasks.startTask()},a=function(){n.tasks.submitTask()}},"./src/helpers/theme.js":(e,t,r)=>{"use strict";r.d(t,{i:()=>u});var n=r("./node_modules/webfontloader/webfontloader.js"),o=r.n(n),i=r("./server/commonConstants/themes.js");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=[],u=function(e,t){window.addEventListener("message",(function(r){if("THEME_UPDATE"===r.data.type){var n=r.data.themeInfo,u=n.fonts,c=n.cssString,l=n.css,p=u.filter((function(e){return!s.includes(e)}));s.push.apply(s,function(e){if(Array.isArray(e))return a(e)}(v=p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u.length>0&&o().load({custom:{families:p,urls:p.map((function(e){return(0,i.getFontUrl)(e)}))}});var f=document.getElementById("theme-styles"),d=document.createElement("style");if(d.setAttribute("id","theme-styles"),d.innerHTML=c,f&&document.head.removeChild(f),document.head.appendChild(d),null!=t&&t.isInAppWidget&&null!=t&&t.inAppCallback&&t.inAppCallback(r.data),"OfflineApp"!==e){var y=document.getElementById("theme-custom-css"),m=document.createElement("style");m.setAttribute("id","theme-custom-css"),m.innerHTML=l,f&&document.head.removeChild(y),document.head.appendChild(m)}}var v}))}},"./src/helpers/toastMessageFactory.js":(e,t,r)=>{"use strict";r.d(t,{q:()=>u});var n=r("./src/constants/toast.js"),o=r("./src/helpers/i18n/index.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:n.k.ERROR,header:o.F2.t("eui.validation.noInternetForPartialSubSync.header"),message:o.F2.t("eui.validation.noInternetForPartialSubSync.info")},e)}},"./src/helpers/units.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={formatBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(r))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}}},"./node_modules/draft-js-export-html/esm/helpers/combineOrderedStyles.js":(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>a});const a=function(e,t){if(null==e)return t;for(var r=(d=2,function(e){if(Array.isArray(e))return e}(f=t)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),n=r[0],i=r[1],a=o({},n),s=function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i),u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];if(n.hasOwnProperty(l)){var p=n[l];a[l]=o({},p,{},e[l])}else a[l]=e[l],s.push(l)}var f,d;return[a,s]}},"./node_modules/draft-js-export-html/esm/helpers/normalizeAttributes.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};const o=function(e){if(null==e)return e;for(var t={},r=!1,o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],s=a;n.hasOwnProperty(a)&&(s=n[a],r=!0),t[s]=e[a]}return r?t:e}},"./node_modules/draft-js-export-html/esm/helpers/styleToCSS.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=/^(moz|ms|o|webkit)-/,o=/^\d+$/,i=/([A-Z])/g,a={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const s=function(e){return Object.keys(e).map((function(t){var r=function(e,t){var r;return"string"==typeof t?r=o.test(t):(r=!0,t=String(t)),r&&"0"!==t&&!0!==a[e]?t+"px":t}(t,e[t]),s=function(e){return e.replace(i,"-$1").toLowerCase().replace(n,"-$1-")}(t);return"".concat(s,": ").concat(r)})).join("; ")}},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,u,"next",e)}function u(e){n(a,o,i,s,u,"throw",e)}s(void 0)}))}}r.d(t,{A:()=>o})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.A)(o.key),o)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/@babel/runtime/helpers/esm/createSuper.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(o=function(){return!!e})()}var i=r("./node_modules/@babel/runtime/helpers/esm/typeof.js"),a=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function s(e){var t=o();return function(){var r,o=(0,n.A)(e);if(t){var s=(0,n.A)(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"==(0,i.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.A)(e)}(this,r)}}},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function o(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/esm/extends.js":(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/get.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=(0,n.A)(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},o.apply(null,arguments)}},"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.A)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(e,t,r)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(e,t,r)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function o(e,t){if(null==e)return{};var r,o,i=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js");function o(){o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:P(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",m="suspendedYield",v="executing",h="completed",b={};function g(){}function _(){}function w(){}var O={};p(O,u,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(k([])));E&&E!==r&&i.call(E,u)&&(O=E);var S=w.prototype=g.prototype=Object.create(O);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==(0,n.A)(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function P(t,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError((0,n.A)(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),p(S,l,"Generator"),p(S,u,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),o=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),i=r("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function a(e,t){return(0,n.A)(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||(0,o.A)(e,t)||(0,i.A)()}},"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js":(e,t,r)=>{"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/toArray.js":(e,t,r)=>{"use strict";r("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),r("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),r("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js")},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js"),o=r("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),i=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function a(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,o.A)(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js");function o(e){var t=function(e){if("object"!=(0,n.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=(0,n.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,n.A)(t)?t:t+""}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function o(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},"./node_modules/@swc/helpers/esm/_class_private_field_init.js":(e,t,r)=>{"use strict";function n(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}r.d(t,{_:()=>n})},"./node_modules/axios/lib/helpers/AxiosURLSearchParams.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/axios/lib/helpers/toFormData.js");function o(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function i(e,t){this._pairs=[],e&&(0,n.A)(e,this,t)}const a=i.prototype;a.append=function(e,t){this._pairs.push([e,t])},a.toString=function(e){const t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const s=i},"./node_modules/axios/lib/helpers/HttpStatusCode.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(n).forEach((([e,t])=>{n[t]=e}));const o=n},"./node_modules/axios/lib/helpers/bind.js":(e,t,r)=>{"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}r.d(t,{A:()=>n})},"./node_modules/axios/lib/helpers/buildURL.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/helpers/AxiosURLSearchParams.js");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a(e,t,r){if(!t)return e;const a=r&&r.encode||i,s=r&&r.serialize;let u;if(u=s?s(t,r):n.A.isURLSearchParams(t)?t.toString():new o.A(t,r).toString(a),u){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+u}return e}},"./node_modules/axios/lib/helpers/combineURLs.js":(e,t,r)=>{"use strict";function n(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}r.d(t,{A:()=>n})},"./node_modules/axios/lib/helpers/composeSignals.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/axios/lib/cancel/CanceledError.js"),o=r("./node_modules/axios/lib/core/AxiosError.js"),i=r("./node_modules/axios/lib/utils.js");const a=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const s=function(e){if(!r){r=!0,c();const t=e instanceof Error?e:this.reason;a.abort(t instanceof o.A?t:new n.A(t instanceof Error?t.message:t))}};let u=t&&setTimeout((()=>{u=null,s(new o.A(`timeout ${t} of ms exceeded`,o.A.ETIMEDOUT))}),t);const c=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:l}=a;return l.unsubscribe=()=>i.A.asap(c),l}}},"./node_modules/axios/lib/helpers/formDataToJSON.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/axios/lib/utils.js");const o=function(e){function t(e,r,o,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),u=i>=e.length;return a=!a&&n.A.isArray(o)?o.length:a,u?(n.A.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):(o[a]&&n.A.isObject(o[a])||(o[a]=[]),t(e,r,o[a],i)&&n.A.isArray(o[a])&&(o[a]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}(o[a])),!s)}if(n.A.isFormData(e)&&n.A.isFunction(e.entries)){const r={};return n.A.forEachEntry(e,((e,o)=>{t(function(e){return n.A.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),o,r,0)})),r}return null}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":(e,t,r)=>{"use strict";function n(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}r.d(t,{A:()=>n})},"./node_modules/axios/lib/helpers/isAxiosError.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/axios/lib/utils.js");function o(e){return n.A.isObject(e)&&!0===e.isAxiosError}},"./node_modules/axios/lib/helpers/null.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=null},"./node_modules/axios/lib/helpers/parseHeaders.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=r("./node_modules/axios/lib/utils.js").A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o=e=>{const t={};let r,o,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),o=e.substring(i+1).trim(),!r||t[r]&&n[r]||("set-cookie"===r?t[r]?t[r].push(o):t[r]=[o]:t[r]=t[r]?t[r]+", "+o:o)})),t}},"./node_modules/axios/lib/helpers/parseProtocol.js":(e,t,r)=>{"use strict";function n(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}r.d(t,{A:()=>n})},"./node_modules/axios/lib/helpers/progressEventReducer.js":(e,t,r)=>{"use strict";r.d(t,{mM:()=>a,Vj:()=>i,C1:()=>o});var n=r("./node_modules/axios/lib/utils.js");const o=(e,t,r=3)=>{let n=0;const o=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const u=Date.now(),c=n[a];o||(o=u),r[i]=s,n[i]=u;let l=a,p=0;for(;l!==i;)p+=r[l++],l%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(1e3*p/f):void 0}}(50,250);return function(e,t){let r,n,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(r=e,n||(n=setTimeout((()=>{n=null,a(r)}),i-s)))},()=>r&&a(r)]}((r=>{const i=r.loaded,a=r.lengthComputable?r.total:void 0,s=i-n,u=o(s);n=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i<=a?(a-i)/u:void 0,event:r,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),r)},i=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},a=e=>(...t)=>n.A.asap((()=>e(...t)))},"./node_modules/axios/lib/helpers/resolveConfig.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r("./node_modules/axios/lib/platform/index.js"),o=r("./node_modules/axios/lib/utils.js");const i=n.A.hasStandardBrowserEnv?function(){const e=n.A.navigator&&/(msie|trident)/i.test(n.A.navigator.userAgent),t=document.createElement("a");let r;function i(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(e){const t=o.A.isString(e)?i(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},a=n.A.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const s=[e+"="+encodeURIComponent(t)];o.A.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),o.A.isString(n)&&s.push("path="+n),o.A.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};var s=r("./node_modules/axios/lib/core/buildFullPath.js"),u=r("./node_modules/axios/lib/core/mergeConfig.js"),c=r("./node_modules/axios/lib/core/AxiosHeaders.js"),l=r("./node_modules/axios/lib/helpers/buildURL.js");const p=e=>{const t=(0,u.A)({},e);let r,{data:p,withXSRFToken:f,xsrfHeaderName:d,xsrfCookieName:y,headers:m,auth:v}=t;if(t.headers=m=c.A.from(m),t.url=(0,l.A)((0,s.A)(t.baseURL,t.url),e.params,e.paramsSerializer),v&&m.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),o.A.isFormData(p))if(n.A.hasStandardBrowserEnv||n.A.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(!1!==(r=m.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];m.setContentType([e||"multipart/form-data",...t].join("; "))}if(n.A.hasStandardBrowserEnv&&(f&&o.A.isFunction(f)&&(f=f(t)),f||!1!==f&&i(t.url))){const e=d&&y&&a.read(y);e&&m.set(d,e)}return t}},"./node_modules/axios/lib/helpers/spread.js":(e,t,r)=>{"use strict";function n(e){return function(t){return e.apply(null,t)}}r.d(t,{A:()=>n})},"./node_modules/axios/lib/helpers/toFormData.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/core/AxiosError.js"),i=r("./node_modules/axios/lib/helpers/null.js"),a=r("./node_modules/buffer/index.js").Buffer;function s(e){return n.A.isPlainObject(e)||n.A.isArray(e)}function u(e){return n.A.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,r){return e?e.concat(t).map((function(e,t){return e=u(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const l=n.A.toFlatObject(n.A,{},null,(function(e){return/^is[A-Z]/.test(e)})),p=function(e,t,r){if(!n.A.isObject(e))throw new TypeError("target must be an object");t=t||new(i.A||FormData);const p=(r=n.A.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!n.A.isUndefined(t[e])}))).metaTokens,f=r.visitor||h,d=r.dots,y=r.indexes,m=(r.Blob||"undefined"!=typeof Blob&&Blob)&&n.A.isSpecCompliantForm(t);if(!n.A.isFunction(f))throw new TypeError("visitor must be a function");function v(e){if(null===e)return"";if(n.A.isDate(e))return e.toISOString();if(!m&&n.A.isBlob(e))throw new o.A("Blob is not supported. Use a Buffer instead.");return n.A.isArrayBuffer(e)||n.A.isTypedArray(e)?m&&"function"==typeof Blob?new Blob([e]):a.from(e):e}function h(e,r,o){let i=e;if(e&&!o&&"object"==typeof e)if(n.A.endsWith(r,"{}"))r=p?r:r.slice(0,-2),e=JSON.stringify(e);else if(n.A.isArray(e)&&function(e){return n.A.isArray(e)&&!e.some(s)}(e)||(n.A.isFileList(e)||n.A.endsWith(r,"[]"))&&(i=n.A.toArray(e)))return r=u(r),i.forEach((function(e,o){!n.A.isUndefined(e)&&null!==e&&t.append(!0===y?c([r],o,d):null===y?r:r+"[]",v(e))})),!1;return!!s(e)||(t.append(c(o,r,d),v(e)),!1)}const b=[],g=Object.assign(l,{defaultVisitor:h,convertValue:v,isVisitable:s});if(!n.A.isObject(e))throw new TypeError("data must be an object");return function e(r,o){if(!n.A.isUndefined(r)){if(-1!==b.indexOf(r))throw Error("Circular reference detected in "+o.join("."));b.push(r),n.A.forEach(r,(function(r,i){!0===(!(n.A.isUndefined(r)||null===r)&&f.call(t,r,n.A.isString(i)?i.trim():i,o,g))&&e(r,o?o.concat(i):[i])})),b.pop()}}(e),t}},"./node_modules/axios/lib/helpers/toURLEncodedForm.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/helpers/toFormData.js"),i=r("./node_modules/axios/lib/platform/index.js");function a(e,t){return(0,o.A)(e,new i.A.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,o){return i.A.isNode&&n.A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}},"./node_modules/axios/lib/helpers/trackStream.js":(e,t,r)=>{"use strict";r.d(t,{E9:()=>o});const n=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},o=(e,t,r,o)=>{const i=async function*(e,t){for await(const r of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}}(e))yield*n(r,t)}(e,t);let a,s=0,u=e=>{a||(a=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return u(),void e.close();let o=n.byteLength;if(r){let e=s+=o;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw u(e),e}},cancel:e=>(u(e),i.return())},{highWaterMark:2})}},"./node_modules/axios/lib/helpers/validator.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/axios/lib/env/data.js"),o=r("./node_modules/axios/lib/core/AxiosError.js");const i={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const a={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n.x+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new o.A(i(n," has been removed"+(t?" in "+t:"")),o.A.ERR_DEPRECATED);return t&&!a[n]&&(a[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}};const s={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o.A("options must be an object",o.A.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new o.A("option "+a+" must be "+r,o.A.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o.A("Unknown option "+a,o.A.ERR_BAD_OPTION)}},validators:i}},"./node_modules/libphonenumber-js/es6/helpers/RFC3966.js":(e,t,r)=>{"use strict";function n(e){var t=e.number,r=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(r?";ext="+r:"")}r.d(t,{h:()=>n}),r("./node_modules/libphonenumber-js/es6/helpers/isViablePhoneNumber.js")},"./node_modules/libphonenumber-js/es6/helpers/applyInternationalSeparatorStyle.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/libphonenumber-js/es6/constants.js");function o(e){return e.replace(new RegExp("[".concat(n.uD,"]+"),"g")," ").trim()}},"./node_modules/libphonenumber-js/es6/helpers/checkNumberLength.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return i(e,void 0,t)}function i(e,t,r){var o=r.type(t),a=o&&o.possibleLengths()||r.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!r.type("FIXED_LINE"))return i(e,"MOBILE",r);var s=r.type("MOBILE");s&&(a=function(e,t){for(var r,o=e.slice(),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=i()).done;){var a=r.value;e.indexOf(a)<0&&o.push(a)}return o.sort((function(e,t){return e-t}))}(a,s.possibleLengths()))}else if(t&&!o)return"INVALID_LENGTH";var u=e.length,c=a[0];return c===u?"IS_POSSIBLE":c>u?"TOO_SHORT":a[a.length-1]<u?"TOO_LONG":a.indexOf(u,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}r.d(t,{A:()=>o})},"./node_modules/libphonenumber-js/es6/helpers/extension/createExtensionPattern.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/libphonenumber-js/es6/constants.js"),o=";ext=",i=function(e){return"([".concat(n.OA,"]{1,").concat(e,"})")};function a(e){var t="[ \\t,]*",r="[:\\.]?[ \\t,-]*",n="#?",a="[ \\t]*";return o+i("20")+"|"+t+"(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)"+r+i("20")+"#?|"+t+"(?:[x#~]|int|)"+r+i("9")+"#?|[- ]+"+i("6")+"#|"+a+"(?:,{2}|;)"+r+i("15")+"#?|"+a+"(?:,)+"+r+i("9")+n}},"./node_modules/libphonenumber-js/es6/helpers/extension/extractExtension.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/libphonenumber-js/es6/helpers/extension/createExtensionPattern.js"),o=new RegExp("(?:"+(0,n.A)()+")$","i");function i(e){var t=e.search(o);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(o),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}},"./node_modules/libphonenumber-js/es6/helpers/extractCountryCallingCode.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/libphonenumber-js/es6/helpers/stripIddPrefix.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js"),i=r("./node_modules/libphonenumber-js/es6/metadata.js"),a=r("./node_modules/libphonenumber-js/es6/constants.js");function s(e,t,r,s){if(!e)return{};var u;if("+"!==e[0]){var c=(0,n.A)(e,t,r,s);if(!c||c===e){if(t||r){var l=(0,o.A)(e,t,r,s),p=l.countryCallingCode,f=l.number;if(p)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:p,number:f}}return{number:e}}u=!0,e="+"+c}if("0"===e[1])return{};s=new i.Ay(s);for(var d=2;d-1<=a.Jq&&d<=e.length;){var y=e.slice(1,d);if(s.hasCallingCode(y))return s.selectNumberingPlan(y),{countryCallingCodeSource:u?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:y,number:e.slice(d)};d++}return{}}},"./node_modules/libphonenumber-js/es6/helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r("./node_modules/libphonenumber-js/es6/metadata.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/matchesEntirely.js"),i=r("./node_modules/libphonenumber-js/es6/helpers/extractNationalNumber.js"),a=r("./node_modules/libphonenumber-js/es6/helpers/checkNumberLength.js"),s=r("./node_modules/libphonenumber-js/es6/getCountryCallingCode.js");function u(e,t,r,u){var c=t?(0,s.A)(t,u):r;if(0===e.indexOf(c)){(u=new n.Ay(u)).selectNumberingPlan(t,r);var l=e.slice(c.length),p=(0,i.A)(l,u).nationalNumber,f=(0,i.A)(e,u).nationalNumber;if(!(0,o.A)(f,u.nationalNumberPattern())&&(0,o.A)(p,u.nationalNumberPattern())||"TOO_LONG"===(0,a.A)(f,u))return{countryCallingCode:c,number:l}}return{number:e}}},"./node_modules/libphonenumber-js/es6/helpers/extractFormattedPhoneNumberFromPossibleRfc3966NumberUri.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r("./node_modules/libphonenumber-js/es6/constants.js"),o="+",i="(["+n.OA+"]|[\\-\\.\\(\\)]?)",a="^\\"+o+i+"*["+n.OA+"]"+i+"*$",s=new RegExp(a,"g"),u=n.OA,c=new RegExp("^(["+u+"]+((\\-)*["+u+"])*\\.)*[a-zA-Z]+((\\-)*["+u+"])*\\.?$","g"),l="tel:",p=";phone-context=",f=";isub=",d=r("./node_modules/libphonenumber-js/es6/ParseError.js");function y(e,t){var r,n=t.extractFormattedPhoneNumber,i=function(e){var t=e.indexOf(p);if(t<0)return null;var r=t+p.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)}(e);if(!function(e){return null===e||0!==e.length&&(s.test(e)||c.test(e))}(i))throw new d.A("NOT_A_NUMBER");if(null===i)r=n(e)||"";else{r="",i.charAt(0)===o&&(r+=i);var a,u=e.indexOf(l);a=u>=0?u+l.length:0;var y=e.indexOf(p);r+=e.substring(a,y)}var m=r.indexOf(f);if(m>0&&(r=r.substring(0,m)),""!==r)return r}},"./node_modules/libphonenumber-js/es6/helpers/extractNationalNumber.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/libphonenumber-js/es6/helpers/extractNationalNumberFromPossiblyIncompleteNumber.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/matchesEntirely.js"),i=r("./node_modules/libphonenumber-js/es6/helpers/checkNumberLength.js");function a(e,t){var r=(0,n.A)(e,t),a=r.carrierCode,s=r.nationalNumber;if(s!==e){if(!function(e,t,r){return!((0,o.A)(e,r.nationalNumberPattern())&&!(0,o.A)(t,r.nationalNumberPattern()))}(e,s,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch((0,i.A)(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(s,t))return{nationalNumber:e}}return{nationalNumber:s,carrierCode:a}}},"./node_modules/libphonenumber-js/es6/helpers/extractNationalNumberFromPossiblyIncompleteNumber.js":(e,t,r)=>{"use strict";function n(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(e);if(n){var o,i,a,s=n.length-1,u=s>0&&n[s];if(t.nationalPrefixTransformRule()&&u)o=e.replace(r,t.nationalPrefixTransformRule()),s>1&&(i=n[1]);else{var c=n[0];o=e.slice(c.length),u&&(i=n[1])}if(u){var l=e.indexOf(n[1]);e.slice(0,l)===t.numberingPlan.nationalPrefix()&&(a=t.numberingPlan.nationalPrefix())}else a=n[0];return{nationalNumber:o,nationalPrefix:a,carrierCode:i}}}return{nationalNumber:e}}r.d(t,{A:()=>n})},"./node_modules/libphonenumber-js/es6/helpers/formatNationalNumberUsingFormat.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i,_:()=>o});var n=r("./node_modules/libphonenumber-js/es6/helpers/applyInternationalSeparatorStyle.js"),o=/(\$\d)/;function i(e,t,r){var i=r.useInternationalFormat,a=r.withNationalPrefix,s=(r.carrierCode,r.metadata,e.replace(new RegExp(t.pattern()),i?t.internationalFormat():a&&t.nationalPrefixFormattingRule()?t.format().replace(o,t.nationalPrefixFormattingRule()):t.format()));return i?(0,n.A)(s):s}},"./node_modules/libphonenumber-js/es6/helpers/getCountryByCallingCode.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/libphonenumber-js/es6/helpers/getCountryByNationalNumber.js"),o=!1;function i(e,t){var r=t.nationalNumber,i=t.defaultCountry,a=t.metadata;if(o&&a.isNonGeographicCallingCode(e))return"001";var s=a.getCountryCodesForCallingCode(e);return s?1===s.length?s[0]:(0,n.A)(r,{countries:s,defaultCountry:i,metadata:a.metadata}):void 0}},"./node_modules/libphonenumber-js/es6/helpers/getCountryByNationalNumber.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/libphonenumber-js/es6/metadata.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/getNumberType.js");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=t.countries,a=(t.defaultCountry,t.metadata);a=new n.Ay(a);for(var s,u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(s=u()).done;){var c=s.value;if(a.country(c),a.leadingDigits()){if(e&&0===e.search(a.leadingDigits()))return c}else if((0,o.A)({phone:e,country:c},void 0,a.metadata))return c}}},"./node_modules/libphonenumber-js/es6/helpers/getIddPrefix.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/libphonenumber-js/es6/metadata.js"),o=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function i(e,t,r){var i=new n.Ay(r);return i.selectNumberingPlan(e,t),i.defaultIDDPrefix()?i.defaultIDDPrefix():o.test(i.IDDPrefix())?i.IDDPrefix():void 0}},"./node_modules/libphonenumber-js/es6/helpers/getNumberType.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/libphonenumber-js/es6/metadata.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/matchesEntirely.js");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function s(e,t,r){if(t=t||{},e.country||e.countryCallingCode){(r=new n.Ay(r)).selectNumberingPlan(e.country,e.countryCallingCode);var s=t.v2?e.nationalNumber:e.phone;if((0,o.A)(s,r.nationalNumberPattern())){if(u(s,"FIXED_LINE",r))return r.type("MOBILE")&&""===r.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":r.type("MOBILE")?u(s,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var c,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a);!(c=l()).done;){var p=c.value;if(u(s,p,r))return p}}}}function u(e,t,r){return!(!(t=r.type(t))||!t.pattern())&&!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&(0,o.A)(e,t.pattern())}},"./node_modules/libphonenumber-js/es6/helpers/getPossibleCountriesForNumber.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/libphonenumber-js/es6/metadata.js");function o(e,t,r){var o=new n.Ay(r).getCountryCodesForCallingCode(e);return o?o.filter((function(e){return function(e,t,r){var o=new n.Ay(r);return o.selectNumberingPlan(t),o.numberingPlan.possibleLengths().indexOf(e.length)>=0}(t,e,r)})):[]}},"./node_modules/libphonenumber-js/es6/helpers/isObject.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n={}.constructor;function o(e){return null!=e&&e.constructor===n}},"./node_modules/libphonenumber-js/es6/helpers/isViablePhoneNumber.js":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,hQ:()=>u,hr:()=>p});var n=r("./node_modules/libphonenumber-js/es6/constants.js"),o=r("./node_modules/libphonenumber-js/es6/helpers/extension/createExtensionPattern.js"),i="["+n.OA+"]{"+n.c7+"}",a="["+n.tz+"]{0,1}(?:["+n.uD+"]*["+n.OA+"]){3,}["+n.uD+n.OA+"]*",s=new RegExp("^["+n.tz+"]{0,1}(?:["+n.uD+"]*["+n.OA+"]){1,2}$","i"),u=a+"(?:"+(0,o.A)()+")?",c=new RegExp("^"+i+"$|^"+u+"$","i");function l(e){return e.length>=n.c7&&c.test(e)}function p(e){return s.test(e)}},"./node_modules/libphonenumber-js/es6/helpers/matchesEntirely.js":(e,t,r)=>{"use strict";function n(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}r.d(t,{A:()=>n})},"./node_modules/libphonenumber-js/es6/helpers/parseDigits.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Ay:()=>a,ZW:()=>i});var o={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function i(e){return o[e]}function a(e){for(var t,r="",o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=o()).done;){var a=i(t.value);a&&(r+=a)}return r}},"./node_modules/libphonenumber-js/es6/helpers/stripIddPrefix.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r("./node_modules/libphonenumber-js/es6/metadata.js"),o=r("./node_modules/libphonenumber-js/es6/constants.js"),i=new RegExp("(["+o.OA+"])");function a(e,t,r,o){if(t){var a=new n.Ay(o);a.selectNumberingPlan(t,r);var s=new RegExp(a.IDDPrefix());if(0===e.search(s)){var u=(e=e.slice(e.match(s)[0].length)).match(i);if(!(u&&null!=u[1]&&u[1].length>0&&"0"===u[1]))return e}}}},"./node_modules/react-day-picker/dist/esm/helpers/calculateFocusTarget.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/UI.js");function o(e,t,r,o){let i,a=0,s=!1;for(;a<e.length&&!s;){const u=e[a],c=t(u);c[n.p.disabled]||c[n.p.hidden]||c[n.p.outside]||(c[n.p.focused]||o?.isEqualTo(u)||r(u.date)||c[n.p.today])&&(i=u,s=!0),a++}return i||(i=e.find((e=>{const r=t(e);return!r[n.p.disabled]&&!r[n.p.hidden]&&!r[n.p.outside]}))),i}},"./node_modules/react-day-picker/dist/esm/helpers/endOfBroadcastWeek.js":(e,t,r)=>{"use strict";r.d(t,{O:()=>a});const n=5,o=4;var i=r("./node_modules/react-day-picker/dist/esm/helpers/startOfBroadcastWeek.js");function a(e,t){const r=(0,i.l)(e,t),a=function(e,t){const r=t.startOfMonth(e),i=r.getDay()>0?r.getDay():7,a=t.addDays(e,1-i),s=t.addDays(a,7*n-1);return t.getMonth(e)===t.getMonth(s)?n:o}(e,t);return t.addDays(r,7*a-1)}},"./node_modules/react-day-picker/dist/esm/helpers/getClassNamesForModifiers.js":(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/UI.js");function o(e,t,r={}){return Object.entries(e).filter((([,e])=>!0===e)).reduce(((e,[o])=>(r[o]?e.push(r[o]):t[n.p[o]]?e.push(t[n.p[o]]):t[n.w[o]]&&e.push(t[n.w[o]]),e)),[t[n.UI.Day]])}},"./node_modules/react-day-picker/dist/esm/helpers/getComponents.js":(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/components/custom-components.js");function o(e){return{...n,...e}}},"./node_modules/react-day-picker/dist/esm/helpers/getDataAttributes.js":(e,t,r)=>{"use strict";function n(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach((([e,r])=>{e.startsWith("data-")&&(t[e]=r)})),t}r.d(t,{C:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getDates.js":(e,t,r)=>{"use strict";function n(e,t,r,n){const o=e[0],i=e[e.length-1],{ISOWeek:a,fixedWeeks:s,broadcastCalendar:u}=r??{},{addDays:c,differenceInCalendarDays:l,differenceInCalendarMonths:p,endOfBroadcastWeek:f,endOfISOWeek:d,endOfMonth:y,endOfWeek:m,isAfter:v,startOfBroadcastWeek:h,startOfISOWeek:b,startOfWeek:g}=n,_=u?h(o,n):a?b(o):g(o),w=l(u?f(i,n):a?d(y(i)):m(y(i)),_),O=p(i,o)+1,j=[];for(let e=0;e<=w;e++){const r=c(_,e);if(t&&v(r,t))break;j.push(r)}const E=(u?35:42)*O;if(s&&j.length<E){const e=E-j.length;for(let t=0;t<e;t++){const e=c(j[j.length-1],1);j.push(e)}}return j}r.d(t,{Y:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getDays.js":(e,t,r)=>{"use strict";function n(e){return e.reduce(((e,t)=>[...e,...t.weeks.reduce(((e,t)=>[...e,...t.days]),[])]),[])}r.d(t,{_:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getDefaultClassNames.js":(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/UI.js");function o(){const e={};for(const t in n.UI)e[n.UI[t]]=`rdp-${n.UI[t]}`;for(const t in n.p)e[n.p[t]]=`rdp-${n.p[t]}`;for(const t in n.w)e[n.w[t]]=`rdp-${n.w[t]}`;return e}},"./node_modules/react-day-picker/dist/esm/helpers/getDisplayMonths.js":(e,t,r)=>{"use strict";function n(e,t,r,n){const{numberOfMonths:o=1}=r,i=[];for(let r=0;r<o;r++){const o=n.addMonths(e,r);if(t&&o>t)break;i.push(o)}return i}r.d(t,{o:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getFormatters.js":(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/formatters/index.js");function o(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...n,...e}}},"./node_modules/react-day-picker/dist/esm/helpers/getInitialMonth.js":(e,t,r)=>{"use strict";function n(e,t){const{month:r,defaultMonth:n,today:o=t.today(),numberOfMonths:i=1,endMonth:a,startMonth:s}=e;let u=r||n||o;const{differenceInCalendarMonths:c,addMonths:l,startOfMonth:p}=t;return a&&c(a,u)<0&&(u=l(a,-1*(i-1))),s&&c(u,s)<0&&(u=s),p(u)}r.d(t,{Z:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getMonthOptions.js":(e,t,r)=>{"use strict";function n(e,t,r,n,o){const{startOfMonth:i,startOfYear:a,endOfYear:s,eachMonthOfInterval:u,getMonth:c}=o;return u({start:a(e),end:s(e)}).map((e=>{const a=n.formatMonthDropdown(e,o);return{value:c(e),label:a,disabled:t&&e<i(t)||r&&e>i(r)||!1}}))}r.d(t,{L:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getMonths.js":(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/classes/index.js");function o(e,t,r,o){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:s,endOfMonth:u,endOfWeek:c,getISOWeek:l,getWeek:p,startOfBroadcastWeek:f,startOfISOWeek:d,startOfWeek:y}=o,m=e.reduce(((e,m)=>{const v=r.broadcastCalendar?f(m,o):r.ISOWeek?d(m):y(m),h=r.broadcastCalendar?a(m,o):r.ISOWeek?s(u(m)):c(u(m)),b=t.filter((e=>e>=v&&e<=h)),g=r.broadcastCalendar?35:42;if(r.fixedWeeks&&b.length<g){const e=t.filter((e=>{const t=g-b.length;return e>h&&e<=i(h,t)}));b.push(...e)}const _=b.reduce(((e,t)=>{const i=r.ISOWeek?l(t):p(t),a=e.find((e=>e.weekNumber===i)),s=new n.P8(t,m,o);return a?a.days.push(s):e.push(new n.jA(i,[s])),e}),[]),w=new n.jK(m,_);return e.push(w),e}),[]);return r.reverseMonths?m.reverse():m}},"./node_modules/react-day-picker/dist/esm/helpers/getNavMonth.js":(e,t,r)=>{"use strict";function n(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:o,startOfDay:i,startOfMonth:a,endOfMonth:s,addYears:u,endOfYear:c,newDate:l,today:p}=t,{fromYear:f,toYear:d,fromMonth:y,toMonth:m}=e;!r&&y&&(r=y),!r&&f&&(r=t.newDate(f,0,1)),!n&&m&&(n=m),!n&&d&&(n=l(d,11,31));const v="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return r?r=a(r):f?r=l(f,0,1):!r&&v&&(r=o(u(e.today??p(),-100))),n?n=s(n):d?n=l(d,11,31):!n&&v&&(n=c(e.today??p())),[r?i(r):r,n?i(n):n]}r.d(t,{J:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getNextFocus.js":(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r("./node_modules/react-day-picker/dist/esm/classes/index.js"),o=r("./node_modules/react-day-picker/dist/esm/utils/dateMatchModifiers.js");function i(e,t,r,a,s,u,c,l=0){if(l>365)return;const p=function(e,t,r,n,o,i,a){const{ISOWeek:s,broadcastCalendar:u}=i,{addDays:c,addMonths:l,addWeeks:p,addYears:f,endOfBroadcastWeek:d,endOfISOWeek:y,endOfWeek:m,max:v,min:h,startOfBroadcastWeek:b,startOfISOWeek:g,startOfWeek:_}=a;let w={day:c,week:p,month:l,year:f,startOfWeek:e=>u?b(e,a):s?g(e):_(e),endOfWeek:e=>u?d(e,a):s?y(e):m(e)}[e](r,"after"===t?1:-1);return"before"===t&&n?w=v([n,w]):"after"===t&&o&&(w=h([o,w])),w}(e,t,r.date,a,s,u,c),f=Boolean(u.disabled&&(0,o.k)(p,u.disabled,c)),d=Boolean(u.hidden&&(0,o.k)(p,u.hidden,c)),y=p,m=new n.P8(p,y,c);return f||d?i(e,t,m,a,s,u,c,l+1):m}},"./node_modules/react-day-picker/dist/esm/helpers/getNextMonth.js":(e,t,r)=>{"use strict";function n(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:i=1}=r,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:u}=n,c=o?i:1,l=a(e);return t&&u(t,e)<i?void 0:s(l,c)}r.d(t,{Q:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getPreviousMonth.js":(e,t,r)=>{"use strict";function n(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:i}=r,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:u}=n,c=o?i??1:1,l=a(e);return t&&u(l,t)<=0?void 0:s(l,-c)}r.d(t,{E:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getStyleForModifiers.js":(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r("./node_modules/react-day-picker/dist/esm/UI.js");function o(e,t={},r={}){let o={...t?.[n.UI.Day]};return Object.entries(e).filter((([,e])=>!0===e)).forEach((([e])=>{o={...o,...r?.[e]}})),o}},"./node_modules/react-day-picker/dist/esm/helpers/getWeekdays.js":(e,t,r)=>{"use strict";function n(e,t,r){const n=e.today(),o=r?e.startOfBroadcastWeek(n,e):t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let t=0;t<7;t++){const r=e.addDays(o,t);i.push(r)}return i}r.d(t,{c:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getWeeks.js":(e,t,r)=>{"use strict";function n(e){return e.reduce(((e,t)=>[...e,...t.weeks]),[])}r.d(t,{C:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/getYearOptions.js":(e,t,r)=>{"use strict";function n(e,t,r,n){if(!e)return;if(!t)return;const{startOfYear:o,endOfYear:i,addYears:a,getYear:s,isBefore:u,isSameYear:c}=n,l=o(e),p=i(t),f=[];let d=l;for(;u(d,p)||c(d,p);)f.push(d),d=a(d,1);return f.map((e=>{const t=r.formatYearDropdown(e,n);return{value:s(e),label:t,disabled:!1}}))}r.d(t,{g:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/index.js":(e,t,r)=>{"use strict";r("./node_modules/react-day-picker/dist/esm/helpers/getDefaultClassNames.js")},"./node_modules/react-day-picker/dist/esm/helpers/startOfBroadcastWeek.js":(e,t,r)=>{"use strict";function n(e,t){const r=t.startOfMonth(e),n=r.getDay();return 1===n?r:0===n?t.addDays(r,-6):t.addDays(r,-1*(n-1))}r.d(t,{l:()=>n})},"./node_modules/react-day-picker/dist/esm/helpers/useControlledValue.js":(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var n=r("react");function o(e,t){const[r,o]=(0,n.useState)(e);return[void 0===t?r:t,o]}}}]);