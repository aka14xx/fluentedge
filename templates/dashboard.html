<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fluent Oman™ Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Cache-bust v=5 to force reload -->
  <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}?v=5" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet" />
</head>
<body data-build="v4">
  <!-- Loading Overlay (removed text) -->
  <div class="page-loader" id="pageLoader">
    <div class="loader-icon">🎓</div>
    <div class="loader-spinner"></div>
  </div>
  
  <!-- Copyright Header -->
  <div class="copyright-header">
    © 2025 Programmed & Designed by senior english teacher Aisha Al Rushaidi
  </div>
  
  <header class="dashboard-header">
    <div class="logo-area">
      <img src="{{ url_for('static', filename='images/fluent-oman-logo.png') }}" alt="Fluent Oman" class="big-logo" />
      <span class="logo-text">Fluent Oman™</span>
    </div>
    <div class="header-controls">
      <button class="set-weekly-goals-btn" id="weekly-goals-btn">Set Weekly Goals</button>
      <button class="star-btn">
        <span class="star-icon">⭐</span>
        <span class="star-count" id="star-count">102</span>
      </button>
      <div class="avatar-wrap">
        <img src="{{ url_for('static', filename='images/boys_avatar2.jpg') }}" alt="Avatar" class="avatar" id="avatar-btn" />
      </div>
    </div>
  </header>

  <div class="dashboard-greeting">
    <img src="{{ url_for('static', filename='images/boys_avatar2.jpg') }}" class="greet-avatar" id="greet-avatar" alt="Avatar" />
    <div class="greet-name-wrapper">
      <span class="greet" id="greet-name">Hi there! 👋</span>
      <button class="edit-name-btn" id="edit-name-btn" title="Change Name">✏️</button>
    </div>
  </div>

  <main class="dashboard-main">
    <nav class="dashboard-grades">
      <a href="/grades/grade5" class="grade-box grade5">
        <div class="grade-content"><span class="grade-num">5</span><span class="grade-label">Grade 5<br />Curriculum</span></div>
      </a>
      <a href="/grades/grade6" class="grade-box grade6">
        <div class="grade-content"><span class="grade-num">6</span><span class="grade-label">Grade 6<br />Curriculum</span></div>
      </a>
      <a href="/grades/grade7" class="grade-box grade7">
        <div class="grade-content"><span class="grade-num">7</span><span class="grade-label">Grade 7<br />Curriculum</span></div>
      </a>
      <a href="/grades/grade8" class="grade-box grade8">
        <div class="grade-content"><span class="grade-num">8</span><span class="grade-label">Grade 8<br />Curriculum</span></div>
      </a>
    </nav>

    <div class="dashboard-below-grades">
      <button class="below-btn ebooks-btn-large" id="ebooks-btn">📚 E-books</button>
      <button class="below-btn pronunciation-btn" id="pronunciation-btn">🎙️ Practice Pronunciation</button>
    </div>
  </main>

  <!-- Name Edit Modal -->
  <div id="name-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>What's Your Name?</h2>
      <div class="name-input-wrap">
        <input type="text" id="name-input" placeholder="Enter your name" maxlength="20" />
      </div>
      <button class="save-name-btn">Save</button>
      <button class="close-modal-btn" data-close="name-modal">Cancel</button>
    </div>
  </div>

  <!-- Avatar Selection Modal -->
  <div id="avatar-modal" class="modal" style="display: none;">
    <div class="modal-content avatar-modal-content">
      <h2>Choose Your Avatar</h2>
      <div class="avatar-options">
        <img src="{{ url_for('static', filename='images/boys_avatar1.JPG') }}" class="avatar-select" alt="Boy Avatar 1" />
        <img src="{{ url_for('static', filename='images/boys_avatar2.jpg') }}" class="avatar-select" alt="Boy Avatar 2" />
        <img src="{{ url_for('static', filename='images/boys_avatar3.jpg') }}" class="avatar-select" alt="Boy Avatar 3" />
        <img src="{{ url_for('static', filename='images/boys_avatar4.jpg') }}" class="avatar-select" alt="Boy Avatar 4" />
        <img src="{{ url_for('static', filename='images/girls_avatar1.jpg') }}" class="avatar-select" alt="Girl Avatar 1" />
        <img src="{{ url_for('static', filename='images/girls_avatar2.jpg') }}" class="avatar-select" alt="Girl Avatar 2" />
        <img src="{{ url_for('static', filename='images/girls_avatar3.jpg') }}" class="avatar-select" alt="Girl Avatar 3" />
        <img src="{{ url_for('static', filename='images/girls_avatar4.jpg') }}" class="avatar-select" alt="Girl Avatar 4" />
      </div>
      <button class="close-modal-btn" data-close="avatar-modal">Close</button>
    </div>
  </div>

  <!-- Weekly Goals Modal -->
  <div id="goals-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Set Weekly Goal</h2>
      <p class="modal-subtitle">How many lessons do you want to complete this week?</p>
      <div class="goal-input-wrap">
        <input type="number" id="goal-input" min="1" max="50" value="5" />
      </div>
      <button class="save-goal-btn">Save Goal</button>
      <button class="close-modal-btn" data-close="goals-modal">Cancel</button>
    </div>
  </div>

  <script src="{{ url_for('static', filename='dashboard.js') }}?v=4"></script>
  <script>
    // Hide loader when page is fully loaded
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('pageLoader').classList.add('hidden');
      }, 500);
    });
    
    // Fallback: hide loader after 3 seconds
    setTimeout(() => {
      document.getElementById('pageLoader').classList.add('hidden');
    }, 3000);
  </script>
</body>
</html>